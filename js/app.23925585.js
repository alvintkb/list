(function(){"use strict";var e={9530:function(e,t,a){var n=a(3751),o=a(641);const l=e=>((0,o.Qi)("data-v-ac1caf26"),e=e(),(0,o.jt)(),e),i=l((()=>(0,o.Lk)("img",{id:"scroll-to-section",class:"svg-icon",src:"img/Unifi-logo.svg",alt:"Unifi Home"},null,-1))),r=l((()=>(0,o.Lk)("span",null,"Home",-1))),s=l((()=>(0,o.Lk)("span",null,"About",-1)));function c(e,t,a,n,l,c){const d=(0,o.g2)("v-icon"),u=(0,o.g2)("v-btn"),m=(0,o.g2)("v-app-bar-nav-icon"),p=(0,o.g2)("v-toolbar-title"),h=(0,o.g2)("v-spacer"),g=(0,o.g2)("v-app-bar"),f=(0,o.g2)("v-list-item-icon"),b=(0,o.g2)("v-list-item-title"),v=(0,o.g2)("v-list-item"),k=(0,o.g2)("v-list-item-group"),y=(0,o.g2)("v-list"),C=(0,o.g2)("v-navigation-drawer"),w=(0,o.g2)("router-view"),I=(0,o.g2)("v-main"),F=(0,o.g2)("v-bottom-navigation"),x=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(x,null,{default:(0,o.k6)((()=>[(0,o.bF)(g,{app:"",color:"primary",dark:""},{default:(0,o.k6)((()=>[c.isSubPage?((0,o.uX)(),(0,o.Wv)(u,{key:0,onClick:c.goBack,icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-left")])),_:1})])),_:1},8,["onClick"])):((0,o.uX)(),(0,o.Wv)(m,{key:1,onClick:t[0]||(t[0]=e=>l.drawer=!l.drawer)})),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[i])),_:1}),(0,o.bF)(h),n.authStore.isAuthenticated?((0,o.uX)(),(0,o.Wv)(u,{key:2,onClick:c.logout,icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-logout")])),_:1})])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(C,{modelValue:l.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>l.drawer=e),app:"",temporary:""},{default:(0,o.k6)((()=>[(0,o.bF)(y,{nav:""},{default:(0,o.k6)((()=>[n.authStore.isAuthenticated?((0,o.uX)(),(0,o.Wv)(k,{key:0},{default:(0,o.k6)((()=>[(0,o.bF)(v,{to:"/home",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-home")])),_:1})])),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.eW)("Home")])),_:1})])),_:1}),(0,o.bF)(v,{to:"/about",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-information")])),_:1})])),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.eW)("About")])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(v,{to:"/",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-login")])),_:1})])),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.eW)("Login")])),_:1})])),_:1}),(0,o.bF)(v,{to:"/soc",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone")])),_:1})])),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.eW)("Auto Show")])),_:1})])),_:1}),(0,o.bF)(v,{to:"/snr",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-search")])),_:1})])),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.eW)("Contact List V2")])),_:1})])),_:1}),(0,o.bF)(v,{to:"/listProject",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-search")])),_:1})])),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.eW)("List Project")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(w)])),_:1}),n.authStore.isAuthenticated?((0,o.uX)(),(0,o.Wv)(F,{key:0,app:""},{default:(0,o.k6)((()=>[(0,o.bF)(u,{to:"/home",exact:""},{default:(0,o.k6)((()=>[r,(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-home")])),_:1})])),_:1}),(0,o.bF)(u,{to:"/about",exact:""},{default:(0,o.k6)((()=>[s,(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-information")])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0)])),_:1})}a(4114);var d=a(953);const u=(0,d.Kh)({isAuthenticated:"true"===localStorage.getItem("authenticated"),login(){this.isAuthenticated=!0,localStorage.setItem("authenticated","true")},logout(){this.isAuthenticated=!1,localStorage.removeItem("authenticated")}});var m={name:"App",setup(){return{authStore:u}},components:{},data(){return{drawer:!1,pageTitle:"My Image Slider",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"WINBACK",route:"/winback"},{src:"img/2.png",category:"BUSINESS",route:"/business"}]}},computed:{filteredImages(){return this.imagesArray},isSubPage(){const e=["/"];return!e.includes(this.$route.path)}},methods:{goBack(){this.$router.go(-1)},logout(){this.authStore.logout(),this.$router.push({name:"Login"})}},watch:{$route(e,t){console.log("Route changed from",t.path,"to",e.path)}}},p=a(6262);const h=(0,p.A)(m,[["render",c],["__scopeId","data-v-ac1caf26"]]);var g=h,f=a(6166),b=a(33);const v={class:"header"},k={class:"page-title"};function y(e,t,a,n,l,i){const r=(0,o.g2)("MySelector"),s=(0,o.g2)("MyPackage"),c=(0,o.g2)("MyReg"),d=(0,o.g2)("LaunchButton"),u=(0,o.g2)("tmReg"),m=(0,o.g2)("ImageUpLoader"),p=(0,o.g2)("CameraCapture");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",v,[(0,o.Lk)("h1",k,(0,b.v_)(l.pageTitle),1)]),(0,o.bF)(r,{plans:l.filteredPlans},null,8,["plans"]),(0,o.bF)(s,{pageTitle:l.pageTitle,plans:l.filteredPlans},null,8,["pageTitle","plans"]),(0,o.bF)(c),l.showLaunchButton?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(u,{project:l.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,o.bF)(m),(0,o.bF)(p)])}const C={key:0},w={key:1},I=["href"],F={key:2};function x(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>i.onFileChange&&i.onFileChange(...e))},null,32),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.uploadImage&&i.uploadImage(...e))},"Upload"),l.uploading?((0,o.uX)(),(0,o.CE)("p",C,"Uploading...")):(0,o.Q3)("",!0),l.imageUrl?((0,o.uX)(),(0,o.CE)("p",w,[(0,o.eW)("Image URL: "),(0,o.Lk)("a",{href:l.imageUrl,target:"_blank"},(0,b.v_)(l.imageUrl),9,I)])):(0,o.Q3)("",!0),l.error?((0,o.uX)(),(0,o.CE)("p",F,(0,b.v_)(l.error),1)):(0,o.Q3)("",!0)])}var L=a(4335),S={name:"ImageUploader",data(){return{file:null,imageUrl:"",uploading:!1,error:""}},methods:{onFileChange(e){this.file=e.target.files[0]},async uploadImage(){if(!this.file)return void(this.error="Please select an image file first.");this.uploading=!0,this.error="";const e=new FormData;e.append("file",this.file),e.append("upload_preset","telco_unifi");try{const t=await L.A.post("https://api.cloudinary.com/v1_1/alvin-tan/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}});this.imageUrl=t.data.secure_url}catch(t){t.response&&400===t.response.status?this.error="Bad Request: "+(t.response.data.error.message||"Invalid request parameters"):this.error="Error uploading image: "+t.message,console.error("Error uploading image:",t.response?t.response.data:t.message)}finally{this.uploading=!1}}}};const D=(0,p.A)(S,[["render",x],["__scopeId","data-v-4280697f"]]);var _=D;function R(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("button",{onClick:t[0]||(t[0]=(...e)=>n.goToAdContacts&&n.goToAdContacts(...e))},"View Ad Contacts")}var U={name:"LaunchButton",setup(){const e=(0,f.rd)(),t=()=>{e.push("/ad-contacts")};return{goToAdContacts:t}}};const N=(0,p.A)(U,[["render",R],["__scopeId","data-v-3c496bee"]]);var $=N;const E={class:"pricing-container"},A=["id"],P={class:"pricing-table"},V={class:"pricing-card"},M={class:"pricing-details"},T={key:0},W={class:"image-and-text"},O=["src","alt"],j={key:1},B={class:"svg-and-text"},X=["innerHTML"],J={key:2},H={key:3},q={class:"pricing-info"},K={class:"pricing-content"},Q={class:"pricing-action"},Y=["onClick"];function G(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",E,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.plans,((e,t)=>((0,o.uX)(),(0,o.CE)("section",{key:t,id:"pricing-section-"+(t+1),class:"pricing-section"},[(0,o.Lk)("div",P,[(0,o.Lk)("div",V,[(0,o.Lk)("div",M,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.features,((t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a},[i.isImage(t)?((0,o.uX)(),(0,o.CE)("div",T,[(0,o.Lk)("div",W,[(0,o.Lk)("img",{src:i.getImagePath(t).src,alt:e.title+" feature image",style:(0,b.Tr)(i.getImageStyle(t)),class:"feature-image"},null,12,O),(0,o.Lk)("h2",null,(0,b.v_)(i.getImagePath(t).text),1)])])):i.isSvg(t)?((0,o.uX)(),(0,o.CE)("div",j,[(0,o.Lk)("div",B,[(0,o.Lk)("div",{innerHTML:i.getSvgContent(t).svg},null,8,X),(0,o.Lk)("span",null,(0,b.v_)(i.getSvgContent(t).text),1)])])):i.isHtmlTag(t)?((0,o.uX)(),(0,o.CE)("div",J,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(i.getHtmlTagName(t)),null,{default:(0,o.k6)((()=>[(0,o.eW)((0,b.v_)(i.getHtmlTagContent(t)),1)])),_:2},1024))])):((0,o.uX)(),(0,o.CE)("div",H,(0,b.v_)(t),1))])))),128)),(0,o.Lk)("div",q,[(0,o.Lk)("p",null,(0,b.v_)(e.promo),1),(0,o.Lk)("p",null,(0,b.v_)(e.price),1)]),(0,o.Lk)("div",K,[(0,o.Lk)("p",null,(0,b.v_)(e.extra),1)]),(0,o.Lk)("div",Q,[(0,o.Lk)("button",{class:"apply-now-btn",onClick:t=>i.fillPackageName(e.title)},"Apply Now",8,Y)])])])])],8,A)))),128))])}var z={name:"MyPackage",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{fillPackageName(e){console.log(e),this.packageName=e,document.getElementById("registration-form").scrollIntoView({behavior:"smooth"})},isImage(e){return e.startsWith("image:")},getImagePath(e){const t=e.split(","),a=t[0].split("image:")[1].trim(),n=t[3]?t[3].trim():"";return{src:a,text:n}},getImageStyle(e){const t=e.split(","),a=t[1]?t[1].split("=")[1].trim()+"px":"auto",n=t[2]?t[2].split("=")[1].trim()+"px":"auto";return{width:a,height:n}},isSvg(e){return e.startsWith("svg:")},getSvgContent(e){const[t,...a]=e.split("svg:")[1].split(","),n=t.trim(),o=a.shift().trim();return{svg:`<svg ${n}>${o}</svg>`,text:a.join(",").trim()}},isHtmlTag(e){return e.match(/^[a-zA-Z0-9]+:/)},getHtmlTagName(e){return e.split(":")[0]},getHtmlTagContent(e){return e.split(":")[1].trim()}}};const Z=(0,p.A)(z,[["render",G]]);var ee=Z;const te={class:"container"},ae={class:"selector-wrapper"},ne=["src","alt","onClick"],oe=["value"],le=(0,o.Lk)("span",{class:"sd-tick"},null,-1),ie={class:"selector-title"},re=(0,o.Lk)("div",{class:"device-pair txt-small d-none"}," Pair with your Unifi subscription ",-1);function se(e,t,a,l,i,r){return(0,o.uX)(),(0,o.CE)("div",te,[(0,o.Lk)("div",ae,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.plans,((a,l)=>((0,o.uX)(),(0,o.CE)("label",{key:l,class:"sd-label selector-label"},[(0,o.Lk)("img",{class:"svg-icon",src:a.image,alt:a.title,onClick:e=>r.scrollToSection("pricing-section-"+(l+1))},null,8,ne),(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"sd-radio",name:"plan",value:a.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedPlan=t)},null,8,oe),[[n.XL,e.selectedPlan]]),le,(0,o.Lk)("div",ie,(0,b.v_)(a.price),1)])))),128)),re])])}var ce={name:"MySelector",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{scrollToSection(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}}};const de=(0,p.A)(ce,[["render",se]]);var ue=de;const me=e=>((0,o.Qi)("data-v-202c1f5f"),e=e(),(0,o.jt)(),e),pe=me((()=>(0,o.Lk)("h1",{id:"registration-form"},"Registration Form",-1))),he={class:"form-container"},ge=me((()=>(0,o.Lk)("h3",null,"Fill up your details and we would be delighted to assist you",-1))),fe={class:"form-group"},be={key:0,for:"project"},ve={class:"form-group"},ke={key:0,for:"name"},ye={class:"form-group"},Ce={key:0,for:"phone"},we={class:"form-group"},Ie={key:0,for:"email"},Fe={class:"form-group"},xe={key:0,for:"address"},Le={class:"form-group"},Se={key:0,for:"message"},De=me((()=>(0,o.Lk)("label",{for:"appointmentDate"},"Installation Schedule:",-1))),_e={class:"form-group"},Re={class:"form-row"},Ue={class:"form-group"},Ne=me((()=>(0,o.Lk)("label",{for:"preferredInstallationDate"},"Preferred Installation Date (dd/mm/yyyy):",-1))),$e={class:"form-group"},Ee=me((()=>(0,o.Lk)("label",{for:"nationality"},"Nationality:",-1))),Ae={class:"form-group"},Pe=me((()=>(0,o.Lk)("label",{for:"icFront"},"IC Front:",-1))),Ve={class:"form-group"},Me=me((()=>(0,o.Lk)("label",{for:"icBack"},"IC Back:",-1))),Te={class:"form-group"},We=me((()=>(0,o.Lk)("label",{for:"utilityBills"},"Utility Bills (Electric or Water):",-1))),Oe=["disabled"],je=me((()=>(0,o.Lk)("br",null,null,-1)));function Be(e,t,a,l,i,r){const s=(0,o.g2)("popUp2"),c=(0,o.g2)("TermsConditions");return(0,o.uX)(),(0,o.CE)(o.FK,null,[pe,(0,o.Lk)("div",he,[ge,(0,o.Lk)("form",{onSubmit:t[15]||(t[15]=(0,n.D$)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",fe,[l.localPackage?((0,o.uX)(),(0,o.CE)("label",be,"Package Name:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"package","onUpdate:modelValue":t[0]||(t[0]=e=>l.localPackage=e),name:"package-name",placeholder:"Package*",required:""},null,512),[[n.Jo,l.localPackage]])]),(0,o.Lk)("div",ve,[l.name?((0,o.uX)(),(0,o.CE)("label",ke,"Name:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>l.name=e),placeholder:"Name*",required:""},null,512),[[n.Jo,l.name]])]),(0,o.Lk)("div",ye,[l.phone?((0,o.uX)(),(0,o.CE)("label",Ce,"Phone:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"tel",id:"phone","onUpdate:modelValue":t[2]||(t[2]=t=>e.formattedPhone=t),onInput:t[3]||(t[3]=(...e)=>l.formatPhone&&l.formatPhone(...e)),placeholder:"Phone*",required:""},null,544),[[n.Jo,e.formattedPhone]])]),(0,o.Lk)("div",we,[l.email?((0,o.uX)(),(0,o.CE)("label",Ie,"Email:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>l.email=e),placeholder:"Email*",required:""},null,512),[[n.Jo,l.email]])]),(0,o.Lk)("div",Fe,[l.address?((0,o.uX)(),(0,o.CE)("label",xe,"Installation Address:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"address","onUpdate:modelValue":t[5]||(t[5]=e=>l.address=e),placeholder:"Installation Address*",required:""},null,512),[[n.Jo,l.address]])]),(0,o.Lk)("div",Le,[l.message?((0,o.uX)(),(0,o.CE)("label",Se,"Additional Info:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("textarea",{class:"white-text",id:"message","onUpdate:modelValue":t[6]||(t[6]=e=>l.message=e),placeholder:"Additional Info*",required:""},null,512),[[n.Jo,l.message]])]),De,(0,o.Lk)("div",_e,[(0,o.Lk)("div",Re,[(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"date",id:"appointmentDate","onUpdate:modelValue":t[7]||(t[7]=e=>l.appointmentDate=e),placeholder:"Appointment Date*",required:""},null,512),[[n.Jo,l.appointmentDate]]),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"time",id:"appointmentTime","onUpdate:modelValue":t[8]||(t[8]=e=>l.appointmentTime=e),placeholder:"Appointment Time*",required:""},null,512),[[n.Jo,l.appointmentTime]])])]),(0,o.Lk)("div",Ue,[Ne,(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"preferredInstallationDate","onUpdate:modelValue":t[9]||(t[9]=e=>l.preferredInstallationDate=e),placeholder:"Preferred Installation Date*",required:""},null,512),[[n.Jo,l.preferredInstallationDate]])]),(0,o.Lk)("div",$e,[Ee,(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"nationality","onUpdate:modelValue":t[10]||(t[10]=e=>l.nationality=e),placeholder:"Nationality*",required:""},null,512),[[n.Jo,l.nationality]])]),(0,o.Lk)("div",Ae,[Pe,(0,o.Lk)("input",{type:"file",id:"icFront",onChange:t[11]||(t[11]=e=>l.handleFileUpload(e,"icFront")),required:""},null,32),(0,o.Lk)("p",null,(0,b.v_)(l.icFrontName||"No file chosen"),1)]),(0,o.Lk)("div",Ve,[Me,(0,o.Lk)("input",{type:"file",id:"icBack",onChange:t[12]||(t[12]=e=>l.handleFileUpload(e,"icBack")),required:""},null,32),(0,o.Lk)("p",null,(0,b.v_)(l.icBackName||"No file chosen"),1)]),(0,o.Lk)("div",Te,[We,(0,o.Lk)("input",{type:"file",id:"utilityBills",onChange:t[13]||(t[13]=e=>l.handleFileUpload(e,"utilityBills")),required:""},null,32),(0,o.Lk)("p",null,(0,b.v_)(l.utilityBillsName||"No file chosen"),1)]),(0,o.bF)(s,{"is-visible":l.showModal,"modal-message":l.modalMessage,onClose:t[14]||(t[14]=e=>l.showModal=!1)},null,8,["is-visible","modal-message"]),(0,o.Lk)("button",{type:"submit",class:"submit-button white-text",disabled:l.formSubmitted},(0,b.v_)(l.formSubmitted?"Submitting...":"Yes! Contact Me Now"),9,Oe)],32),je,(0,o.bF)(c)]),(0,o.bF)(s,{"is-visible":l.showModal,"modal-message":l.modalMessage,onClose:t[16]||(t[16]=e=>l.showModal=!1)},null,8,["is-visible","modal-message"])],64)}var Xe=a(1186),Je=a(6679);const He={key:0,class:"modal"},qe={class:"modal-content"};function Ke(e,t,a,n,l,i){return a.isVisible?((0,o.uX)(),(0,o.CE)("div",He,[(0,o.Lk)("div",qe,[(0,o.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),(0,o.Lk)("p",null,(0,b.v_)(a.modalMessage),1)])])):(0,o.Q3)("",!0)}var Qe={name:"popUp2",props:{isVisible:{type:Boolean,required:!0},modalMessage:{type:String,required:!0}},emits:["close"]};const Ye=(0,p.A)(Qe,[["render",Ke],["__scopeId","data-v-4f7ce36e"]]);var Ge=Ye,ze={name:"tmReg",components:{popUp2:Ge},props:{project:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,d.KR)(e.project),n=(0,d.KR)(""),l=(0,d.KR)(!1),i=(0,d.KR)(!1),r=(0,d.KR)(""),s=(0,d.KR)(""),c=(0,d.KR)(""),u=(0,d.KR)(""),m=(0,d.KR)(""),p=(0,d.KR)(""),h=(0,d.KR)(""),g=(0,d.KR)(""),f=(0,d.KR)(""),b=(0,d.KR)(""),v=(0,d.KR)(null),k=(0,d.KR)(null),y=(0,d.KR)(null),C=(0,d.KR)(""),w=(0,d.KR)(""),I=(0,d.KR)(""),F=(0,d.KR)(""),x=e=>{const t=e.target,a=t.value.replace(/\D/g,"").substring(0,10),n=a.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");t.value=n,c.value=a};(0,o.wB)((()=>e.project),(e=>{a.value=e}));const L=(e,t)=>{const a=e.target.files[0];"icFront"===t?(v.value=a,C.value=a.name):"icBack"===t?(k.value=a,w.value=a.name):"utilityBills"===t&&(y.value=a,I.value=a.name)},S=()=>{t("close")},D=Je.J1`
      query ($phone: String) {
        contacts(filters: { phone: { eq: $phone } }) {
          data {
            id
            attributes {
              name
              phone
            }
          }
        }
      }
    `,_=Je.J1`
  mutation AddContact($name: String!, $project: String!, $email: String!,$package:String!,
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  createContact(data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}
 `,R=Je.J1`
     mutation UpdateContact($id: ID!, $name: String!, $project: String!, $email: String!, $package: String!, 
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  updateContact(id: $id, data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}

    `,{mutate:U}=(0,Xe.n_)(_),{mutate:N}=(0,Xe.n_)(R),{refetch:$,loading:E,error:A}=(0,Xe.IT)(D,{variables:{phone:c.value},skip:!0}),P=async()=>{l.value=!0;try{const{data:e}=await $({phone:c.value});if(A.value)return void console.error("Error fetching contact:",A.value);if(E.value)return void console.log("Waiting for contact check...");if(!e.contacts.data||0===e.contacts.data.length){console.log("Contact does not exist. Creating new contact.");const e=await U({package:n.value,project:a.value,name:s.value,phone:c.value,email:u.value,address:m.value,message:p.value,PreferredInstallationDate:f.value,Nationality:b.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});return console.log("Create Success:",e),l.value=!1,i.value=!0,void(r.value="Record created.")}const t=e.contacts.data[0];console.log("Contact exists. Updating contact with ID:",t.id);const o=await N({id:t.id,project:a.value,package:n.value,name:s.value,phone:c.value,email:u.value,address:m.value,message:p.value,PreferredInstallationDate:f.value,Nationality:b.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});console.log("Update Success:",o),l.value=!1,i.value=!0,r.value="Record updated."}catch(e){l.value=!1,console.error("Error:",e)}};return{localPackage:n,localProject:a,name:s,phone:c,email:u,address:m,message:p,appointmentDate:h,appointmentTime:g,preferredInstallationDate:f,nationality:b,icFront:v,icBack:k,utilityBills:y,icFrontName:C,icBackName:w,utilityBillsName:F,formSubmitted:l,submitForm:P,formatPhone:x,showModal:i,modalMessage:r,close:S,handleFileUpload:L}}};const Ze=(0,p.A)(ze,[["render",Be],["__scopeId","data-v-202c1f5f"]]);var et=Ze;const tt=e=>((0,o.Qi)("data-v-1355d3ea"),e=e(),(0,o.jt)(),e),at={class:"camera-capture"},nt={key:0},ot={ref:"video",autoplay:"",playsinline:""},lt={ref:"canvas",style:{display:"none"}},it=["src"],rt={key:1},st=tt((()=>(0,o.Lk)("p",null,"Your device does not support camera access.",-1))),ct=[st];function dt(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",at,[l.hasMediaDevices?((0,o.uX)(),(0,o.CE)("div",nt,[(0,o.Lk)("video",ot,null,512),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.takePicture&&i.takePicture(...e))},"Take Picture"),(0,o.Lk)("canvas",lt,null,512),l.imageData?((0,o.uX)(),(0,o.CE)("img",{key:0,src:l.imageData,alt:"Captured Image"},null,8,it)):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",rt,ct))])}var ut={name:"CameraCapture",data(){return{hasMediaDevices:!1,imageData:null}},mounted(){this.initializeCamera()},methods:{async initializeCamera(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){this.hasMediaDevices=!0;try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.$refs.video.srcObject=e}catch(e){console.error("Error accessing camera:",e),this.hasMediaDevices=!1}}else this.hasMediaDevices=!1},takePicture(){const e=this.$refs.canvas,t=this.$refs.video;e.width=t.videoWidth,e.height=t.videoHeight;const a=e.getContext("2d");a.drawImage(t,0,0,e.width,e.height),this.imageData=e.toDataURL("image/png")}}};const mt=(0,p.A)(ut,[["render",dt],["__scopeId","data-v-1355d3ea"]]);var pt=mt,ht={components:{CameraCapture:pt,ImageUpLoader:_,tmReg:et,MyPackage:ee,MySelector:ue,LaunchButton:$},created(){this.paramValue=this.$route.query.param||"HOME",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const gt=(0,p.A)(ht,[["render",y]]);var ft=gt;const bt=e=>((0,o.Qi)("data-v-d1f5a34e"),e=e(),(0,o.jt)(),e),vt=bt((()=>(0,o.Lk)("h1",{class:"title"},"About Page",-1))),kt=bt((()=>(0,o.Lk)("p",null,"This is the about page of the application.",-1)));function yt(e,t,a,n,l,i){const r=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),c=(0,o.g2)("v-container"),d=(0,o.g2)("v-main"),u=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[vt,kt])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var Ct={name:"AboutPage"};const wt=(0,p.A)(Ct,[["render",yt],["__scopeId","data-v-d1f5a34e"]]);var It=wt;const Ft={class:"header"},xt={class:"page-title"};function Lt(e,t,a,n,l,i){const r=(0,o.g2)("MySlider"),s=(0,o.g2)("MySelector"),c=(0,o.g2)("MyPackage"),d=(0,o.g2)("MyReg"),u=(0,o.g2)("LaunchButton"),m=(0,o.g2)("tmReg"),p=(0,o.g2)("ImageUpLoader"),h=(0,o.g2)("CameraCapture");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Ft,[(0,o.Lk)("h1",xt,(0,b.v_)(l.pageTitle),1)]),(0,o.bF)(r,{pageTitle:l.pageTitle,images:l.filteredImages},null,8,["pageTitle","images"]),(0,o.bF)(s,{plans:l.filteredPlans},null,8,["plans"]),(0,o.bF)(c,{pageTitle:l.pageTitle,plans:l.filteredPlans},null,8,["pageTitle","plans"]),(0,o.bF)(d),l.showLaunchButton?((0,o.uX)(),(0,o.Wv)(u,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(m,{project:l.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,o.bF)(p),(0,o.bF)(h)])}const St={class:"slider-container"},Dt=["src","alt"],_t=["onClick"];function Rt(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",St,[(0,o.Lk)("div",{class:"slider-wrapper",style:(0,b.Tr)({transform:`translateX(-${100*l.currentIndex}%)`})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.images,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"slider-slide",key:t},[(0,o.Lk)("img",{src:e.src,alt:`Slide ${t+1}`,style:{width:"100%"}},null,8,Dt),(0,o.Lk)("button",{class:"navigate-btn",onClick:t=>i.navigateTo(e.route,e.category)}," Go to "+(0,b.v_)(e.route),9,_t)])))),128))],4),(0,o.Lk)("button",{class:"prev-btn",onClick:t[0]||(t[0]=(...e)=>i.prevSlide&&i.prevSlide(...e))},"❮"),(0,o.Lk)("button",{class:"next-btn",onClick:t[1]||(t[1]=(...e)=>i.nextSlide&&i.nextSlide(...e))},"❯")])}var Ut={name:"MySlider",props:{pageTitle:{type:String,default:""},images:{type:Array,required:!0}},data(){return{currentIndex:0,intervalId:null}},mounted(){this.startAutoPlay()},beforeUnmount(){this.stopAutoPlay()},methods:{startAutoPlay(){},stopAutoPlay(){clearInterval(this.intervalId)},prevSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length,this.startAutoPlay()},nextSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex+1)%this.images.length,this.startAutoPlay()},navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Nt=(0,p.A)(Ut,[["render",Rt],["__scopeId","data-v-e5bf1dc2"]]);var $t=Nt,Et={components:{CameraCapture:pt,ImageUpLoader:_,tmReg:et,MySlider:$t,MyPackage:ee,MySelector:ue,LaunchButton:$},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const At=(0,p.A)(Et,[["render",Lt]]);var Pt=At;const Vt={class:"header"},Mt={class:"page-title"};function Tt(e,t,a,n,l,i){const r=(0,o.g2)("MySlider"),s=(0,o.g2)("MySelector"),c=(0,o.g2)("MyPackage"),d=(0,o.g2)("MyReg"),u=(0,o.g2)("LaunchButton"),m=(0,o.g2)("tmReg"),p=(0,o.g2)("ImageUpLoader"),h=(0,o.g2)("CameraCapture");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Vt,[(0,o.Lk)("h1",Mt,(0,b.v_)(l.pageTitle),1)]),(0,o.bF)(r,{pageTitle:l.pageTitle,images:l.filteredImages},null,8,["pageTitle","images"]),(0,o.bF)(s,{plans:l.filteredPlans},null,8,["plans"]),(0,o.bF)(c,{pageTitle:l.pageTitle,plans:l.filteredPlans},null,8,["pageTitle","plans"]),(0,o.bF)(d),l.showLaunchButton?((0,o.uX)(),(0,o.Wv)(u,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(m,{project:l.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,o.bF)(p),(0,o.bF)(h)])}var Wt={components:{CameraCapture:pt,ImageUpLoader:_,tmReg:et,MySlider:$t,MyPackage:ee,MySelector:ue,LaunchButton:$},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const Ot=(0,p.A)(Wt,[["render",Tt]]);var jt=Ot;function Bt(e,t,a,n,l,i){const r=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),c=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(c,{fluid:"",class:"d-flex align-center justify-center",style:{height:"100vh"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,{justify:"center",align:"center"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{cols:"12",sm:"8"})])),_:1})])),_:1})}var Xt={name:"MainPage",data(){return{images:[{src:"img/UniVerse.jpg",alt:"Image 1",route:"/home",param:"HOME"},{src:"img/switch.png",alt:"Image 3",route:"/home",param:"WIN BACK"},{src:"img/business.jpeg",alt:"Image 2",route:"/home",param:"BUSINESS"}]}},methods:{navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Jt=(0,p.A)(Xt,[["render",Bt],["__scopeId","data-v-58c60cfa"]]);var Ht=Jt;const qt=e=>((0,o.Qi)("data-v-e4a63c36"),e=e(),(0,o.jt)(),e),Kt={type:"text",ref:"myInput2",class:"borderless-input"},Qt={key:1},Yt={key:3},Gt={key:5},zt={key:7},Zt={key:8},ea=qt((()=>(0,o.Lk)("br",null,null,-1))),ta=qt((()=>(0,o.Lk)("br",null,null,-1))),aa=qt((()=>(0,o.Lk)("h3",null,"Call Log",-1))),na=qt((()=>(0,o.Lk)("br",null,null,-1))),oa=qt((()=>(0,o.Lk)("br",null,null,-1))),la=qt((()=>(0,o.Lk)("div",{class:"text-center"},[(0,o.Lk)("span",null,"V2.0")],-1))),ia={class:"text-center"},ra=qt((()=>(0,o.Lk)("br",null,null,-1))),sa=qt((()=>(0,o.Lk)("h3",null,"Load JSON",-1))),ca={key:0,class:"error"},da={class:"button-container"},ua=["onClick"],ma=["onUpdate:modelValue"],pa=["onUpdate:modelValue"],ha=["onUpdate:modelValue"],ga=["onUpdate:modelValue"],fa=["onUpdate:modelValue"],ba=["onUpdate:modelValue"],va=["onUpdate:modelValue"],ka=["onUpdate:modelValue"],ya=["onUpdate:modelValue"],Ca=["onUpdate:modelValue"],wa=["onUpdate:modelValue"],Ia=["onUpdate:modelValue"],Fa=["onUpdate:modelValue"],xa={style:{color:"blue",width:"50%","min-width":"40px"}},La={style:{color:"blue",width:"50%","min-width":"40px"}},Sa={style:{color:"blue",width:"50%","min-width":"40px"}},Da={style:{color:"blue",width:"50%","min-width":"40px"}},_a=qt((()=>(0,o.Lk)("h3",null,"Server Copy",-1))),Ra=qt((()=>(0,o.Lk)("br",null,null,-1))),Ua=qt((()=>(0,o.Lk)("h3",null,"Local Copy",-1))),Na=qt((()=>(0,o.Lk)("p",null,"-",-1))),$a=qt((()=>(0,o.Lk)("br",null,null,-1)));function Ea(e,t,a,l,i,r){const s=(0,o.g2)("v-icon"),c=(0,o.g2)("v-btn"),d=(0,o.g2)("v-row"),u=(0,o.g2)("v-card-title"),m=(0,o.g2)("v-select"),p=(0,o.g2)("v-card-text"),h=(0,o.g2)("v-card-actions"),g=(0,o.g2)("v-card"),f=(0,o.g2)("v-dialog"),v=(0,o.g2)("v-textarea"),k=(0,o.g2)("v-text-field"),y=(0,o.g2)("stageDropdown"),C=(0,o.g2)("v-col"),w=(0,o.g2)("v-form"),I=(0,o.g2)("v-container"),F=(0,o.g2)("v-progress-linear"),x=(0,o.g2)("v-file-input"),L=(0,o.g2)("CountdownTimer"),S=(0,o.g2)("v-data-table");return(0,o.uX)(),(0,o.CE)("div",null,[i.showform?((0,o.uX)(),(0,o.Wv)(I,{key:0},{default:(0,o.k6)((()=>[(0,o.Lk)("input",Kt,null,512),(0,o.bF)(w,{ref:"contactForm"},{default:(0,o.k6)((()=>[i.viewOnly?((0,o.uX)(),(0,o.Wv)(d,{key:0,class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(c,{rounded:"",href:`tel:${r.currentContact.phoneNumber}`,color:2==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact)?"grey":"primary",style:{width:"20%","min-width":"50px",height:"70px"},disabled:2==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact),onClick:l.handleCallClick,class:"mx-1"},{default:(0,o.k6)((()=>[2==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact)?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-off")])),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:1},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-in-talk")])),_:1}))])),_:1},8,["href","color","disabled","onClick"]),(0,o.bF)(c,{rounded:"",onClick:t[0]||(t[0]=e=>l.makeCall(r.currentContact,l.selectedUser,i.currentIndex,l.contacts)),color:2==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact)?"grey":"primary",style:{width:"20%","min-width":"50px",height:"70px"},disabled:2==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact),class:"mx-1"},{default:(0,o.k6)((()=>[2==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact)?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-off")])),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:1},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-cellphone-wireless")])),_:1}))])),_:1},8,["color","disabled"])]),(0,o.bF)(c,{rounded:"",onClick:t[1]||(t[1]=e=>l.makeCall2(r.currentContact,l.selectedUser,i.currentIndex,l.contacts)),color:l.isPhoneDisabled(r.currentContact)?"grey":"primary",style:{width:"20%","min-width":"50px",height:"70px"},disabled:1==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact),class:"mx-1"},{default:(0,o.k6)((()=>[1==l.isPhoneDisabled2(r.currentContact)||0==l.isPhoneDisabled2(r.currentContact)?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-off")])),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:1},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-monitor-cellphone-star")])),_:1}))])),_:1},8,["color","disabled"]),(0,o.bF)(c,{rounded:"",onClick:t[2]||(t[2]=e=>r.rowSendWhatsApp(r.currentContact)),color:"primary",style:{width:"20%","min-width":"50px",height:"70px"},class:"mx-1"},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-whatsapp")])),_:1})])),_:1}),(0,o.bF)(c,{rounded:"",onClick:r.previousContact,disabled:0===i.currentIndex,color:"primary",class:"mx-1",style:{width:"20%","min-width":"50px",height:"70px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-left")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1})):(0,o.Q3)("",!0),i.viewOnly?((0,o.uX)(),(0,o.Wv)(d,{key:1,class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{rounded:"",onClick:r.nextContact,disabled:i.currentIndex===l.contacts.length-1,color:"primary",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-right")])),_:1})])),_:1},8,["onClick","disabled"]),(0,o.bF)(c,{rounded:"",onClick:r.starNextContact,disabled:i.currentIndex===l.contacts.length-1,color:"green",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-right")])),_:1}),(0,o.eW)(" * ")])),_:1},8,["onClick","disabled"]),(0,o.bF)(c,{rounded:"",onClick:t[3]||(t[3]=e=>i.showStatusDialog=!0),disabled:i.currentIndex===l.contacts.length-1,color:"#00AA55",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-right")])),_:1})])),_:1},8,["disabled"]),(0,o.bF)(c,{rounded:"",onClick:r.AInextContact,disabled:i.currentIndex===l.contacts.length-1,color:"blue",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-right")])),_:1}),(0,o.eW)(" AI ")])),_:1},8,["onClick","disabled"]),(0,o.bF)(f,{modelValue:i.showStatusDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>i.showStatusDialog=e),persistent:"","max-width":"290"},{default:(0,o.k6)((()=>[(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("Select Status")])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:i.selectedStatus,"onUpdate:modelValue":t[4]||(t[4]=e=>i.selectedStatus=e),items:["✓,","ni,","nis,","eg,","XXX,","nr,","ua,"],"item-text":"text","item-value":"value",label:"Status",outlined:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(h,{class:"d-flex justify-space-between"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(c,{text:"",onClick:r.confirmStatus},{default:(0,o.k6)((()=>[(0,o.eW)("Confirm")])),_:1},8,["onClick"]),(0,o.bF)(c,{text:"",onClick:t[5]||(t[5]=e=>i.showStatusDialog=!1)},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(c,{rounded:"",onClick:t[7]||(t[7]=e=>{this.viewOnly=!1,r.editContact()}),color:"primary",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-pencil")])),_:1}),(0,o.eW)(" Edit ")])),_:1}),(0,o.bF)(c,{rounded:"",onClick:t[8]||(t[8]=e=>r.navigateToTalk(r.currentContact)),color:"primary",class:"mx-1",style:{width:"20%","min-width":"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-book-account")])),_:1})])),_:1}),(0,o.bF)(c,{onClick:t[9]||(t[9]=t=>{e.$refs.myInput3.focus()}),color:"primary",class:"mx-1",style:{width:"20%","min-width":"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-grid")])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0),i.viewOnly?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(d,{key:2},{default:(0,o.k6)((()=>[(0,o.bF)(c,{rounded:"",onClick:r.cancelEdit,color:"blue",style:{width:"25%","min-width":"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-cancel")])),_:1}),(0,o.eW)(" Cancel ")])),_:1},8,["onClick"]),(0,o.bF)(c,{rounded:"",onClick:r.saveContact,color:"primary",style:{width:"25%","min-width":"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-content-save")])),_:1}),(0,o.eW)(" Save ")])),_:1},8,["onClick"]),(0,o.bF)(c,{rounded:"",onClick:r.deleteContact,color:"red",style:{width:"25%","min-width":"20px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-minus")])),_:1}),(0,o.eW)(" Delete ")])),_:1},8,["onClick"])])),_:1})),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(C,{cols:"12",md:"12"},{default:(0,o.k6)((()=>[(0,o.eW)(" No: "+(0,b.v_)(r.currentContact.no)+" Project: "+(0,b.v_)(r.currentContact.project)+" ",1),(0,o.Lk)("h2",null,(0,b.v_)(r.currentContact.name),1),(0,o.eW)(" Phone: "+(0,b.v_)(r.currentContact.phoneNumber)+" ",1),i.viewOnly?((0,o.uX)(),(0,o.CE)("div",Qt,"Interaction: "+(0,b.v_)(r.currentContact.interaction),1)):((0,o.uX)(),(0,o.Wv)(v,{key:0,modelValue:i.editContactData.interaction,"onUpdate:modelValue":t[10]||(t[10]=e=>i.editContactData.interaction=e),label:"Interaction",outlined:""},null,8,["modelValue"])),i.viewOnly?((0,o.uX)(),(0,o.CE)("div",Yt,"Doc: "+(0,b.v_)(r.currentContact.doc),1)):((0,o.uX)(),(0,o.Wv)(k,{key:2,label:"Doc",modelValue:i.editContactData.doc,"onUpdate:modelValue":t[11]||(t[11]=e=>i.editContactData.doc=e),class:"edit-mode"},null,8,["modelValue"])),i.viewOnly?((0,o.uX)(),(0,o.CE)("div",Gt,"Status: "+(0,b.v_)(r.currentContact.status),1)):((0,o.uX)(),(0,o.Wv)(k,{key:4,label:"Status",modelValue:i.editContactData.status,"onUpdate:modelValue":t[12]||(t[12]=e=>i.editContactData.status=e),class:"edit-mode"},null,8,["modelValue"])),i.viewOnly?((0,o.uX)(),(0,o.CE)("div",zt,"Rating: "+(0,b.v_)(r.currentContact.rating),1)):((0,o.uX)(),(0,o.Wv)(k,{key:6,label:"Rating",modelValue:i.editContactData.rating,"onUpdate:modelValue":t[13]||(t[13]=e=>i.editContactData.rating=e),class:"edit-mode"},null,8,["modelValue"])),(0,o.bo)((0,o.bF)(y,{ref:"stageSelect",selectedStage:i.editContactData.stage,onUpdateStage:r.updateContactStage},null,8,["selectedStage","onUpdateStage"]),[[n.aG,!i.viewOnly]]),i.viewOnly?((0,o.uX)(),(0,o.CE)("div",Zt,"Stage: "+(0,b.v_)(r.getStageDescription(r.currentContact.stage)),1)):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(C,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Phone ID:"+(0,b.v_)(r.currentContact.phoneId)+" Today: "+(0,b.v_)(l.formattedDate)+" ",1),ea,(0,o.eW)(" Dialed Date: "+(0,b.v_)(r.currentContact.dialedDate)+" ",1),ta,(0,o.eW)(" Source Date: "+(0,b.v_)(r.currentContact.sourceDate),1)])),_:1}),(0,o.bF)(C,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Last Call:"+(0,b.v_)(r.currentContact.updatedAt)+" Contacted:"+(0,b.v_)(r.currentContact.contacted)+" User:"+(0,b.v_)(r.currentContact.user)+" Called:"+(0,b.v_)(r.currentContact.called)+" Rating:"+(0,b.v_)(r.currentContact.rating)+" Occupation:"+(0,b.v_)(r.currentContact.occupation),1)])),_:1})])),_:1}),(0,o.Lk)("div",null,[aa,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.callLog,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t},(0,b.v_)(e.name)+" - "+(0,b.v_)(e.phoneNumber)+" - "+(0,b.v_)(e.time),1)))),128))])])])),_:1},512)])),_:1})):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[(0,o.bF)(I,{class:"bg-surface-variant"},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bo)((0,o.Lk)("input",{class:"bordered-input",style:{color:"white","background-color":"#333",height:"50px"},"onUpdate:modelValue":t[14]||(t[14]=e=>i.filterTerm=e),placeholder:"Filter Search... r/dup/any text"},null,512),[[n.Jo,i.filterTerm]]),na,(0,o.bF)(m,{modelValue:l.selectedUser,"onUpdate:modelValue":t[15]||(t[15]=e=>l.selectedUser=e),items:i.users,"item-text":"text","item-value":"value",label:"Select a user",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"]),(0,o.bF)(m,{modelValue:l.selectedPhoneId,"onUpdate:modelValue":t[16]||(t[16]=e=>l.selectedPhoneId=e),items:i.phoneIds,"item-text":"text","item-value":"value",label:"Select a phone",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(C,{class:"justify-start align-left"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:t[17]||(t[17]=e=>r.loadContactsFromStrapi(i.findValue2)),color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)(" Download By Project ")])),_:1}),(0,o.eW)(" Import Project "),(0,o.bo)((0,o.Lk)("input",{class:"bordered-input",type:"text",id:"findValue2","onUpdate:modelValue":t[18]||(t[18]=e=>i.findValue2=e),style:{color:"white","background-color":"#333"}},null,512),[[n.Jo,i.findValue2]]),oa,(0,o.bF)(c,{onClick:t[19]||(t[19]=e=>r.loadContactsFromStrapi(i.findValue2)),color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)(" Download By Rating ")])),_:1})])),_:1}),(0,o.bF)(C,{class:"d-flex align-left"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(c,{onClick:t[20]||(t[20]=e=>r.renumbering()),color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)(" Renumbering ")])),_:1}),la,(0,o.bF)(c,{onClick:t[21]||(t[21]=e=>r.uploadToStrapi()),color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)(" Synchronize to Server ")])),_:1}),(0,o.bF)(F,{value:i.progressPercentage,height:"10",color:"primary",class:"my-4"},null,8,["value"]),(0,o.Lk)("div",ia,[(0,o.Lk)("span",null,"Progress: "+(0,b.v_)(i.progressPercentage.toFixed(2))+"%",1)])])])),_:1}),(0,o.bF)(C,{class:"d-flex align-left"},{default:(0,o.k6)((()=>[(0,o.eW)(" Message: "),(0,o.bo)((0,o.Lk)("input",{class:"bordered-input",type:"text",id:"sendmsg","onUpdate:modelValue":t[22]||(t[22]=e=>i.sendmsg=e),style:{color:"white","background-color":"#333",height:"50px"}},null,512),[[n.Jo,i.sendmsg]]),ra,(0,o.bF)(c,{onClick:r.printTable,color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)("Print PDF")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})]),(0,o.bF)(d,{class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.sendwhatsappmessage,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Send via WhatsApp (W)")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.startProcessing,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Start W")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[sa,(0,o.Lk)("input",{type:"file",onChange:t[23]||(t[23]=(...e)=>r.loadJSONFile&&r.loadJSONFile(...e)),ref:"jsonFileInput"},null,544)])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.exportToJSON,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Export to JSON")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.removeDuplicatePhoneNumbers,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Remove Duplicate")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{modelValue:i.showDateFormatDialog,"onUpdate:modelValue":t[25]||(t[25]=e=>i.showDateFormatDialog=e),persistent:"","max-width":"290"},{default:(0,o.k6)((()=>[(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("Select Date Format")])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:i.selectedDateFormat,"onUpdate:modelValue":t[24]||(t[24]=e=>i.selectedDateFormat=e),items:["dd/mm/yyyy","mm/dd/yyyy"],label:"Date Format",outlined:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:"primary",onClick:r.confirmDateFormat},{default:(0,o.k6)((()=>[(0,o.eW)("Confirm")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(x,{label:"Import CSV",onChange:r.onFileSelected},null,8,["onChange"]),(0,o.bF)(f,{modelValue:i.showDateFormatDialog,"onUpdate:modelValue":t[27]||(t[27]=e=>i.showDateFormatDialog=e),persistent:"","max-width":"290"},{default:(0,o.k6)((()=>[(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("Select Date Format")])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,{modelValue:i.selectedDateFormat,"onUpdate:modelValue":t[26]||(t[26]=e=>i.selectedDateFormat=e),items:["dd/mm/yyyy","mm/dd/yyyy"],label:"Date Format",outlined:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:"primary",onClick:r.confirmDateFormat},{default:(0,o.k6)((()=>[(0,o.eW)("Confirm")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.exportToCSV,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Export to CSV")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Lk)("div",null,[i.error?((0,o.uX)(),(0,o.CE)("div",ca,(0,b.v_)(i.error),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",da,[(0,o.Lk)("button",{onClick:t[28]||(t[28]=e=>r.sortContacts("phoneNumber")),class:"sort-button"}," Sort by Phone Number ("+(0,b.v_)(i.sortOrder.phoneNumber)+") ",1),(0,o.Lk)("button",{onClick:t[29]||(t[29]=e=>r.sortContacts("dialedDate")),class:"sort-button"}," Sort by Dialed Date ("+(0,b.v_)(i.sortOrder.dialedDate)+") ",1),(0,o.Lk)("button",{onClick:t[30]||(t[30]=e=>r.sortContacts("name")),class:"sort-button"}," Sort by Name ("+(0,b.v_)(i.sortOrder.name)+") ",1),(0,o.Lk)("button",{onClick:t[31]||(t[31]=t=>e.sortContactsAndNumber("project",this.contacts,this.sortOrder)),class:"sort-button"}," Sort by Project ("+(0,b.v_)(i.sortOrder.project)+") ",1),(0,o.Lk)("button",{onClick:t[32]||(t[32]=e=>r.sortContacts("no")),class:"sort-button"}," Sort by No ("+(0,b.v_)(i.sortOrder.no)+") ",1),(0,o.Lk)("button",{onClick:t[33]||(t[33]=t=>e.sortContactsAndNumber("status",this.contacts,this.sortOrder)),class:"sort-button"}," Sort by Status ("+(0,b.v_)(i.sortOrder.status)+") ",1),(0,o.Lk)("button",{onClick:t[34]||(t[34]=e=>r.sortContacts("nextCall",this.contacts,this.sortOrder)),class:"sort-button"}," Sort by Next Call ("+(0,b.v_)(i.sortOrder.nextCall)+") ",1)]),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Search "),(0,o.bo)((0,o.Lk)("input",{ref:"myInput3",class:"bordered-input",type:"text",id:"findValue","onUpdate:modelValue":t[35]||(t[35]=e=>i.findValue=e),style:{color:"white","background-color":"#333"}},null,512),[[n.Jo,i.findValue]])])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"bordered-input",onClick:t[36]||(t[36]=(...e)=>r.jumpToIndex&&r.jumpToIndex(...e))},"By Row No.")])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"bordered-input",onClick:t[37]||(t[37]=(...e)=>r.findNumber&&r.findNumber(...e))},"By Phone Number")])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"bordered-input",onClick:t[38]||(t[38]=(...e)=>r.findName&&r.findName(...e))},"By Name")])),_:1}),(0,o.bF)(C,{class:"d-flex justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:t[39]||(t[39]=e=>i.showCountdown=!i.showCountdown),color:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,b.v_)(i.showCountdown?"Hide Countdown":"Show Countdown"),1)])),_:1})])),_:1}),(0,o.bF)(C,{class:"align-right"},{default:(0,o.k6)((()=>[i.showCountdown?((0,o.uX)(),(0,o.Wv)(L,{key:0,ref:"countdown",seconds:5,onCountdownFinish:r.countdownFinished},null,8,["onCountdownFinish"])):(0,o.Q3)("",!0)])),_:1})])),_:1}),(0,o.bF)(S,{id:"tableToPrint",headers:i.headers2,items:r.filteredContacts,class:"elevation-1 pdf-container","hide-default-footer":"","items-per-page":1e4,style:{width:"100%"}},{item:(0,o.k6)((({item:a,index:l})=>[(0,o.Lk)("tr",{class:(0,b.C4)({highlight:i.currentIndex===l}),onClick:e=>r.rowClick(l)},[(0,o.Lk)("td",null,[(0,o.bF)(c,{onClick:t[40]||(t[40]=t=>{i.showform=!0,e.$refs.myInput2.focus()}),color:"error",small:"",icon:"",style:{width:"50%","min-width":"40px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-eye")])),_:1})])),_:1})]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.project=e,style:{width:"100%","min-width":"110px"}},null,8,ma),[[n.Jo,a.project]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.source=e,style:{width:"100%","min-width":"80px"}},null,8,pa),[[n.Jo,a.source]])]),(0,o.Lk)("td",null,(0,b.v_)(a.no),1),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.name=e},null,8,ha),[[n.Jo,a.name]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.language=e,style:{width:"100%","min-width":"5px"}},null,8,ga),[[n.Jo,a.language]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.phoneId=e,style:{width:"50%","min-width":"58px"}},null,8,fa),[[n.Jo,a.phoneId]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.phoneNumber=e,style:{width:"100%","min-width":"120px"}},null,8,ba),[[n.Jo,a.phoneNumber]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":e=>a.interaction=e,style:{width:"100%","min-width":"250px"}},null,8,va),[[n.Jo,a.interaction]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.status=e,style:{width:"50%","min-width":"40px"}},null,8,ka),[[n.Jo,a.status]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.stage=e,style:{width:"50%","min-width":"40px"}},null,8,ya),[[n.Jo,a.stage]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.doc=e,style:{width:"50%","min-width":"80px"}},null,8,Ca),[[n.Jo,a.doc]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.called=e,style:{width:"50%","min-width":"80px"}},null,8,wa),[[n.Jo,a.called]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.rating=e,style:{width:"50%","min-width":"80px"}},null,8,Ia),[[n.Jo,a.rating]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.contacted=e,style:{width:"50%","min-width":"40px"}},null,8,Fa),[[n.Jo,a.contacted]])]),(0,o.Lk)("td",xa,(0,b.v_)(a.dialedDate),1),(0,o.Lk)("td",La,(0,b.v_)(a.sourceDate),1),(0,o.Lk)("td",Sa,(0,b.v_)(a.lastCall),1),(0,o.Lk)("td",Da,(0,b.v_)(a.nextCall),1)],10,ua)])),_:1},8,["headers","items"])]),(0,o.bF)(f,{modelValue:i.showSynDialog,"onUpdate:modelValue":t[45]||(t[45]=e=>i.showSynDialog=e),"max-width":"660px"},{default:(0,o.k6)((()=>[(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("Duplicate Contact Found")])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,"There are "+(0,b.v_)(i.showRecordNo)+" copies of this contact:",1),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-cloud-outline")])),_:1}),_a,(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.source!==e.existingContact.source})},"Source: "+(0,b.v_)(e.existingContact.source),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.name!==e.existingContact.name})},"Name: "+(0,b.v_)(e.existingContact.name),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.phoneNumber!==e.existingContact.phoneNumber})},"Phone Number: "+(0,b.v_)(e.existingContact.phoneNumber),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.status!==e.existingContact.status})},"Status3: "+(0,b.v_)(e.existingContact.status),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.stage!==e.existingContact.stage})},"Stage: "+(0,b.v_)(e.existingContact.stage),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.project!==e.existingContact.project})},"Project: "+(0,b.v_)(e.existingContact.project),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.interaction!==e.existingContact.interaction})},"Interaction: "+(0,b.v_)(e.existingContact.interaction),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.rating!==e.existingContact.rating})},"Rating: "+(0,b.v_)(e.existingContact.rating),3),(0,o.Lk)("p",null,"User: "+(0,b.v_)(e.existingContact.user),1),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.phoneId!==e.existingContact.phoneId})},"Phone Id: "+(0,b.v_)(e.existingContact.phoneId),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.no!==e.existingContact.no})},"No: "+(0,b.v_)(e.existingContact.no),3),(0,o.Lk)("p",{class:(0,b.C4)({highlight:e.contact.dialedDate!==e.existingContact.dialedDate})},"Last Dialed Date: "+(0,b.v_)(e.existingContact.dialedDate),3),(0,o.bF)(c,{style:{"background-color":"blue",color:"white","min-width":"200px",height:"50px"},onClick:t[41]||(t[41]=t=>e.confirmSyn("updateLocalCopy"))},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-right-bold-outline")])),_:1})])),_:1}),Ra,(0,o.bF)(c,{style:{"background-color":"blue",color:"white","min-width":"200px",height:"50px"},onClick:t[42]||(t[42]=t=>e.confirmSyn("deleteServerCopy"))},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-delete")])),_:1})])),_:1})])),_:1}),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-desktop-classic")])),_:1}),Ua,(0,o.Lk)("p",null,"Source: "+(0,b.v_)(e.contact.source),1),(0,o.Lk)("p",null,"Name: "+(0,b.v_)(e.contact.name),1),(0,o.Lk)("p",null,"Phone Number: "+(0,b.v_)(e.contact.phoneNumber),1),(0,o.Lk)("p",null,"Status: "+(0,b.v_)(e.contact.status),1),(0,o.Lk)("p",null,"Stage: "+(0,b.v_)(e.contact.stage),1),(0,o.Lk)("p",null,"Project: "+(0,b.v_)(e.contact.project),1),(0,o.Lk)("p",null,"Interaction: "+(0,b.v_)(e.contact.interaction),1),(0,o.Lk)("p",null,"Rating: "+(0,b.v_)(e.contact.rating),1),(0,o.Lk)("p",null,"User: "+(0,b.v_)(l.selectedUser),1),(0,o.Lk)("p",null,"Phone Id: "+(0,b.v_)(e.contact.phoneId),1),(0,o.Lk)("p",null,"No: "+(0,b.v_)(e.contact.no),1),(0,o.Lk)("p",null,"Last Dialed Date: "+(0,b.v_)(e.contact.dialedDate),1),Na,(0,o.bF)(c,{style:{"background-color":"green",color:"white","min-width":"200px",height:"50px"},onClick:t[43]||(t[43]=t=>e.confirmSyn("updateServerCopy"))},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-left-bold-outline")])),_:1})])),_:1}),$a,(0,o.bF)(c,{style:{"background-color":"green",color:"white","min-width":"200px",height:"50px"},onClick:t[44]||(t[44]=t=>e.confirmSyn("updateServerAllCopy"))},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-left-bold-outline")])),_:1}),(0,o.eW)(" All -> Server ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(h,{class:"d-flex justify-space-between"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.bF)(c,{style:{"background-color":"gray",color:"white","min-width":"200px",height:"50px"},onClick:e.cancelCompare},{default:(0,o.k6)((()=>[(0,o.eW)(" Cancel ")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}a(3375),a(9225),a(3972),a(9209),a(5714),a(7561),a(6197),a(4603),a(7566),a(8721);var Aa=a(4537),Pa=a(2391),Va=a(88);const Ma=new Aa.P({uri:"https://sp412b-763ef468411d.herokuapp.com/graphql"}),Ta=new Pa.R({link:Ma,cache:new Va.D});var Wa=Ta,Oa=a(8060),ja=a(5597);const Ba=Je.J1`
  # Write your query or mutation here
mutation(
  $id: ID!
  $no: Int
  $user: String
  $name: String
  $phoneNumber: String
  $status: String
  $interaction: String
  $lastCall: DateTime
  $nextCall: DateTime
  $doc: String
) {
  updateMakeCall(
    id: $id
    data: {
      user: $user
      name: $name
      phoneNumber: $phoneNumber
      status: $status
      interaction: $interaction
      lastCall: $lastCall
      nextCall: $nextCall
      no: $no
      doc:$doc
    }
  ) {
    # Define the fields you want to be returned here

    data{
      id
      attributes{
    name
    phoneNumber
    status
    interaction
    lastCall
    nextCall
    no
    doc
    }
    }
  }
}

`;(0,o.nI)();let Xa=(0,d.KR)("");async function Ja(){const e=await ja.p.getInfo();console.log(e),Xa.value=e}function Ha(e){return qa(e)?0:Xa.value?Xa.value.model.toLowerCase().includes("window")?2:1:0}function qa(e){const t=String(e.status||""),a=String(e.interaction||""),n=String(e.stage||"");return t.toLowerCase().includes("ni")||a.includes("xxx")||"x"==n.trim().toLowerCase()}function Ka(e){try{if(e.includes("T")||e.includes("Z"))return e;const t=e.replaceAll("/","-").trim(),a=t.split("-");if(3!==a.length)throw new Error("Invalid date format; expected 3 parts");let[n,o,l]=a.map((e=>e.trim()));if(!n||!o||!l||isNaN(parseInt(n))||isNaN(parseInt(o))||isNaN(parseInt(l)))throw new Error("Invalid date format");if(n=parseInt(n),o=parseInt(o),l=parseInt(l),l<1e3&&([n,l]=[l,n]),o<1||o>12)throw new Error("Month must be between 1 and 12");if(n<1||n>31)throw new Error("Day must be between 1 and 31");const i=String(n).padStart(2,"0"),r=String(o).padStart(2,"0"),s=`${l}-${r}-${i}`;return`${s}T00:00:00Z`}catch(t){return console.error("Error in convertDMY2YMDtime:",t.message),null}}function Qa(e){let[t,a,n]=e.replaceAll("/","-").split("-");return t<1e3?(a=a.padStart(2,"0"),t=t.padStart(2,"0").replace("Z",""),`${n}-${a}-${t}`):`${t}-${a}-${n}`}function Ya(e,t,a){"asc"===a[e]?(t.sort(((t,a)=>t[e]+Ga(t["no"])<a[e]+Ga(a["no"])?-1:t[e]+Ga(t["no"])>a[e]+Ga(a["no"])?1:0)),a[e]="desc"):(t.sort(((t,a)=>t[e]+t["no"]<a[e]+t["no"]?1:t[e]+t["no"]>a[e]+t["no"]?-1:0)),a[e]="asc")}function Ga(e){const t=String(e),a=t.padStart(6,"0");return a}function za(e){const t=(0,Oa.l)(e);return t?t.countryCallingCode:null}function Za(e){const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${n}`}function en(e,t){return e.startsWith("+"+t)?e.slice(1+t.length):e.startsWith(t)?e.slice(t.length):e.startsWith("(+"+t+")")?e.slice(3+t.length):e}function tn(e){let t=za(e);return e=en(e,t),e=e.replaceAll(" ",""),e=e.replaceAll("-",""),"+"+t+e.trim()}async function an(e,t,a){const n=Je.J1`
    query($project: String!) {
      leads(filters: { project: { eq: $project } }, pagination: { limit: 1000 }) {
        data {
          id
          attributes {
            no
            project
            user
            name
            phoneNumber
            status
            phoneId
            interaction
            lastCall
            nextCall
            called
            rating
            dialedDate
            sourceDate
            contacted
            language
            message
            doc
            stage
            source
            occupation
            clientType
            address
            URL
            URLDate
            updatedAt
          }
        }
      }
    }
  `;try{const{data:o}=await Wa.query({query:n,variables:{project:e},fetchPolicy:"no-cache"});o.leads.data.forEach((e=>{const n=t.find((t=>t.phoneNumber===e.attributes.phoneNumber)),o={id:e.id,no:e.attributes.no,user:e.attributes.user||"",name:e.attributes.name||"",phoneNumber:tn(e.attributes.phoneNumber)||"",project:e.attributes.project||"",occupation:e.attributes.occupation||"",status:e.attributes.status||"",phoneId:e.attributes.phoneId||"",interaction:e.attributes.interaction||"",lastCall:nn(e.attributes.lastCall)||"1-1-1900",nextCall:nn(e.attributes.nextCall)||"1-1-1900",called:e.attributes.called||0,rating:e.attributes.rating||0,dialedDate:nn(e.attributes.dialedDate)||"1-1-1900",sourceDate:nn(e.attributes.sourceDate)||"1-1-1900",contacted:e.attributes.contacted||0,language:e.attributes.language||"",message:e.attributes.message||"",doc:e.attributes.doc||"",stage:e.attributes.stage||"",source:e.attributes.source||"",clientType:e.attributes.clientType||"",address:e.attributes.address||"",URL:e.attributes.URL||"",URLDate:e.attributes.URLDate||"",edit:!1,editField:"",updatedAt:a};n?Object.assign(n,o):t.push(o)}))}catch(o){console.error("Error 212 loading contacts from Strapi:",o),alert("An error 212 occurred while loading contacts. Please try again.")}return t}function nn(e){if(!e)return null;const t=new Date(e);if(1900===t.getFullYear()&&0===t.getMonth()&&1===t.getDate())return null;const a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear();return`${a}/${n}/${o}`}async function on(e,t){void 0!==t.URLDate&&null!==t.URLDate&&""!==t.URLDate?t.URLDate=Qa(t.URLDate):delete t.URLDate;const a=Je.J1`
    mutation updateLead($id: ID!, $data: LeadInput!) {
      updateLead(id: $id, data: $data) {
        data {
          id
          attributes {
            name
            phoneNumber
            project
            called
            contacted
            phoneId
            clientType  
            address     
            URL         
            URLDate     
          }
        }
      }
    }
  `;try{const{data:n}=await Wa.mutate({mutation:a,variables:{id:e,data:t}});return n.updateLead.data}catch(n){throw console.error("Error updating contact:",n),n}}async function ln(e){const t=Je.J1`
    mutation createContact($data: ContactInput!) {
      createContact(data: $data) {
        data {
          id
          attributes {
            name
            phoneNumber
            project
            called
            contacted
          }
        }
      }
    }
  `;try{const{data:a}=await Wa.mutate({mutation:t,variables:{data:e}});return a.createContact.data}catch(a){throw console.error("Error adding contact:",a),a}}var rn=a(8055),sn=a.n(rn),cn=a(3833),dn=a.n(cn),un=a(4809),mn=a.n(un);function pn(e,t,a,n,l,i){const r=(0,o.g2)("v-card-title"),s=(0,o.g2)("v-card-subtitle"),c=(0,o.g2)("v-btn"),d=(0,o.g2)("v-card-actions"),u=(0,o.g2)("v-text-field"),m=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(m,{class:"mx-auto","max-width":"400"},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.eW)("Countdown Timer")])),_:1}),l.timeRemaining>0?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)((()=>[(0,o.eW)((0,b.v_)(l.timeRemaining)+" seconds remaining",1)])),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:1},{default:(0,o.k6)((()=>[(0,o.eW)("Time's up! Restarting...")])),_:1})),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Send Count: "+(0,b.v_)(l.restartCount),1)])),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:i.startCountdown,disabled:l.isRunning||l.restartCount>=l.maxRestarts},{default:(0,o.k6)((()=>[(0,o.eW)("Start")])),_:1},8,["onClick","disabled"]),(0,o.bF)(c,{onClick:i.stopCountdown,disabled:!l.isRunning},{default:(0,o.k6)((()=>[(0,o.eW)("Stop")])),_:1},8,["onClick","disabled"])])),_:1}),(0,o.bF)(u,{modelValue:l.maxRestarts,"onUpdate:modelValue":t[0]||(t[0]=e=>l.maxRestarts=e),label:"Max Sends",type:"number",min:"1"},null,8,["modelValue"])])),_:1})}var hn={name:"CountdownTimer",props:{seconds:{type:Number,required:!0},onCountdownFinish:{type:Function,default:null}},data(){return{timeRemaining:this.seconds,intervalId:null,restartTimeout:null,isRunning:!1,maxRestarts:0,restartCount:0}},methods:{startCountdown(){this.isRunning=!0,this.timeRemaining=this.seconds+Math.floor(30*Math.random())+1,this.intervalId=setInterval((()=>{this.timeRemaining>0?this.timeRemaining-=1:this.handleCountdownFinish()}),1e3)},stopCountdown(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout),this.isRunning=!1,this.restartCount=0},handleCountdownFinish(){clearInterval(this.intervalId),this.onCountdownFinish&&this.onCountdownFinish(),this.isRunning&&this.restartCount<this.maxRestarts?(this.restartCount+=1,this.restartTimeout=setTimeout((()=>{this.startCountdown()}),1e3)):this.isRunning=!1}},beforeUnmount(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout)}};const gn=(0,p.A)(hn,[["render",pn],["__scopeId","data-v-c82f36f8"]]);var fn=gn,bn=a(2543);function vn(e,t,a,n,l,i){const r=(0,o.g2)("multiselect");return(0,o.uX)(),(0,o.Wv)(r,{modelValue:l.localStage,"onUpdate:modelValue":[t[0]||(t[0]=e=>l.localStage=e),i.emitStageChange],options:l.stageOptions,label:"label","track-by":"value",placeholder:"Select Stage"},null,8,["modelValue","options","onUpdate:modelValue"])}var kn=a(5877),yn={components:{Multiselect:kn.Ay},props:{selectedStage:{type:String,required:!0}},data(){return{localStage:null,stageOptions:[]}},mounted(){this.stageOptions=[{label:"",value:""},{label:"WA: Initial WhatsApp contact with info",value:"WA"},{label:"WF: WhatsApp follow-up",value:"WF"},{label:"PC: Project call and showroom appointment",value:"PC"},{label:'SC: Subsales call to collect "rental/sales" info',value:"SC"},{label:"CA: Create advertisement",value:"CA"},{label:"CF: Customer follow-up",value:"CF"},{label:"VA: Viewing appointment",value:"VA"},{label:"VF: Follow-up after viewing",value:"VF"},{label:"PS: Payment and signing",value:"PS"},{label:"WP: Awaiting payment",value:"WP"},{label:"NI: Not interested",value:"NI"},{label:"UN: Unsuccessful",value:"UN"},{label:"CM: Completed",value:"CM"},{label:"XX: Do not call",value:"XX"}],this.localStage=this.findStageOption(this.selectedStage)},watch:{selectedStage(e){this.localStage=this.findStageOption(e)}},methods:{findStageOption(e){return this.stageOptions.find((t=>t.value===e))||null},emitStageChange(){this.$emit("update-stage",this.localStage?this.localStage.value:null)},getStageDescription(e){const t=this.findStageOption(e);return t?t.label:null}}};const Cn=(0,p.A)(yn,[["render",vn],["__scopeId","data-v-51c7e6be"]]);var wn=Cn;const In=Je.J1`
  query GetLead($phoneNumber: String!) {
    leads(filters: { phoneNumber: { eq: $phoneNumber } }) {
      data {
        id
      }
    }
  }
`;var Fn={name:"ContactList",props:{projectKey:{type:String,required:!0},enDate:{type:String,required:!0}},components:{vSelect:window["vue-select"],CountdownTimer:fn,stageDropdown:wn},setup(){const e=(0,o.nI)(),t=(0,d.KR)([]);let a=[];const n=(0,d.KR)(0),l=(0,d.KR)(!1),i=(0,d.KR)(null),r=(0,d.KR)(null);(0,o.sV)((()=>{const e=localStorage.getItem("currentIndex");null!==e&&(n.value=parseInt(e,10)),i.value=localStorage.getItem("user"),r.value=localStorage.getItem("phoneId")})),(0,o.wB)(n,(e=>{if(null===e){const e=localStorage.getItem("currentIndex");null!==e&&(n.value=parseInt(e,10))}else localStorage.setItem("currentIndex",e)})),(0,o.wB)(i,(e=>{localStorage.setItem("user",e)})),(0,o.wB)(r,(e=>{localStorage.setItem("phoneId",e)}));const{mutate:s}=(0,Xe.n_)(Ba);function c(){this.updateCallCount();const e={name:this.currentContact.name,phoneNumber:this.currentContact.phoneNumber,time:(new Date).toLocaleString()};this.callLog.push(e),this.callLog.length>8&&this.callLog.shift()}async function u(e,t,a,n){try{let{name:a,doc:n,phoneNumber:o,status:l,interaction:i,lastCall:r,nextCall:c,no:d}=e;r=Ka(r,!0),c=Ka(c,!0);let u=t,m=0;"alyssa"===u.toLowerCase()&&(m=3),"alvin"===u.toLowerCase()&&(m=4),"ashton"===u.toLowerCase()&&(m=2);const p={id:m,doc:n,user:u,name:a,phoneNumber:o,status:l,interaction:i,lastCall:r,nextCall:c,no:d};await s(p)}catch(o){alert("error 100"),console.error("Error updating callme:",o)}n.findIndex((t=>t.no===e.no))}const m=()=>{console.log("Attempting to restore data from local storage...");const e=localStorage.getItem("appData");if(e)try{console.log("Saved data found in local storage:",e);const a=JSON.parse(e);t.value=a.contacts||[],l.value=!0,console.log("Data restored from local storage:",a)}catch(a){alert("error 101"),console.error,console.error("Error parsing data from local storage:",a)}else console.log("No saved data found in local storage.")};(0,o.sV)((()=>{m()})),(0,o.nT)((()=>{console.log("watchEffect triggered, contacts:",t.value)})),a=sn()(t.value);const p=async(t,a,n,o)=>{u(t,a,n,o),e.proxy.handleCallClick()},h=()=>{if(console.log("Attempting to save data to local storage..."),l.value)try{const e={contacts:t.value||[],user:i.value||null,phoneId:r.value||null};localStorage.setItem("appData",JSON.stringify(e)),console.log("Data saved to local storage:",e)}catch(e){alert("error 102"),console.error("Error saving to local storage:",e)}else console.log("Data not saved: dataRestored.value is false")},g=(0,bn.debounce)(h,1e3);return(0,o.wB)(t,(e=>{if(Array.isArray(e)){console.log("Contacts changed");let t=!1;if(console.log("New contacts length:",e.length),console.log("Initial contacts length:",a.length),Array.isArray(a)&&e.length!==a.length)t=!0;else for(let n=0;n<e.length;n++){const o=e[n],l=n<a.length?a[n]:void 0;if(!o||!l){t=!0;break}for(const e in o)if(o[e]!==l[e]){console.log(`Field '${e}' in contact ${o.id} changed`),o.updatedAt=(new Date).toISOString(),t=!0;break}if(t)break}t&&(l.value=!0,g(),a=sn()(e))}else console.warn("Contacts is not an array or is undefined:",e)}),{deep:!0}),{handleCallClick:c,restoreDataFromLocalStorage:m,instance:e,makeCall:u,makeCall2:p,isPhoneDisabled2:Ha,isPhoneDisabled:qa,contacts:t,selectedUser:i,selectedPhoneId:r,formattedDate:(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}},mounted(){this.loadMessageFiles(),Ja()},watch:{importDate(e){localStorage.setItem("importDate",e)}},created(){const e=localStorage.getItem("importDate");e&&(this.importDate=e)},data(){return{editContactData:{interaction:"",doc:"",status:"",stage:""},callLog:[],isCopyALL:!1,file:null,showDateFormatDialog:!1,selectedDateFormat:"dd/mm/yyyy",showStatusDialog:!1,selectedStatus:"",importOption:"",importOptions:["Overwrite","Append","Ignore"],viewOnly:!0,showSynDialog:!1,showRecordNo:0,findValue2:"",showCountdown:!1,filterTerm:"",showform:!0,importDate:localStorage.getItem("importDate")||"",sortOrder:{phoneNumber:"asc",name:"asc",no:"asc",status:"asc",project:"asc",nextCall:"asc",dialedDate:"asc"},users:["Alyssa","Ashton","Alvin"],phoneIds:["","*","Alyssa H","Ashton H","Alvin S"],countries:[{country:"Spain"},{country:"France"},{country:"Ghana"},{country:"Nigeria"},{country:"Brazil"},{country:"Ecuador"}],headers2:[{text:"",title:"",value:"edit",width:"2%"},{text:"Project",title:"Project",value:"project",width:"3%"},{text:"Source",title:"Source",value:"source",width:"2%"},{text:"No",title:"No",value:"no",width:"3%"},{text:"Name",title:"Name",value:"name",width:"12%"},{text:"Language",title:"Lgn.",value:"language",width:"1%"},{text:"Phone ID",title:"Phone ID",value:"phoneId",width:"25%"},{text:"Phone",title:"Phone",value:"phoneNumber",width:"25%"},{text:"Interaction",title:"Interaction",value:"interaction",width:"26%"},{text:"Status",title:"Status",value:"status",width:"10%"},{text:"Stage",title:"Stage",value:"stage",width:"10%"},{text:"Doc",title:"Doc",value:"doc",width:"5%"},{text:"Called",title:"Called",value:"called",width:"4%"},{text:"Rating",title:"Rating",value:"rating",width:"4%"},{text:"Contacted",title:"Contacted",value:"contacted",width:"3%"},{text:"Dial Date",title:"Dialed Date",value:"dialedDate",width:"5%"},{text:"Source Date",title:"Source Date",value:"sourceDate",width:"5%"},{text:"Last Called Date",title:"Last Call",value:"lastCall",width:"7%"},{text:"Next Call",title:"Next_Call",value:"nextCall",width:"7%"}],availableDates:this.generateDateOptions(),messageEn:[],messageCn:[],messageBs:[],phoneNumber:"",sendmsg:"",whatsappmessage:"",findValue:null,currentIndex:0,error:null,totalContacts:0,updatedCount:0,progressPercentage:0}},computed:{currentContact(){return this.contacts[this.currentIndex]||{}},filteredContacts(){return""===this.filterTerm?this.contacts:"dup"===this.filterTerm.toLowerCase()?this.getDuplicateRecords():"r"===this.filterTerm.toLowerCase()?this.contacts.filter((e=>e.rating>0)):this.contacts.filter((e=>{const t=[e.name,e.phoneNumber,e.status,e.interaction];return t.some((e=>e.toString().toLowerCase().includes(this.filterTerm.toLowerCase())))}))}},methods:{updateCallCount(){qa(this.currentContact)||(this.currentContact.called=function(e){const t=parseInt(e,10);return isNaN(t)?1:t+1}(this.currentContact.called)),this.currentContact.dialedDate=this.todayDDMMYYYY()},getStageDescription(e){return this.$refs.stageSelect?this.$refs.stageSelect.getStageDescription(e):""},updateContactStage(e){this.editContactData.stage=e},editContact(){this.editContactData={...this.currentContact},this.viewOnly=!1},saveContact(){Object.assign(this.currentContact,this.editContactData),this.currentContact.user=this.selectedUser,this.currentContact.phoneId=this.selectedPhoneId,this.viewOnly=!0},cancelEdit(){this.viewOnly=!0},getLast8Characters(e){const t=e.replace(/\D/g,"");return t.slice(-8)},updateLocalCopy(e,t){const a=this.contacts.indexOf(e);a>-1&&(this.contacts[a]=t)},onFileSelected(e){if(this.file=e.target.files[0],!this.file)return alert("error 103"),void console.error("No file selected");this.showDateFormatDialog=!0},confirmStatus(){this.contacts[this.currentIndex]&&this.selectedStatus?(this.contacts[this.currentIndex].status=this.selectedStatus+" "+this.contacts[this.currentIndex].status,"✓,"==this.selectedStatus&&this.CallSuccess(this.contacts[this.currentIndex]),this.nextContact(),this.showStatusDialog=!1):(alert("error 104"),console.error("Contact or selected status is undefined."))},todayDDMMYYYY(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return`${t}/${a}/${n}`},clearForm(){const e=Math.max(...this.contacts.map((e=>e.no||0)))+1;this.contacts[this.currentIndex]={name:"",phoneNumber:"",interaction:"",project:this.currentContact.project,source:this.currentContact.source,updatedAt:(new Date).toISOString(),no:e,user:this.selectedUser,phoneId:this.selectedPhoneId}},addContact(){this.contacts.push({...this.currentContact}),this.clearForm()},deleteContact(){const e=confirm(`Are you sure you want to delete the contact: ${this.contacts[this.currentIndex].name} (${this.contacts[this.currentIndex].phoneNumber})?`);e&&this.contacts.splice(this.currentIndex,1)},navigateToTalk(e){this.$router.push({path:"/talk",query:{contact:JSON.stringify(e)}})},CallSuccess(e){const t=new Date,a=`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`;e.lastCall=this.convertDMY2YMD(a,!0),e.contacted+=1},isValidEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},previousContact(){this.currentIndex>0&&this.currentIndex--},nextContact(){this.currentIndex<this.contacts.length-1&&this.currentIndex++},AInextContact(){this.currentIndex++;while(this.currentIndex<this.contacts.length-1&&(this.contacts[this.currentIndex].status.includes("ni")||this.contacts[this.currentIndex].status.includes("xxx")||this.contacts[this.currentIndex].called<=3))this.currentIndex++},starNextContact(){this.currentIndex++;while(this.currentIndex<this.contacts.length-1&&(!this.contacts[this.currentIndex].status.includes("*")||!this.contacts[this.currentIndex].interaction.includes("*")))this.currentIndex++},isBlank(e){return null===e||void 0===e||""===e.trim()},formattedPhoneNumber(e){if(this.isBlank(e))return"";const t=e.substring(0,3),a=e.substring(3);return`(${t}) ${a}`},async showConfirmDialog(e,t,a){return console.log("Showing confirm dialog..."),new Promise((n=>{this.showSynDialog=!0,this.showRecordNo=a,this.existingContact=e,this.contact=t,this.confirmSyn=a=>{console.log(`User choose: ${a}`),"deleteServerCopy"==a?this.deleteServerAddLocalCopy(e):"updateServerAllCopy"==a?(this.isCopyALL=!0,this.deleteServerAddLocalCopy(e)):"updateServerCopy"==a?this.deleteServerAddLocalCopy(e):"updateLocalCopy"==a&&this.updateLocalCopy(t,e),this.showSynDialog=!1,n(a)},this.cancelCompare=()=>{console.log("User canceled the dialog."),this.showSynDialog=!1,n(!1)}}))},async loadContactsFromStrapi(e){const t=confirm('Please backup data before you download new data. Click "OK" to proceed, or "Cancel" to quit.');if(!t)return;const a=confirm('Do you want to overwrite existing contacts or append the new ones? Click "OK" to overwrite or "Cancel" to append.');a&&(this.contacts=[]),an(e,this.contacts)},convertDate(e){return e?"dd/mm/yyyy"===this.selectedDateFormat?Ka(e,!0):"mm/dd/yyyy"===this.selectedDateFormat?this.convertMDY2DMY(e,!0):void 0:null},convertMDY2DMY(e){if(!e)return null;const t=e.replace(/-/g,"/"),[a,n,o]=t.split("/").map(Number);if(isNaN(a)||isNaN(n)||isNaN(o))return alert("error 106"),console.error("Invalid date components"),null;const l=new Date(o,a-1,n);if(l.getFullYear()!==o||l.getMonth()!==a-1||l.getDate()!==n)return alert("error 107"),console.error("Invalid date"),null;const i=String(n).padStart(2,"0"),r=String(a).padStart(2,"0"),s=String(o);return`${i}/${r}/${s}`},convertMDY2YMD(e){const t=e.replace(/-/g,"/"),[a,n,o]=t.split("/").map(Number);if(isNaN(n)||isNaN(a)||isNaN(o))return alert("error 108"),console.error("Invalid date components"),null;const l=new Date(o,a-1,n);return l.getFullYear()!==o||l.getMonth()!==a-1||l.getDate()!==n?(alert("error 109"),console.error("Invalid date"),null):Za(l)},async deleteServerAddLocalCopy(e){const t=Je.J1`
    mutation deleteLead($id: ID!) {
      deleteLead( id: $id  ) {
        data{
        id
        }
      }
    }
  `;try{const a=await Wa.mutate({mutation:t,variables:{id:e.id}});a.data.deleteLead.data?console.log(`Server copy of ${e.phoneNumber} deleted.`):(alert("error 112"),console.error(`Failed to delete contact: ${e.phoneNumber}`))}catch(a){alert("error 113"),console.error("Error deleting server copy:",a)}},async checkContactConflict(e,t,a){return null===e.stage&&(e.stage=""),!(e.source===t.source&&e.name===t.name&&e.project===t.project&&e.interaction===t.interaction&&e.status===t.status&&e.phoneId===t.phoneId&&e.stage===t.stage&&e.rating==t.rating&&e.no===t.no&&a<=1&&e.phoneNumber===tn(t.phoneNumber))&&await this.showConfirmDialog(e,t,a)},checkContactConflictAll(e,t){return(e.source!==t.source||e.name!==t.name||e.project!==t.project||e.interaction!==t.interaction||e.phoneId!==t.phoneId)&&(this.deleteServerAddLocalCopy(e),"updateServerCopy")},async uploadToStrapi(){const e=Je.J1`
    mutation UpdateLead(
      $id: ID!
      $no: Int
      $user: String
      $name: String
      $phoneNumber: String
      $status: String
      $phoneId: String
      $interaction: String
      $lastCall: DateTime
      $nextCall: DateTime
      $called: Int
      $rating: Int
      $contacted: Int
      $language: String
      $message: String
      $doc: String
      $stage: String
      $source: String
      $project: String
      $email: String
      $dialedDate: DateTime
      $sourceDate: Date
    ) {
      updateLead(
        id: $id
        data: {
          user: $user
          name: $name
          phoneNumber: $phoneNumber
          status: $status
          phoneId: $phoneId
          interaction: $interaction
          lastCall: $lastCall
          nextCall: $nextCall
          called: $called
          rating: $rating
          no: $no
          language: $language
          contacted: $contacted
          message: $message
          doc: $doc
          stage: $stage
          source: $source
          project: $project
          email: $email
          dialedDate: $dialedDate
          sourceDate: $sourceDate
        }
      ) {
        data {
          id
          attributes {
            name
            phoneNumber
            status
            interaction
            lastCall
            nextCall
            no
          }
        }
      }
    }
  `;this.totalContacts=this.contacts.length,this.updatedCount=0;try{for(const n of this.contacts){if(n.phoneNumber.length<=8)return void alert("Name:"+n.name+",Phone Number:"+n.phoneNumber+" Phone number less then 8 not allow");const o=Je.J1`
            query GetLead($phoneNumber: String!) {
              leads(filters: { phoneNumber: { contains: $phoneNumber } }) {
                data {
                  id
                  attributes {
                    no
                    source
                    project
                    user
                    name
                    phoneNumber
                    status
                    phoneId
                    interaction
                    lastCall
                    nextCall
                    called
                    rating
                    contacted
                    language
                    message
                    doc
                    stage
                    updatedAt
                    email
                    dialedDate
                    sourceDate
                  }
                }
              }
            }
          `;if((this.importDate<n.updatedAt||null==n.updatedAt)&&!this.isBlank(n.phoneNumber)){const{data:l}=await Wa.query({query:o,variables:{phoneNumber:this.getLast8Characters(n.phoneNumber)},fetchPolicy:"no-cache"});if(this.updatedCount++,Array.isArray(l.leads.data)&&l.leads.data.length>0)for(let i=0;i<l.leads.data.length;i++){const r=l.leads.data[i],s=r.attributes;s.id=r.id;var t=!1;if(this.isCopyALL)t=this.checkContactConflictAll(s,n);else if(t=await this.checkContactConflict(s,n,l.leads.data.length-i),0==t)continue;if("updateServerCopy"==t||"updateServerAllCopy"==t){const e=await this.recordExists(tn(n.phoneNumber),o);if(e)continue;n.user=this.selectedUser,"*"!=this.selectedPhoneId.trim()&&(n.phoneId=this.selectedPhoneId),this.AddRecord(n)}if(0!=t){console.log(`Conflict detected for ${n.phoneNumber}. Skipping...`);continue}const c={};for(const e in n)n[e]!==s[e]&&"id"!==e&&(c[e]=n[e]);if(Object.keys(c).length>0)try{await Wa.mutate({mutation:e,variables:{id:s.id,...c,contacted:parseInt(n.contacted,10),called:parseInt(n.called,10),rating:parseInt(n.rating,10),dialedDate:Ka(n.dialedDate,!0),sourceDate:Ka(n.sourceDate,!1),email:this.isValidEmail(n.email)?n.email:null,lastCall:Ka(n.lastCall,!0),nextCall:Ka(n.nextCall,!0),phoneNumber:tn(n.phoneNumber),user:this.selectedUser,phoneId:this.selectedPhoneId}}),console.log(`Updated contact: ${n.phoneNumber}`)}catch(a){alert("error 114"),console.error(`Error updating contact ${n.phoneNumber}:`,a)}}else n.user=this.selectedUser,"*"!=this.selectedPhoneId.trim()&&(n.phoneId=this.selectedPhoneId),this.AddRecord(n);this.progressPercentage=this.updatedCount/this.totalContacts*100,console.log(`Progress: ${this.progressPercentage.toFixed(2)}%`)}}alert("Data synchronization completed!"),this.isCopyALL=!1}catch(n){alert("error 115"),console.error("Error syncing contacts with Strapi:",n),alert("Error syncing contacts with Strapi: "+n.message)}},async recordExists(e){try{const{result:t}=(0,Xe.IT)(In,{phoneNumber:e}),a=await t,n=a.value||{},o=n.leads||{},l=o.data||[];return console.log("Query result:",n),l.length>0}catch(t){return alert("error 116"),console.error("Error checking record existence:",t),!1}},async AddRecord(e){const t=Je.J1`
        mutation CreateLead(
          $no: Int
          $user: String
          $name: String
          $phoneNumber: String
          $status: String
          $phoneId: String
          $interaction: String
          $lastCall: DateTime
          $nextCall: DateTime
          $called: Int
          $rating: Int
          $contacted: Int
          $language: String
          $message: String
          $doc: String
          $stage: String
          $source: String
          $project: String
          $email: String
          $dialedDate: DateTime
          $sourceDate: Date
        ) {
          createLead(
            data: {
              user: $user
              name: $name
              phoneNumber: $phoneNumber
              status: $status
              phoneId: $phoneId
              interaction: $interaction
              lastCall: $lastCall
              nextCall: $nextCall
              called: $called
              rating: $rating
              no: $no
              language: $language
              contacted: $contacted
              message: $message
              doc: $doc
              stage: $stage
              source: $source
              project: $project
              email: $email
              dialedDate: $dialedDate
              sourceDate: $sourceDate
            }
          ) {
            data {
              id
              attributes {
                name
                phoneNumber
                status
                phoneId
                interaction
                lastCall
                nextCall
                no
                project
                source
              }
            }
          }
        }
      `;try{const a=await Wa.mutate({mutation:t,variables:{...e,no:parseInt(e.no,10),contacted:e.contacted?parseInt(e.contacted,10):0,called:e.called?parseInt(e.called,10):0,rating:e.rating?parseInt(e.rating,10):0,dialedDate:Ka(e.dialedDate,!0),sourceDate:Ka(e.sourceDate,!1),email:this.isValidEmail(e.email)?e.email:null,lastCall:Ka(e.lastCall,!0),nextCall:Ka(e.nextCall,!0),phoneNumber:tn(e.phoneNumber)}});console.log(`Created new contact: ${e.phoneNumber}`),console.log("Response:",a.data.createLead.data)}catch(a){alert("error 117"),console.error(`Error creating contact ${e.phoneNumber}:`,a),a.graphQLErrors&&a.graphQLErrors.forEach((e=>{alert("error 118"),console.error("GraphQL Error:",e.message)})),a.networkError&&(alert("error 119"),console.error("Network Error:",a.networkError.message))}},removeContact(e){const t=this.filteredContacts[e],a=confirm(`Are you sure you want to delete the contact: ${t.name} (${t.phoneNumber})?`);if(a){const e=this.contacts.findIndex((e=>e===t));console.log("Removing contact at original index:",e),console.log("Contact:",this.contacts[e]),-1!==e&&this.contacts.splice(e,1)}else console.log("Contact removal canceled.")},getDuplicateRecords(){const e=this.contacts.reduce(((e,t)=>{const a=t.phoneNumber.trim();return a&&(e[a]=(e[a]||0)+1),e}),{}),t=Object.keys(e).filter((t=>e[t]>1));return this.contacts.filter((e=>t.includes(e.phoneNumber.trim())))},stopCountdownFromParent(){this.$refs.countdown.stopCountdown()},async sendMessage(){this.currentIndex=0;while(this.currentIndex<this.contacts.length){if(!this.contacts[this.currentIndex].status.trim().toLowerCase().includes("send")&&!this.contacts[this.currentIndex].status.trim().toLowerCase().includes("xxx")&&this.contacts[this.currentIndex].phoneNumber.trim().length>0){const t=this.contacts[this.currentIndex];let a="e";void 0!==t.language&&""!==t.language.trim()&&(a=t.language);try{let e="!"+a+this.sendmsg,n=this.getmessage(e,t);t.status="send",void 0!==t.doc?t.doc=this.sendmsg+t.doc:t.doc=this.sendmsg;const o=await L.A.post("http://localhost:3000/send-message",{number:t.phoneNumber,message:n});if(!o.data.success)return alert("Failed to send message: "+o.data.error),t.status="error 1 send",void this.$refs.countdown.stopCountdown()}catch(e){return alert("error 120"),console.error("Error:",e),t.status="error 2 send",alert("An error occurred: "+e.message),void this.$refs.countdown.stopCountdown()}this.currentIndex++;break}this.currentIndex++}this.currentIndex>=this.contacts.length&&(this.$refs.countdown.stopCountdown(),alert("send whatapp message completed"))},isVisible(e){return"showAll"===this.filter||e.phoneNumber&&e.phoneNumber.includes(this.searchTerm)},countdownFinished(){console.log("Countdown finished!"),this.sendMessage()},sortContacts(e){const t="asc"===this.sortOrder[e]?1:-1;this.contacts.sort(((a,n)=>a[e]<n[e]?-1*t:a[e]>n[e]?1*t:0)),this.sortOrder[e]="asc"===this.sortOrder[e]?"desc":"asc"},renumbering(){this.contacts.sort(((e,t)=>e["name"]<t["name"]?-1:e["name"]>t["name"]?1:0)),this.contacts.forEach(((e,t)=>{e.no=t+1,e.updatedAt=(new Date).toISOString()}))},printTable(){dn()(document.getElementById("tableToPrint"),{filename:"myFilename.pdf",jsPDF:{unit:"in",format:"A3",orientation:"landscape",html2canvas:{scale:2}}})},rowClick(e){this.currentIndex=this.currentIndex===e?this.currentIndex:e},generateDateOptions(){const e=[],t=new Date;for(let a=0;a<30;a++){const n=new Date(t);n.setDate(t.getDate()+a);const o=String(n.getDate()).padStart(2,"0"),l=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear(),r=`${o}/${l}/${i}`;e.push(r)}return e},addPlus(e){return"60"===e.substring(0,2)&&(e="+"+e),e.replaceAll("@","")},formatString(e){return void 0===e?"":(e=e.replace(/\D/g,""),e.length<=12?e.padEnd(12,"_"):e.slice(0,12))},loadMessageFiles(){this.loadTextFile("/messageEn.txt","messageEn"),this.loadTextFile("/messageCn.txt","messageCn")},loadTextFile(e,t){fetch(e).then((e=>e.text())).then((a=>{console.log(`File loaded successfully: ${e}`),console.log(`Data: ${a}`);const n=a.split("\n"),o=[];let l={code:"",msg:""};"undefined"!==this.projectKey?(n.forEach((e=>{if(!e.startsWith("_"))if(e.startsWith("@")){""!==l.code&&o.push(l);const[t,a]=e.split("|");l={code:t.trim().substring(1),msg:a.trim()+"\n"}}else l.msg+=e.trim().replaceAll("$plink","https://alvintkb.github.io/?p=gyp"+this.enDate+"$phone"+this.projectKey)+"\n"})),""!==l.code&&o.push(l),this[t].splice(0,this[t].length,...o),0==this[t].length&&alert("Error! "+t+" no data")):alert("ProjectKey Not defined")})).catch((e=>{alert("error 121"),console.error("Error loading text file:",e)}))},sendmessage(){if(this.phoneNumber&&this.whatsappmessage){let e=this.getmessage(this.whatsappmessage);const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);const a=this.cleanPhoneNumber(this.phoneNumber),n=`https://api.whatsapp.com/send?phone=${a}&text=${encodeURIComponent(e)}`;window.open(n,"_blank")}else alert("Please enter both telephone number and WhatsApp message.")},jumpToIndex(){this.findValue>=0&&this.findValue<this.contacts.length?this.currentIndex=this.findValue-1:(alert("error 122"),console.error("Invalid index."))},findContactByNumber(e){return this.contacts.find((t=>t.phoneNumber.includes(e)))},findNumber(){const e=this.findContactByNumber(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t,alert("Found!")}else alert("Not Found!"),console.error("No contact found with phone number containing",this.findValue)},findName(){const e=this.findByName(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t,alert("Found!")}else alert("No contact found with this name containing '"+this.findValue+"'")},findByName(e){return this.contacts.find((t=>t.name.toLowerCase().includes(e.toLowerCase())))},camelize(e){return e.replace(/(?:^\w|[-\s]\w)/g,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")},rowSendWhatsApp(e){this.validateInput(this.sendmsg)||(this.sendmsg="a0");const{phoneNumber:t,language:a}=e;var n="!"+(a||"e")+this.sendmsg;let o=this.getmessage(n,e);const l=document.createElement("textarea");l.value=o,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l);const i=this.cleanPhoneNumber(t),r=`https://api.whatsapp.com/send?phone=${i}&text=${encodeURIComponent(o)}`;window.open(r,"_blank"),this.contacts[this.currentIndex].doc.length>0?this.contacts[this.currentIndex].doc+=","+this.sendmsg:this.contacts[this.currentIndex].doc+=this.sendmsg,this.currentIndex=this.contacts.findIndex((t=>t.no===e.no))},sendwhatsappmessage(){const{phoneNumber:e,stage:t,name:a,message:n}=this.currentContact;if("w"===t){if(this.validateInput(t)){let t=this.getmessage(n);t=t.replaceAll("@name",a),t=t.replaceAll("$phone",this.formatString(this.contacts[this.currentIndex].phoneNumber));const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o);const l=this.cleanPhoneNumber(e),i=`https://api.whatsapp.com/send?phone=${l}&text=${encodeURIComponent(t)}`;window.open(i,"_blank"),this.moveToNextContact()}}else this.moveToNextContact()},getmessage(e,t){let a="";return"!c"===e.slice(0,2)?a=this.messageCn.find((t=>t.code===e.slice(1))).msg:"!e"===e.slice(0,2)||"!b"===e.slice(0,2)?0==this.messageEn.length?(alert("No Data"),a=""):a=this.messageEn.find((t=>t.code===e.slice(1))).msg:alert("message error on 1st character, only allow e c b:"+e),a=a.replaceAll("@name",t.name),a=a.replaceAll("@project",this.camelize(t.project)),a=a.replaceAll("$phone",this.formatString(t.phoneNumber)),a},validateInput(e){return!!e&&(this.error=null,!0)},moveToNextContact(){let e=0;do{if(this.currentIndex++,this.currentIndex>=this.contacts.length&&(this.currentIndex=0,e++,e>=this.contacts.length))break}while("w"!==this.contacts[this.currentIndex].stage)},startProcessing(){this.currentIndex=0;let e=0;while("w"!==this.contacts[this.currentIndex].stage)if(this.moveToNextContact(),e++,e>=this.contacts.length)break},loadJSONFile(e){const t=e.target.files[0];if(!t)return void(this.error="Please select a file.");localStorage.removeItem("appData"),this.contacts=[];const a=new FileReader;a.onload=e=>{try{const t=JSON.parse(e.target.result);this.contacts=t.map(((e,t)=>({no:t+1,name:e.name?e.name.trim():"",language:e.language?e.language.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?String(e.email).trim():"",status:e.status?e.status.trim():"",phoneId:e.phoneId?e.phoneId.trim():"",dialedDate:e.dialedDate?e.dialedDate.trim():"1-1-1900",sourceDate:e.sourceDate?e.sourceDate.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",doc:e.doc?e.doc.trim():"",called:e.called?String(e.called).trim():"0",rating:e.rating?String(e.rating).trim():"0",contacted:e.contacted?String(e.contacted).trim():"0",occupation:e.occupation?e.occupation.trim():"",stage:e.stage?e.stage.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900",edit:!1,editField:""}))),this.contacts.sort(((e,t)=>e.phoneNumber<t.phoneNumber?-1:e.phoneNumber>t.phoneNumber?1:0)),this.resetJsonFileInput()}catch(t){alert("error 125"),console.error("Error parsing JSON file:",t),this.error="Error parsing JSON file.",this.resetJsonFileInput()}},a.onerror=e=>{alert("error 126"),console.error("Error reading file:",e),this.error="Error reading file."},a.readAsText(t)},removeDuplicatePhoneNumbers(){const e=new Set;this.contacts=this.contacts.filter((t=>!(!t.phoneNumber||e.has(t.phoneNumber))&&(e.add(t.phoneNumber),!0)))},confirmDateFormat(){this.showDateFormatDialog=!1,this.file&&this.loadCSVFile(this.file)},loadCSVFile(e){const t=new FileReader;t.onload=e=>{const t=e.target.result;mn().parse(t,{header:!0,complete:e=>{const t=e.data.map(((e,t)=>({...e,no:t+1,sourceDate:this.convertDate(e.sourceDate),name:e.name?e.name.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?e.email.trim():"",status:e.status?e.status.trim():"",phoneId:e.phoneId?e.phoneId.trim():"",dialedDate:e.dialedDate?e.dialedDate.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",occupation:e.occupation?e.occupation.trim():"",stage:e.stage?e.stage.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900"})));this.promptUser(t)},error:e=>{alert("error 127"),console.error("Error parsing CSV file:",e)}})},t.readAsText(e)},exportToCSV(){const e="source,project,name,phoneNumber,message,interaction,status,phoneId,date,occupation,stage,email",t=this.contacts.map((e=>{const t=e.date?e.date.trim():"",a=t||(new Date).toLocaleDateString("en-CA");return`${e.source},${e.project},${e.name},${this.formattedPhoneNumber(e.phoneNumber)},${e.message},${e.interaction},${e.status},${e.phoneId},${a},${e.occupation},${e.stage},${e.message},${e.email}`})).join("\n"),a=`${e}\n${t}`,n=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(n);o.setAttribute("href",l),o.setAttribute("download","contacts.csv"),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)},resetFileInput(){this.$refs.fileInput.value=""},resetJsonFileInput(){this.$refs.jsonFileInput.value=""},promptUser(e){const t=["Overwrite","Append","Merge"],a=window.prompt(`Choose import option: ${t.join(", ")}`,"Append");switch(a){case"Overwrite":this.overwriteContacts(e);break;case"Append":this.appendContacts(e);break;case"Merge":this.ignoreIfExists(e);break;default:alert("error 128"),console.error("Invalid import option.")}},overwriteContacts(e){this.contacts=e},appendContacts(e){this.contacts=[...this.contacts,...e]},ignoreIfExists(e){let t="",a="";this.contacts.length>0&&(t=this.contacts[0].source,a=this.contacts[0].project),e.forEach((e=>{const n=this.contacts.find((t=>t.phoneNumber===e.phoneNumber));n||(e.source=t,e.project=a,this.contacts.push(e))})),Ya("project",this.contacts,this.sortOrder)},exportToJSON(){const e=JSON.stringify(this.contacts,null,2),t=new Blob([e],{type:"application/json;charset=utf-8;"}),a=document.createElement("a"),n=URL.createObjectURL(t);a.setAttribute("href",n),a.setAttribute("download","contacts.json"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},editField(e,t){e.edit=!0,e.editField=t},saveField(e){e.edit=!1,e.editField=""}}};const xn=(0,p.A)(Fn,[["render",Ea],["__scopeId","data-v-e4a63c36"]]);var Ln=xn;const Sn=e=>((0,o.Qi)("data-v-19784656"),e=e(),(0,o.jt)(),e),Dn=Sn((()=>(0,o.Lk)("h2",null,"Make Calls",-1))),_n=Sn((()=>(0,o.Lk)("strong",null,"User:",-1))),Rn=Sn((()=>(0,o.Lk)("strong",null,"Name:",-1))),Un=Sn((()=>(0,o.Lk)("strong",null,"Status:",-1))),Nn=Sn((()=>(0,o.Lk)("strong",null,"Interaction:",-1))),$n=Sn((()=>(0,o.Lk)("strong",null,"Last Call:",-1))),En=Sn((()=>(0,o.Lk)("strong",null,"Next Call:",-1))),An=Sn((()=>(0,o.Lk)("strong",null,"Phone Number:",-1))),Pn=Sn((()=>(0,o.Lk)("strong",null,"Doc:",-1))),Vn=Sn((()=>(0,o.Lk)("strong",null,"No:",-1))),Mn=Sn((()=>(0,o.Lk)("h2",null,"Contacts",-1))),Tn=Sn((()=>(0,o.Lk)("strong",null,"ID:",-1))),Wn=Sn((()=>(0,o.Lk)("strong",null,"Name:",-1))),On=Sn((()=>(0,o.Lk)("strong",null,"Email:",-1)));function jn(e,t,a,n,l,i){const r=(0,o.g2)("v-icon"),s=(0,o.g2)("v-btn");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",null,[Dn,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.makeCalls,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("p",null,[_n,(0,o.eW)(" "+(0,b.v_)(e.user),1)]),(0,o.Lk)("h1",null,[Rn,(0,o.eW)(" "+(0,b.v_)(e.name),1)]),(0,o.Lk)("p",null,[Un,(0,o.eW)(" "+(0,b.v_)(e.status),1)]),(0,o.Lk)("h3",null,[Nn,(0,o.eW)(" "+(0,b.v_)(e.interaction),1)]),(0,o.Lk)("p",null,[$n,(0,o.eW)(" "+(0,b.v_)(e.lastCall),1)]),(0,o.Lk)("p",null,[En,(0,o.eW)(" "+(0,b.v_)(e.nextCall),1)]),(0,o.Lk)("p",null,[An,(0,o.eW)(" "+(0,b.v_)(e.phoneNumber),1)]),(0,o.Lk)("p",null,[Pn,(0,o.eW)(" "+(0,b.v_)(e.doc),1)]),(0,o.Lk)("p",null,[Vn,(0,o.eW)(" "+(0,b.v_)(e.no),1)]),(0,o.bF)(s,{rounded:"",href:`tel:${e.phoneNumber}`,color:"primary",style:{width:"20%","min-width":"50px",height:"70px"},class:"mx-1"},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-in-talk")])),_:1})])),_:2},1032,["href"])])))),128))])]),(0,o.Lk)("div",null,[Mn,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.contacts,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("p",null,[Tn,(0,o.eW)(" "+(0,b.v_)(e.id),1)]),(0,o.Lk)("p",null,[Wn,(0,o.eW)(" "+(0,b.v_)(e.name),1)]),(0,o.Lk)("p",null,[On,(0,o.eW)(" "+(0,b.v_)(e.email),1)])])))),128))])])])}var Bn=a(6373),Xn={name:"SocketComponent",setup(){const e={NODE_ENV:"production",VUE_APP_CLOUDINARY_URL:"cloudinary://534437115195651:zG55yScmwQDNzt_hlbJJCdt2vUI@alvin-tan",BASE_URL:"/list/"}.VUE_APP_SERVER_URL||"https://sp412b-763ef468411d.herokuapp.com/",t=(0,Bn.io)(e),a=(0,d.KR)([]),n=(0,d.KR)([]),l=()=>{console.log("Socket connected!"),t.on("makeCall:create",(e=>{console.log("makeCall created!",e),a.value.push(e)})),t.on("makeCall:update",(e=>{console.log("makeCall updated!",e);const t=a.value.findIndex((t=>t.id===e.id));-1!==t?a.value[t]={...a.value[t],...e}:a.value.push(e)})),t.on("makeCall:delete",(e=>{console.log("makeCall deleted!",e),a.value=a.value.filter((t=>t.id!==e.id))})),t.on("contact:create",(e=>{console.log("contact created!",e),n.value.push(e)})),t.on("contact:update",(e=>{console.log("contact updated!",e);const t=n.value.findIndex((t=>t.id===e.id));-1!==t?n.value[t]={...n.value[t],...e}:n.value.push(e)})),t.on("contact:delete",(e=>{console.log("contact deleted!",e),n.value=n.value.filter((t=>t.id!==e.id))}))},i=()=>{console.log("Socket disconnected!")};return(0,o.sV)((()=>{console.log("start!"),t.on("connect",l),t.on("disconnect",i)})),(0,o.hi)((()=>{t.off("connect",l),t.off("disconnect",i),t.disconnect()})),{makeCalls:a,contacts:n}}};const Jn=(0,p.A)(Xn,[["render",jn],["__scopeId","data-v-19784656"]]);var Hn=Jn;const qn=e=>((0,o.Qi)("data-v-f78b519c"),e=e(),(0,o.jt)(),e),Kn=qn((()=>(0,o.Lk)("h2",null,"Contact Management",-1))),Qn=["onClick"],Yn=qn((()=>(0,o.Lk)("h2",null,"Add New Contact",-1)));function Gn(e,t,a,n,l,i){const r=(0,o.g2)("v-select"),s=(0,o.g2)("v-text-field"),c=(0,o.g2)("v-col"),d=(0,o.g2)("v-btn"),u=(0,o.g2)("v-row"),m=(0,o.g2)("v-icon"),p=(0,o.g2)("v-data-table"),h=(0,o.g2)("edit-contact-form"),g=(0,o.g2)("v-checkbox"),f=(0,o.g2)("v-form"),v=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(v,{style:{"margin-top":"64px"}},{default:(0,o.k6)((()=>[Kn,(0,o.bF)(r,{modelValue:n.selectedUser,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedUser=e),items:n.users,"item-text":"text","item-value":"value",label:"Select a user",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"]),(0,o.bF)(r,{modelValue:n.selectedPhoneId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedPhoneId=e),items:n.phoneIds,"item-text":"text","item-value":"value",label:"Select a Phone ID",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"]),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{modelValue:n.projectFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>n.projectFilter=e),label:"Enter project name",outlined:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(c,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{onClick:n.loadContactsFromStrapi2,color:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)("Load Data")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.bF)(u,{class:"sticky-buttons"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{cols:"2",md:"1"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{onClick:n.openAddForm,color:"success",class:"mb-4",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(c,{cols:"2",md:"1"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{onClick:n.editSelectedContact,disabled:!n.selectedIndex,color:"primary",class:"mb-4",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-pencil")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1}),(0,o.bF)(c,{cols:"2",md:"1"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{onClick:n.prevContact,disabled:0===n.selectedIndex,color:"primary",class:"mr-2",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-chevron-left")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1}),(0,o.bF)(c,{cols:"2",md:"1"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{onClick:n.nextContact,disabled:n.selectedIndex===n.contacts.length-1,color:"primary",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-chevron-right")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),n.loading||n.error||!n.contacts.length||n.currentContact||n.isAdding?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(p,{key:0,headers:n.headers,items:n.contacts,"item-key":"id",class:"elevation-1",style:{width:"100%"}},{item:(0,o.k6)((({item:e,index:t})=>[(0,o.Lk)("tr",{class:(0,b.C4)(n.getRowClass(t)),onClick:a=>n.focusRow(e,t)},[(0,o.Lk)("td",null,(0,b.v_)(t+1),1),(0,o.Lk)("td",null,(0,b.v_)(e.project),1),(0,o.Lk)("td",null,(0,b.v_)(e.name),1),(0,o.Lk)("td",null,(0,b.v_)(e.phoneNumber),1),(0,o.Lk)("td",null,(0,b.v_)(e.interaction),1),(0,o.Lk)("td",null,(0,b.v_)(e.status),1),(0,o.Lk)("td",null,(0,b.v_)(e.stage),1),(0,o.Lk)("td",null,(0,b.v_)(e.phoneId),1),(0,o.Lk)("td",null,(0,b.v_)(e.user),1),(0,o.Lk)("td",null,(0,b.v_)(e.doc),1),(0,o.Lk)("td",null,(0,b.v_)(e.rating),1),(0,o.Lk)("td",null,(0,b.v_)(e.called),1),(0,o.Lk)("td",null,(0,b.v_)(e.contacted),1),(0,o.Lk)("td",null,(0,b.v_)(e.clientType),1),(0,o.Lk)("td",null,(0,b.v_)(e.address),1),(0,o.Lk)("td",null,(0,b.v_)(e.URL),1),(0,o.Lk)("td",null,(0,b.v_)(e.URLDate),1)],10,Qn)])),_:1},8,["headers","items"])),n.currentContact&&!n.isAdding?((0,o.uX)(),(0,o.Wv)(h,{key:1,contact:n.currentContact,"on-save":n.saveContact,"on-cancel":n.cancelEdit,selectedUser:n.selectedUser,selectedPhoneId:n.selectedPhoneId,index:n.selectedIndex,contacts:n.contacts},null,8,["contact","on-save","on-cancel","selectedUser","selectedPhoneId","index","contacts"])):(0,o.Q3)("",!0),n.isAdding?((0,o.uX)(),(0,o.Wv)(f,{key:2,ref:"addForm"},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{cols:"12",md:"12"},{default:(0,o.k6)((()=>[Yn,(0,o.bF)(s,{modelValue:n.newContactData.project,"onUpdate:modelValue":t[3]||(t[3]=e=>n.newContactData.project=e),label:"Project",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.name,"onUpdate:modelValue":t[4]||(t[4]=e=>n.newContactData.name=e),label:"Name",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.phoneNumber,"onUpdate:modelValue":t[5]||(t[5]=e=>n.newContactData.phoneNumber=e),label:"Phone",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.status,"onUpdate:modelValue":t[6]||(t[6]=e=>n.newContactData.status=e),label:"Status",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.rating,"onUpdate:modelValue":t[7]||(t[7]=e=>n.newContactData.rating=e),label:"Rating",outlined:""},null,8,["modelValue"]),(0,o.bF)(g,{modelValue:n.newContactData.called,"onUpdate:modelValue":t[8]||(t[8]=e=>n.newContactData.called=e),label:"Called",class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(g,{modelValue:n.newContactData.contacted,"onUpdate:modelValue":t[9]||(t[9]=e=>n.newContactData.contacted=e),label:"Contacted",class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.clientType,"onUpdate:modelValue":t[10]||(t[10]=e=>n.newContactData.clientType=e),label:"Client Type",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.address,"onUpdate:modelValue":t[11]||(t[11]=e=>n.newContactData.address=e),label:"Address",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.url,"onUpdate:modelValue":t[12]||(t[12]=e=>n.newContactData.url=e),label:"URL",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{modelValue:n.newContactData.URLDate,"onUpdate:modelValue":t[13]||(t[13]=e=>n.newContactData.URLDate=e),label:"URL Date",type:"date",outlined:""},null,8,["modelValue"]),(0,o.bF)(d,{onClick:n.saveNewContact,color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)("Save")])),_:1},8,["onClick"]),(0,o.bF)(d,{onClick:n.cancelAdd,color:"blue"},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},512)):(0,o.Q3)("",!0)])),_:1})}function zn(e,t,a,n,l,i){const r=(0,o.g2)("v-textarea"),s=(0,o.g2)("v-text-field"),c=(0,o.g2)("v-select"),d=(0,o.g2)("v-btn"),u=(0,o.g2)("v-icon"),m=(0,o.g2)("v-col"),p=(0,o.g2)("v-row"),h=(0,o.g2)("v-form");return a.contact?((0,o.uX)(),(0,o.Wv)(h,{key:0,ref:"contactForm"},{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,{cols:"12",md:"12"},{default:(0,o.k6)((()=>[(0,o.Lk)("h2",null,"Edit Contact: "+(0,b.v_)(a.index)+"-"+(0,b.v_)(a.contact.no)+"/"+(0,b.v_)(a.contact.name)+"/"+(0,b.v_)(a.contact.phoneNumber),1),(0,o.bF)(r,{modelValue:n.editContactData.interaction,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editContactData.interaction=e),label:"Interaction",outlined:""},null,8,["modelValue"]),(0,o.bF)(s,{label:"Doc",modelValue:n.editContactData.doc,"onUpdate:modelValue":t[1]||(t[1]=e=>n.editContactData.doc=e),class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(s,{label:"Status",modelValue:n.editContactData.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.editContactData.status=e),class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(s,{label:"Rating",modelValue:n.editContactData.rating,"onUpdate:modelValue":t[3]||(t[3]=e=>n.editContactData.rating=e),modelModifiers:{number:!0},type:"number",class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(s,{label:"Called (0 or 1)",modelValue:n.editContactData.called,"onUpdate:modelValue":t[4]||(t[4]=e=>n.editContactData.called=e),modelModifiers:{number:!0},type:"number",class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(s,{label:"Contacted (0 or 1)",modelValue:n.editContactData.contacted,"onUpdate:modelValue":t[5]||(t[5]=e=>n.editContactData.contacted=e),modelModifiers:{number:!0},type:"number",class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(c,{modelValue:n.editContactData.clientType,"onUpdate:modelValue":t[6]||(t[6]=e=>n.editContactData.clientType=e),items:n.clientTypes,label:"Client Type",outlined:""},null,8,["modelValue","items"]),(0,o.bF)(s,{label:"Address",modelValue:n.editContactData.address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.editContactData.address=e),class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(s,{label:"URL",modelValue:n.editContactData.URL,"onUpdate:modelValue":t[8]||(t[8]=e=>n.editContactData.URL=e),class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(s,{label:"URL Date",modelValue:n.editContactData.URLDate,"onUpdate:modelValue":t[9]||(t[9]=e=>n.editContactData.URLDate=e),type:"date",class:"edit-mode"},null,8,["modelValue"]),(0,o.bF)(c,{modelValue:n.editContactData.stage,"onUpdate:modelValue":t[10]||(t[10]=e=>n.editContactData.stage=e),items:n.stageOptions,label:"Stage",outlined:""},null,8,["modelValue","items"]),(0,o.bF)(c,{modelValue:n.editContactData.phoneId,"onUpdate:modelValue":t[11]||(t[11]=e=>n.editContactData.phoneId=e),items:n.phoneIdOptions,label:"PhoneId",outlined:""},null,8,["modelValue","items"]),(0,o.Lk)("h2",null,"Last Call Date: "+(0,b.v_)(a.contact.lastCall),1),(0,o.Lk)("h2",null,"Next Call Date: "+(0,b.v_)(a.contact.nextCall),1),(0,o.bF)(d,{onClick:n.saveContact,color:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)("Save")])),_:1},8,["onClick"]),(0,o.bF)(d,{onClick:n.cancelEdit,color:"blue"},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"]),(0,o.bF)(d,{rounded:"",onClick:t[12]||(t[12]=e=>n.makeCall2(n.editContactData,a.selectedUser,a.index,a.contacts)),color:n.isPhoneDisabled(a.contact)?"grey":"primary",style:{width:"20%","min-width":"50px",height:"70px"},disabled:1==n.isPhoneDisabled2(a.contact)||0==n.isPhoneDisabled2(a.contact),class:"mx-1"},{default:(0,o.k6)((()=>[1==n.isPhoneDisabled2(a.contact)||0==n.isPhoneDisabled2(a.contact)?((0,o.uX)(),(0,o.Wv)(u,{key:0},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-off")])),_:1})):((0,o.uX)(),(0,o.Wv)(u,{key:1},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-monitor-cellphone-star")])),_:1}))])),_:1},8,["color","disabled"])])),_:1})])),_:1})])),_:1},512)):(0,o.Q3)("",!0)}var Zn={name:"editFromy",props:{contact:Object,onSave:Function,onCancel:Function,index:Number,selectedUser:String,selectedPhoneId:String,contacts:Object},setup(e){const t=(0,d.KR)({interaction:"",doc:"",status:"",rating:0,called:0,contacted:0,clientType:"",address:"",URL:"",URLDate:"",stage:"",phoneId:""}),a=["buyer","seller","co broke","Tenant","Land Owner"],n=["Lead","Opportunity","Negotiation","Closed","Follow-up"],l=["Alyssa H","Ashton H","Alvin S",""];(0,o.wB)((()=>e.contact),(e=>{e&&(t.value={name:e.name||"",phoneNumber:e.phoneNumber||"",lastCall:Ka(e.lastCall,!0),nextCall:Ka(e.nextCall,!0),no:e.no,interaction:e.interaction||"",doc:e.doc||"",status:e.status||"",rating:e.rating||0,called:e.called||0,contacted:e.contacted||0,clientType:e.clientType||"",address:e.address||"",URL:e.URL||"",URLDate:e.URLDate||"",stage:e.stage||"",phoneId:e.phoneId||""})}),{immediate:!0});const i=()=>{qa(t.value)||(t.value.called=function(e){const t=parseInt(e,10);return isNaN(t)?1:t+1}(t.value.called),t.value.dialedDate=(new Date).toLocaleDateString())},r=()=>{i();const e={name:t.value.name,phoneNumber:t.value.phoneNumber,time:(new Date).toLocaleString()},a=[];a.push(e),a.length>8&&a.shift()},s=async(e,t,a,n)=>{await p(e,t,a,n),r()},c=()=>{e.onSave(t.value)},u=()=>{e.onCancel()},{mutate:m}=(0,Xe.n_)(Ba);async function p(e,t,a,n){try{let{name:a,doc:n,phoneNumber:o,status:l,interaction:i,lastCall:r,nextCall:s,no:c,clientType:d,address:u,URL:p,URLDate:h,stage:g,phoneId:f}=e;r=Ka(r,!0),s=Ka(s,!0);let b=t,v=0;"alyssa"===b.toLowerCase()&&(v=3),"alvin"===b.toLowerCase()&&(v=4),"ashton"===b.toLowerCase()&&(v=2);const k={id:v,doc:n,user:b,name:a,phoneNumber:o,status:l,interaction:i,lastCall:r,nextCall:s,no:c,clientType:d,address:u,URL:p,URLDate:h,stage:g,phoneId:f};await m(k)}catch(o){alert("error 100"),console.error("Error updating callme:",o)}n.findIndex((t=>t.no===e.no))}return{updateCallCount:i,handleCallClick:r,makeCall2:s,editContactData:t,saveContact:c,cancelEdit:u,isPhoneDisabled2:Ha,isPhoneDisabled:qa,clientTypes:a,stageOptions:n,phoneIdOptions:l}},mounted(){Ja()}};const eo=(0,p.A)(Zn,[["render",zn],["__scopeId","data-v-31d03fbd"]]);var to=eo,ao={components:{EditContactForm:to},setup(){const e=(0,d.KR)([]),t=(0,d.KR)(!1),a=(0,d.KR)(null),n=(0,d.KR)(null),o=(0,d.KR)(!1),l=(0,d.KR)({}),i=(0,d.KR)(""),r=(0,d.KR)(null),s=(0,d.KR)(null),c=(0,d.KR)(null),u=(0,d.KR)(null),m=[{text:"No",title:"No",value:"no"},{text:"Project",title:"Project",value:"project"},{text:"Name",title:"Name",value:"name"},{text:"Phone Number",title:"Phone Number",value:"phoneNumber"},{text:"Interaction",title:"Interaction",value:"interaction"},{text:"Status",title:"Status",value:"status"},{text:"Stage",title:"Stage",value:"stage"},{text:"Phone ID",title:"Phone ID",value:"phoneId"},{text:"User",title:"User",value:"user"},{text:"Doc",title:"Doc",value:"doc"},{text:"Rating",title:"Rating",value:"rating"},{text:"Called",title:"Called",value:"called"},{text:"Contacted",title:"Contacted",value:"contacted"},{text:"Client Type",title:"Client Type",value:"clientType"},{text:"Address",title:"Address",value:"address"},{text:"URL",title:"URL",value:"URL"},{text:"URL Date",title:"URL Date",value:"URLDate"}];async function p(){t.value=!0,a.value=null;try{e.value=await an(i.value,e.value,(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}))}catch(n){console.error("Error loading contacts:",n),a.value="An error 211 occurred while loading contacts. Please try again."}finally{t.value=!1}}function h(e,t){u.value=e,c.value=t}function g(){u.value&&(n.value={...u.value})}function f(){c.value>0&&(c.value--,n.value=e.value[c.value])}function b(){c.value<e.value.length-1&&(c.value++,n.value=e.value[c.value])}function v(){l.value={},o.value=!0}async function k(){try{await ln(l.value),e.value.push({...l.value}),o.value=!1}catch(t){console.error("Error saving contact:",t)}}function y(){o.value=!1}function C(){n.value=null}function w(e){return e===c.value?"highlighted-row":e%2===0?"even-row":"odd-row"}async function I(e){n.value.id&&await on(n.value.id,e),p(),n.value=null}return{getRowClass:w,users:["Alyssa","Ashton","Alvin"],phoneIds:["Alyssa H","Ashton H","Alvin H"],headers:m,contacts:e,loading:t,error:a,currentContact:n,isAdding:o,newContactData:l,projectFilter:i,selectedUser:r,selectedPhoneId:s,selectedIndex:c,focusRow:h,prevContact:f,nextContact:b,openAddForm:v,saveNewContact:k,cancelAdd:y,editSelectedContact:g,saveContact:I,cancelEdit:C,loadContactsFromStrapi2:p}}};const no=(0,p.A)(ao,[["render",Gn],["__scopeId","data-v-f78b519c"]]);var oo=no;const lo=["innerHTML"];function io(e,t,a,n,l,i){const r=(0,o.g2)("v-select"),s=(0,o.g2)("v-col"),c=(0,o.g2)("v-row"),d=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(d,{class:"full-height"},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:l.selectedTitle,"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedTitle=e),items:l.titles,label:"Select Message Type",outlined:""},null,8,["modelValue","items"])])),_:1})])),_:1}),(0,o.bF)(c,{class:"full-height"},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.Lk)("p",{innerHTML:i.selectedMessage},null,8,lo)])),_:1})])),_:1})])),_:1})}var ro={name:"saleTalk",data(){return{currentContact:null,selectedTitle:"Project Ashwood",titles:["Project Ashwood","Project Titan","For Sales","For Rent","Exclusive Opportunity at RBJ Condominium","coldcall","coldtalk2","project"],messages:{"Project Ashwood":"page 1\n<b>Ashwood: Your Gateway to Urban Living</b><br/>\nHi @name, how are you, Previously, you inquired about <b>@project</b>, our newly launched condominium at Jalan Uthant. Strategically located just 5 minutes from KLCC and 10 minutes from TRX, Ashwood offers the perfect blend of convenience and tranquility.<br/><br/>\nNestled amidst prestigious educational institutions like Flose International School and SJKK Chung Hwa(p) School, @project provides a prime location for families and individuals seeking a high-quality lifestyle.<br/><br/>\n<b>Exclusive Event This Saturday</b><br/>\nJoin us this Saturday for a private event where you can explore our remaining 30 units. All units are corner units, ensuring breathtaking views of KLCC or Bukit Ampang.<br/>\nWhether you're looking for a dream home or a lucrative investment, @project presents an exceptional opportunity.<br/><br/>\n            <b>Reseller Program</b><br/>\nWe invite you to participate in our reseller program and earn referral fees for every successful sale.<br/><br/>","Project Titan":"page 2, Previously, you inquired about <b>@project</b>, our newly launched condominium at Bukit Jalil. Are you considering it for investment or home stay?\n           for stay I recommend @project,\n           Strategically located just 5 minutes to Pavillion  and 5 minutes from LRT, @project offers the perfect blend of convenience and tranquility.<br/><br/>\nNestled amidst prestigious educational institutions like Chi Ji International School, @project provides a prime location for families and individuals seeking a high-quality lifestyle.<br/><br/>\n<b>Exclusive Event This Saturday</b><br/>\nJoin us this Saturday for a private event where you can explore our remaining 30 units. All units are corner units, ensuring breathtaking views of KLCC or Bukit Ampang.<br/>\nWhether you're looking for a dream home or a lucrative investment, @project presents an exceptional opportunity.<br/><br/>\n<b>Reseller Program</b><br/>\nWe invite you to participate in our reseller program and earn referral fees for every successful sale.<br/><br/>","For Sales":"page 3\n<b>@project: Your Gateway to Urban Living</b><br/>\nHi @name how are you, I understand that you have a unit at @project. we have a potential customer who are interested in the unit, are you considering selling or Rent? \n\nFor Sale\nWe offer complimentary advertising services to help you generate income from your property. \nTo proceed, may I know \nBuilt up area\nNo of bedrooms / bathrooms/ car park\nBare/ partial funished/ fully furnished\nTenanted/ owner occupied/ vacant\nExpected selling price\n\nThese details would be helpful for the potential tenant or buyer.\nThank you, and we're looking forward to assisting you further!\",\n\nor \nsend the below message to whatapp\n1. Built up area\n2. No of room\n3. No of  bathroom\n4. No of parking lot / no car park\n5.Tenanted/ own occupied/ vacant\n* If tenanted\nCurrent rental& tenancy expiry date\n6. Basic/ partly/ fully furnished\n8.Strata title obtained?\n9. Maintenance fee & sinking fund? (for condo question only)\n10. One vendor name or 2 vendors or more?\n11. Free from emcumbrances or still have housing loan with bank \n12. Expected selling price\n\nBasically i need the above info from you\n            ","For Rent":"page 4\n <b>@project: Your Gateway to Urban Living</b><br/>\nHi @name how are you, I understand that you have a unit at @project. we have a potential customer who are interested in the unit, are you considering \nselling or Rent? \n\n\n您好，打扰您一下。我是房地产顾问。请问您有意出租或出售您在@project的房地产吗? 我们有一些非常感兴趣的客户，可以帮助您快速达成交易。如果您方便，能否讨论一下价格和条件？\nHello, I hope I'm not bothering you. I'm a real estate consultant. Are you considering renting or selling your property in Parklane? We have some interested clients, and we hope we can help you close the deal quickly. If you're interested, could we discuss the price and terms?\n\n加速\nJiāsù\n\nFor Land owner\n\nfor Sales\nBuilt up area\nNo of bedrooms / bathrooms/ car park\nBare/ partial funished/ fully furnished\nTenanted/ owner occupied/ vacant\nExpected selling price\n\nsend by whatwapp\n1. Built up area\n2. No of room\n3. No of  bathroom\n4. No of parking lot / no car park\n5.Tenanted/ own occupied/ vacant\n* If tenanted\nCurrent rental& tenancy expiry date\n6. Basic/ partly/ fully furnished\n8.Strata title obtained?\n9. Maintenance fee & sinking fund?\n10. One vendor name or 2 vendors or more?\n11. Free from emcumbrances or still have housing loan with bank \n12. Expected selling price\n\nBasically i need the above info yq\n\n------------\nFor Tenant\nCan i have the following details?\n1. Nationality/Race: \n2. Total occupants: \n3. Family or bachelor (list down): \n4. Occupation/business type:  \n5. Partly/ Fully furnished: \n6. Request:\n7. Move in date: \n8. How long to stay: \n9. Price range:\n\n","Exclusive Opportunity at RBJ Condominium":"Page 5\nThank you for your previous inquiry about RBJ, our newly launched condominium in Bukit Jalil. Are you considering it as an investment or for your home?\nIf you're looking for a place to live, RBJ is the perfect choice. Located just 5 minutes from Pavilion and the LRT, it offers an unbeatable combination of convenience and tranquility. Imagine living in a home where everything you need is just a few minutes away—shops, restaurants, schools, and easy transportation access.\nPlus, with its serene surroundings and modern amenities, RBJ offers a high-quality lifestyle for both families and individuals. Whether you're thinking about upgrading your lifestyle or securing a valuable asset for the future, RBJ is a smart move.\n",coldcall:'Alvin (Agent):\n"Hello, is Mr. Jones available, please?\nMy name is Alvin, and I\'m a real estate agent. I\'m calling about a potential property sale or rental at Greenpark Condominium.\nI understand you may be the owner. Would you be interested in discussing this further?"\n\nMr. Jones (Owner):\n"Hi Alvin, yes, I\'m the owner. What exactly are you looking to discuss?"\n\nAlvin (Agent):\n"Thank you for confirming, Mr. Jones. I work with clients who are actively looking for properties in the Greenpark Condominium area, both for buying and renting.\nI wanted to know if your unit is currently available, or if you\'d consider listing it either for sale or rent? This could be a great opportunity given the demand in the area."\n\nMr. Jones (Owner):\n"Well, I hadn\'t thought about selling, but I might be open to renting. Could you tell me more about what the market looks like?"\n\nAlvin (Agent):\n"Absolutely, Mr. Jones. The rental market in Greenpark is currently strong, especially due to its prime location. I can provide you with up-to-date rental rates and help find reliable tenants quickly. Would you prefer a long-term or short-term rental? And would you like me to send over a detailed market analysis for your unit?"\n\nMr. Jones (Owner):\n"That sounds good. I\'m more inclined towards long-term rentals. Please send me the details, and we can go from there."\n\nAlvin (Agent):\n"Fantastic! I’ll send over a market analysis along with the expected rental returns and any potential opportunities. I\'ll follow up in a few days to discuss the next steps. Feel free to reach out if you have any questions in the meantime."\n\nMr. Jones (Owner):\n"Thanks, Alvin. I’ll look forward to the details."',coldtalk2:'"Hello, is Mr. Jones available, please?\nMy name is Alvin, and I\'m a real estate agent. I\'m calling about a potential property sale or rental at Greenpark Condominium."\n\nCaller (Not Mr. Jones):\n"Hi, sorry, I\'m not Mr. Jones. Can I help you with something?"\n\nAlvin (Agent):\n"Thank you for letting me know. By any chance, do you know if Mr. Jones is the owner of a unit at Greenpark Condominium?\nI’m reaching out because I work with clients who are looking for properties in that area, and I wanted to see if his unit might be available for sale or rent."\n\nCaller (Not Mr. Jones):\n"I’m not sure about that. I’m just a tenant here."\n\nAlvin (Agent):\n"Got it, thanks for the clarification. If you have a way of reaching Mr. Jones, I’d appreciate it if you could pass along my message. Or, if it’s convenient, you could share his contact information with me, and I’ll follow up directly.\n\nI work with clients interested in properties like this, so if there’s any interest in selling or renting, we could explore those options together."\n\nCaller (Not Mr. Jones):\n"I’ll pass along your message, but I’m not sure how interested he’d be."\n\nAlvin (Agent):\n"That’s all I ask. Thank you so much for your help! If Mr. Jones has any questions or is open to discussing it further, please feel free to share my number with him. Have a great day!"',project:'嗨，Jacqie先生！我是Bukit Jalil的开发商代表，我从您对我们Facebook广告的询问中得到了您的联系方式。您是不是正在寻找Bukit Jalil的房子，\n对吧？我们@project项目正好位于Bukit Jalil区域，价格大约600千。您今天有空来参观我们的展厅吗？我们特别为您准备了独家VIP优惠，\n展厅今天开放到下午6点，机会难得，千万别错过哦！"'},formattedText:""}},created(){const e=this.$route.query.contact;let t=null;if(e)try{t=JSON.parse(e)}catch(o){console.error("Failed to parse contact string:",o)}let a="",n="";t&&(a=t.name,n=t.project,n&&a&&(this.formattedText=this.buildPersonalizedText(n,a,this.selectedTitle)))},watch:{selectedTitle(e){const t=this.$route.query.contact;let a=null;if(t)try{a=JSON.parse(t)}catch(n){console.error("Failed to parse contact string:",n)}a&&(this.formattedText=this.buildPersonalizedText(a.project,a.name,e))}},computed:{selectedMessage(){return this.formattedText}},methods:{buildPersonalizedText(e,t,a){let n=this.messages[a];return n=n.replaceAll("@name",t),n=n.replaceAll("@project",e),n}}};const so=(0,p.A)(ro,[["render",io],["__scopeId","data-v-d51273ba"]]);var co=so;function uo(e,t,a,n,l,i){const r=(0,o.g2)("v-alert"),s=(0,o.g2)("v-data-table"),c=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(c,null,{default:(0,o.k6)((()=>[n.loading?((0,o.uX)(),(0,o.Wv)(r,{key:0,type:"info",dismissible:""},{default:(0,o.k6)((()=>[(0,o.eW)(" Loading... ")])),_:1})):(0,o.Q3)("",!0),n.error?((0,o.uX)(),(0,o.Wv)(r,{key:1,type:"error",dismissible:""},{default:(0,o.k6)((()=>[(0,o.eW)(" An error occurred: "+(0,b.v_)(n.error.message),1)])),_:1})):(0,o.Q3)("",!0),n.loading||n.error||!n.uniqueProjects.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(s,{key:2,headers:n.headers,items:n.uniqueProjects,"item-key":"project",class:"elevation-1"},{["item.source"]:(0,o.k6)((({item:e})=>[(0,o.eW)((0,b.v_)(e.source),1)])),["item.project"]:(0,o.k6)((({item:e})=>[(0,o.eW)((0,b.v_)(e.project),1)])),_:2},1032,["headers","items"]))])),_:1})}var mo={name:"listProject",setup(){const e=[{text:"Source",value:"source"},{text:"Project",value:"project"}],t=Je.Ay`
      query {
        leads(pagination: { limit: 1000 }) {
          data {
            attributes {
              project
              source
            }
          }
        }
      }
    `,{result:a,loading:n,error:l}=(0,Xe.IT)(t),i=(0,o.EW)((()=>{if(a.value){const e=a.value.leads.data;return r(e)}return[]})),r=e=>{const t=new Map;return e.forEach((e=>{const a=e.attributes.project,n=e.attributes.source;t.has(a)||t.set(a,{project:a,source:n})})),Array.from(t.values())};return{uniqueProjects:i,loading:n,error:l,headers:e}}};const po=(0,p.A)(mo,[["render",uo],["__scopeId","data-v-3aaba942"]]);var ho=po;const go=[{path:"/main",name:"MainPage",component:Ht,meta:{requiresAuth:!1}},{path:"/home",name:"HomePage",component:ft,meta:{requiresAuth:!1}},{path:"/soc",name:"SocketComponent",component:Hn,meta:{requiresAuth:!1}},{path:"/",name:"ContactList",component:Ln,meta:{requiresAuth:!1}},{path:"/snr",name:"listByProject",component:oo,meta:{requiresAuth:!1}},{path:"/talk",name:"saleTalk",component:co,meta:{requiresAuth:!1}},{path:"/listProject",name:"listProject",component:ho,meta:{requiresAuth:!1}},{path:"/business",name:"BusinessPage",component:Pt,meta:{requiresAuth:!1}},{path:"/winback",name:"WinbackPage",component:jt,meta:{requiresAuth:!1}},{path:"/about",name:"AboutPage",component:It,meta:{requiresAuth:!1}}],fo=(0,f.aE)({history:(0,f.Bt)(),routes:go});fo.beforeEach(((e,t,a)=>{const n="true"===localStorage.getItem("authenticated");e.matched.some((e=>e.meta.requiresAuth))&&!n?a("/"):a()}));var bo=fo,vo=a(4825),ko=a(2938),yo=a(3379),Co=(a(5524),a(1193));const wo=(0,Co.$)({uri:"https://sp412b-763ef468411d.herokuapp.com/graphql"}),Io=new Pa.R({link:wo,cache:new Va.D});(0,Xe._5)(Io);const Fo=(0,n.Ef)(g),xo=(0,vo.$N)({components:ko,directives:yo});Fo.config.globalProperties.cleanPhoneNumber=function(e){return e.replace(/[\s-]/g,"")},Fo.use(bo),Fo.use(xo),Fo.mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,l){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],l=e[d][2];for(var r=!0,s=0;s<n.length;s++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(r=!1,l<i&&(i=l));if(r){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var l=Object.create(null);a.r(l);var i={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},a.d(l,i),l}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{303:"2329c1a8",668:"303c240e",838:"93dcc815"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue5:";a.l=function(n,o,l,i){if(e[n])e[n].push(o);else{var r,s;if(void 0!==l)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+l){r=u;break}}r||(s=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+l),r.src=n),e[n]=[o];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),s&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/list/"}(),function(){var e={524:0};a.f.j=function(t,n){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var l=new Promise((function(a,n){o=e[t]=[a,n]}));n.push(o[2]=l);var i=a.p+a.u(t),r=new Error,s=function(n){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var l=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+l+": "+i+")",r.name="ChunkLoadError",r.type=l,r.request=i,o[1](r)}};a.l(i,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,l,i=n[0],r=n[1],s=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(s)var d=s(a)}for(t&&t(n);c<i.length;c++)l=i[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},n=self["webpackChunkvue5"]=self["webpackChunkvue5"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(9530)}));n=a.O(n)})();
//# sourceMappingURL=app.23925585.js.map