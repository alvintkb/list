(function(){"use strict";var e={9061:function(e,t,a){var n=a(3751),l=a(641);const o=e=>((0,l.Qi)("data-v-ac1caf26"),e=e(),(0,l.jt)(),e),r=o((()=>(0,l.Lk)("img",{id:"scroll-to-section",class:"svg-icon",src:"img/Unifi-logo.svg",alt:"Unifi Home"},null,-1))),i=o((()=>(0,l.Lk)("span",null,"Home",-1))),s=o((()=>(0,l.Lk)("span",null,"About",-1)));function c(e,t,a,n,o,c){const d=(0,l.g2)("v-icon"),u=(0,l.g2)("v-btn"),p=(0,l.g2)("v-app-bar-nav-icon"),m=(0,l.g2)("v-toolbar-title"),h=(0,l.g2)("v-spacer"),g=(0,l.g2)("v-app-bar"),v=(0,l.g2)("v-list-item-icon"),b=(0,l.g2)("v-list-item-title"),f=(0,l.g2)("v-list-item"),k=(0,l.g2)("v-list-item-group"),C=(0,l.g2)("v-list"),y=(0,l.g2)("v-navigation-drawer"),w=(0,l.g2)("router-view"),S=(0,l.g2)("v-main"),F=(0,l.g2)("v-bottom-navigation"),x=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(x,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{app:"",color:"primary",dark:""},{default:(0,l.k6)((()=>[c.isSubPage?((0,l.uX)(),(0,l.Wv)(u,{key:0,onClick:c.goBack,icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-left")])),_:1})])),_:1},8,["onClick"])):((0,l.uX)(),(0,l.Wv)(p,{key:1,onClick:t[0]||(t[0]=e=>o.drawer=!o.drawer)})),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[r])),_:1}),(0,l.bF)(h),n.authStore.isAuthenticated?((0,l.uX)(),(0,l.Wv)(u,{key:2,onClick:c.logout,icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-logout")])),_:1})])),_:1},8,["onClick"])):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(y,{modelValue:o.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>o.drawer=e),app:"",temporary:""},{default:(0,l.k6)((()=>[(0,l.bF)(C,{nav:""},{default:(0,l.k6)((()=>[n.authStore.isAuthenticated?((0,l.uX)(),(0,l.Wv)(k,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(f,{to:"/home",exact:""},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-home")])),_:1})])),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.eW)("Home")])),_:1})])),_:1}),(0,l.bF)(f,{to:"/about",exact:""},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-information")])),_:1})])),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.eW)("About")])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(f,{to:"/",exact:""},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-login")])),_:1})])),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.eW)("Login")])),_:1})])),_:1}),(0,l.bF)(f,{to:"/soc",exact:""},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-phone")])),_:1})])),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.eW)("Auto Show")])),_:1})])),_:1}),(0,l.bF)(f,{to:"/snr",exact:""},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-search")])),_:1})])),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.eW)("Contact List V2")])),_:1})])),_:1}),(0,l.bF)(f,{to:"/listProject",exact:""},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-search")])),_:1})])),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.eW)("List Project")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.bF)(w)])),_:1}),n.authStore.isAuthenticated?((0,l.uX)(),(0,l.Wv)(F,{key:0,app:""},{default:(0,l.k6)((()=>[(0,l.bF)(u,{to:"/home",exact:""},{default:(0,l.k6)((()=>[i,(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-home")])),_:1})])),_:1}),(0,l.bF)(u,{to:"/about",exact:""},{default:(0,l.k6)((()=>[s,(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-information")])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0)])),_:1})}a(4114);var d=a(953);const u=(0,d.Kh)({isAuthenticated:"true"===localStorage.getItem("authenticated"),login(){this.isAuthenticated=!0,localStorage.setItem("authenticated","true")},logout(){this.isAuthenticated=!1,localStorage.removeItem("authenticated")}});var p={name:"App",setup(){return{authStore:u}},components:{},data(){return{drawer:!1,pageTitle:"My Image Slider",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"WINBACK",route:"/winback"},{src:"img/2.png",category:"BUSINESS",route:"/business"}]}},computed:{filteredImages(){return this.imagesArray},isSubPage(){const e=["/"];return!e.includes(this.$route.path)}},methods:{goBack(){this.$router.go(-1)},logout(){this.authStore.logout(),this.$router.push({name:"Login"})}},watch:{$route(e,t){console.log("Route changed from",t.path,"to",e.path)}}},m=a(6262);const h=(0,m.A)(p,[["render",c],["__scopeId","data-v-ac1caf26"]]);var g=h,v=a(6166),b=a(33);const f={class:"header"},k={class:"page-title"};function C(e,t,a,n,o,r){const i=(0,l.g2)("MySelector"),s=(0,l.g2)("MyPackage"),c=(0,l.g2)("MyReg"),d=(0,l.g2)("LaunchButton"),u=(0,l.g2)("tmReg"),p=(0,l.g2)("ImageUpLoader"),m=(0,l.g2)("CameraCapture");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",f,[(0,l.Lk)("h1",k,(0,b.v_)(o.pageTitle),1)]),(0,l.bF)(i,{plans:o.filteredPlans},null,8,["plans"]),(0,l.bF)(s,{pageTitle:o.pageTitle,plans:o.filteredPlans},null,8,["pageTitle","plans"]),(0,l.bF)(c),o.showLaunchButton?((0,l.uX)(),(0,l.Wv)(d,{key:0})):(0,l.Q3)("",!0),(0,l.bF)(u,{project:o.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,l.bF)(p),(0,l.bF)(m)])}const y={key:0},w={key:1},S=["href"],F={key:2};function x(e,t,a,n,o,r){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>r.onFileChange&&r.onFileChange(...e))},null,32),(0,l.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.uploadImage&&r.uploadImage(...e))},"Upload"),o.uploading?((0,l.uX)(),(0,l.CE)("p",y,"Uploading...")):(0,l.Q3)("",!0),o.imageUrl?((0,l.uX)(),(0,l.CE)("p",w,[(0,l.eW)("Image URL: "),(0,l.Lk)("a",{href:o.imageUrl,target:"_blank"},(0,b.v_)(o.imageUrl),9,S)])):(0,l.Q3)("",!0),o.error?((0,l.uX)(),(0,l.CE)("p",F,(0,b.v_)(o.error),1)):(0,l.Q3)("",!0)])}var I=a(4335),D={name:"ImageUploader",data(){return{file:null,imageUrl:"",uploading:!1,error:""}},methods:{onFileChange(e){this.file=e.target.files[0]},async uploadImage(){if(!this.file)return void(this.error="Please select an image file first.");this.uploading=!0,this.error="";const e=new FormData;e.append("file",this.file),e.append("upload_preset","telco_unifi");try{const t=await I.A.post("https://api.cloudinary.com/v1_1/alvin-tan/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}});this.imageUrl=t.data.secure_url}catch(t){t.response&&400===t.response.status?this.error="Bad Request: "+(t.response.data.error.message||"Invalid request parameters"):this.error="Error uploading image: "+t.message,console.error("Error uploading image:",t.response?t.response.data:t.message)}finally{this.uploading=!1}}}};const L=(0,m.A)(D,[["render",x],["__scopeId","data-v-4280697f"]]);var _=L;function U(e,t,a,n,o,r){return(0,l.uX)(),(0,l.CE)("button",{onClick:t[0]||(t[0]=(...e)=>n.goToAdContacts&&n.goToAdContacts(...e))},"View Ad Contacts")}var P={name:"LaunchButton",setup(){const e=(0,v.rd)(),t=()=>{e.push("/ad-contacts")};return{goToAdContacts:t}}};const R=(0,m.A)(P,[["render",U],["__scopeId","data-v-3c496bee"]]);var N=R;const A={class:"pricing-container"},E=["id"],V={class:"pricing-table"},M={class:"pricing-card"},$={class:"pricing-details"},T={key:0},W={class:"image-and-text"},O=["src","alt"],j={key:1},B={class:"svg-and-text"},X=["innerHTML"],H={key:2},J={key:3},q={class:"pricing-info"},K={class:"pricing-content"},Q={class:"pricing-action"},Y=["onClick"];function G(e,t,a,n,o,r){return(0,l.uX)(),(0,l.CE)("div",A,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.plans,((e,t)=>((0,l.uX)(),(0,l.CE)("section",{key:t,id:"pricing-section-"+(t+1),class:"pricing-section"},[(0,l.Lk)("div",V,[(0,l.Lk)("div",M,[(0,l.Lk)("div",$,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.features,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a},[r.isImage(t)?((0,l.uX)(),(0,l.CE)("div",T,[(0,l.Lk)("div",W,[(0,l.Lk)("img",{src:r.getImagePath(t).src,alt:e.title+" feature image",style:(0,b.Tr)(r.getImageStyle(t)),class:"feature-image"},null,12,O),(0,l.Lk)("h2",null,(0,b.v_)(r.getImagePath(t).text),1)])])):r.isSvg(t)?((0,l.uX)(),(0,l.CE)("div",j,[(0,l.Lk)("div",B,[(0,l.Lk)("div",{innerHTML:r.getSvgContent(t).svg},null,8,X),(0,l.Lk)("span",null,(0,b.v_)(r.getSvgContent(t).text),1)])])):r.isHtmlTag(t)?((0,l.uX)(),(0,l.CE)("div",H,[((0,l.uX)(),(0,l.Wv)((0,l.$y)(r.getHtmlTagName(t)),null,{default:(0,l.k6)((()=>[(0,l.eW)((0,b.v_)(r.getHtmlTagContent(t)),1)])),_:2},1024))])):((0,l.uX)(),(0,l.CE)("div",J,(0,b.v_)(t),1))])))),128)),(0,l.Lk)("div",q,[(0,l.Lk)("p",null,(0,b.v_)(e.promo),1),(0,l.Lk)("p",null,(0,b.v_)(e.price),1)]),(0,l.Lk)("div",K,[(0,l.Lk)("p",null,(0,b.v_)(e.extra),1)]),(0,l.Lk)("div",Q,[(0,l.Lk)("button",{class:"apply-now-btn",onClick:t=>r.fillPackageName(e.title)},"Apply Now",8,Y)])])])])],8,E)))),128))])}var z={name:"MyPackage",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{fillPackageName(e){console.log(e),this.packageName=e,document.getElementById("registration-form").scrollIntoView({behavior:"smooth"})},isImage(e){return e.startsWith("image:")},getImagePath(e){const t=e.split(","),a=t[0].split("image:")[1].trim(),n=t[3]?t[3].trim():"";return{src:a,text:n}},getImageStyle(e){const t=e.split(","),a=t[1]?t[1].split("=")[1].trim()+"px":"auto",n=t[2]?t[2].split("=")[1].trim()+"px":"auto";return{width:a,height:n}},isSvg(e){return e.startsWith("svg:")},getSvgContent(e){const[t,...a]=e.split("svg:")[1].split(","),n=t.trim(),l=a.shift().trim();return{svg:`<svg ${n}>${l}</svg>`,text:a.join(",").trim()}},isHtmlTag(e){return e.match(/^[a-zA-Z0-9]+:/)},getHtmlTagName(e){return e.split(":")[0]},getHtmlTagContent(e){return e.split(":")[1].trim()}}};const Z=(0,m.A)(z,[["render",G]]);var ee=Z;const te={class:"container"},ae={class:"selector-wrapper"},ne=["src","alt","onClick"],le=["value"],oe=(0,l.Lk)("span",{class:"sd-tick"},null,-1),re={class:"selector-title"},ie=(0,l.Lk)("div",{class:"device-pair txt-small d-none"}," Pair with your Unifi subscription ",-1);function se(e,t,a,o,r,i){return(0,l.uX)(),(0,l.CE)("div",te,[(0,l.Lk)("div",ae,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.plans,((a,o)=>((0,l.uX)(),(0,l.CE)("label",{key:o,class:"sd-label selector-label"},[(0,l.Lk)("img",{class:"svg-icon",src:a.image,alt:a.title,onClick:e=>i.scrollToSection("pricing-section-"+(o+1))},null,8,ne),(0,l.bo)((0,l.Lk)("input",{type:"radio",class:"sd-radio",name:"plan",value:a.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedPlan=t)},null,8,le),[[n.XL,e.selectedPlan]]),oe,(0,l.Lk)("div",re,(0,b.v_)(a.price),1)])))),128)),ie])])}var ce={name:"MySelector",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{scrollToSection(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}}};const de=(0,m.A)(ce,[["render",se]]);var ue=de;const pe=e=>((0,l.Qi)("data-v-202c1f5f"),e=e(),(0,l.jt)(),e),me=pe((()=>(0,l.Lk)("h1",{id:"registration-form"},"Registration Form",-1))),he={class:"form-container"},ge=pe((()=>(0,l.Lk)("h3",null,"Fill up your details and we would be delighted to assist you",-1))),ve={class:"form-group"},be={key:0,for:"project"},fe={class:"form-group"},ke={key:0,for:"name"},Ce={class:"form-group"},ye={key:0,for:"phone"},we={class:"form-group"},Se={key:0,for:"email"},Fe={class:"form-group"},xe={key:0,for:"address"},Ie={class:"form-group"},De={key:0,for:"message"},Le=pe((()=>(0,l.Lk)("label",{for:"appointmentDate"},"Installation Schedule:",-1))),_e={class:"form-group"},Ue={class:"form-row"},Pe={class:"form-group"},Re=pe((()=>(0,l.Lk)("label",{for:"preferredInstallationDate"},"Preferred Installation Date (dd/mm/yyyy):",-1))),Ne={class:"form-group"},Ae=pe((()=>(0,l.Lk)("label",{for:"nationality"},"Nationality:",-1))),Ee={class:"form-group"},Ve=pe((()=>(0,l.Lk)("label",{for:"icFront"},"IC Front:",-1))),Me={class:"form-group"},$e=pe((()=>(0,l.Lk)("label",{for:"icBack"},"IC Back:",-1))),Te={class:"form-group"},We=pe((()=>(0,l.Lk)("label",{for:"utilityBills"},"Utility Bills (Electric or Water):",-1))),Oe=["disabled"],je=pe((()=>(0,l.Lk)("br",null,null,-1)));function Be(e,t,a,o,r,i){const s=(0,l.g2)("popUp2"),c=(0,l.g2)("TermsConditions");return(0,l.uX)(),(0,l.CE)(l.FK,null,[me,(0,l.Lk)("div",he,[ge,(0,l.Lk)("form",{onSubmit:t[15]||(t[15]=(0,n.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,l.Lk)("div",ve,[o.localPackage?((0,l.uX)(),(0,l.CE)("label",be,"Package Name:")):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"text",id:"package","onUpdate:modelValue":t[0]||(t[0]=e=>o.localPackage=e),name:"package-name",placeholder:"Package*",required:""},null,512),[[n.Jo,o.localPackage]])]),(0,l.Lk)("div",fe,[o.name?((0,l.uX)(),(0,l.CE)("label",ke,"Name:")):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:"Name*",required:""},null,512),[[n.Jo,o.name]])]),(0,l.Lk)("div",Ce,[o.phone?((0,l.uX)(),(0,l.CE)("label",ye,"Phone:")):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"tel",id:"phone","onUpdate:modelValue":t[2]||(t[2]=t=>e.formattedPhone=t),onInput:t[3]||(t[3]=(...e)=>o.formatPhone&&o.formatPhone(...e)),placeholder:"Phone*",required:""},null,544),[[n.Jo,e.formattedPhone]])]),(0,l.Lk)("div",we,[o.email?((0,l.uX)(),(0,l.CE)("label",Se,"Email:")):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>o.email=e),placeholder:"Email*",required:""},null,512),[[n.Jo,o.email]])]),(0,l.Lk)("div",Fe,[o.address?((0,l.uX)(),(0,l.CE)("label",xe,"Installation Address:")):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"text",id:"address","onUpdate:modelValue":t[5]||(t[5]=e=>o.address=e),placeholder:"Installation Address*",required:""},null,512),[[n.Jo,o.address]])]),(0,l.Lk)("div",Ie,[o.message?((0,l.uX)(),(0,l.CE)("label",De,"Additional Info:")):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("textarea",{class:"white-text",id:"message","onUpdate:modelValue":t[6]||(t[6]=e=>o.message=e),placeholder:"Additional Info*",required:""},null,512),[[n.Jo,o.message]])]),Le,(0,l.Lk)("div",_e,[(0,l.Lk)("div",Ue,[(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"date",id:"appointmentDate","onUpdate:modelValue":t[7]||(t[7]=e=>o.appointmentDate=e),placeholder:"Appointment Date*",required:""},null,512),[[n.Jo,o.appointmentDate]]),(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"time",id:"appointmentTime","onUpdate:modelValue":t[8]||(t[8]=e=>o.appointmentTime=e),placeholder:"Appointment Time*",required:""},null,512),[[n.Jo,o.appointmentTime]])])]),(0,l.Lk)("div",Pe,[Re,(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"text",id:"preferredInstallationDate","onUpdate:modelValue":t[9]||(t[9]=e=>o.preferredInstallationDate=e),placeholder:"Preferred Installation Date*",required:""},null,512),[[n.Jo,o.preferredInstallationDate]])]),(0,l.Lk)("div",Ne,[Ae,(0,l.bo)((0,l.Lk)("input",{class:"white-text",type:"text",id:"nationality","onUpdate:modelValue":t[10]||(t[10]=e=>o.nationality=e),placeholder:"Nationality*",required:""},null,512),[[n.Jo,o.nationality]])]),(0,l.Lk)("div",Ee,[Ve,(0,l.Lk)("input",{type:"file",id:"icFront",onChange:t[11]||(t[11]=e=>o.handleFileUpload(e,"icFront")),required:""},null,32),(0,l.Lk)("p",null,(0,b.v_)(o.icFrontName||"No file chosen"),1)]),(0,l.Lk)("div",Me,[$e,(0,l.Lk)("input",{type:"file",id:"icBack",onChange:t[12]||(t[12]=e=>o.handleFileUpload(e,"icBack")),required:""},null,32),(0,l.Lk)("p",null,(0,b.v_)(o.icBackName||"No file chosen"),1)]),(0,l.Lk)("div",Te,[We,(0,l.Lk)("input",{type:"file",id:"utilityBills",onChange:t[13]||(t[13]=e=>o.handleFileUpload(e,"utilityBills")),required:""},null,32),(0,l.Lk)("p",null,(0,b.v_)(o.utilityBillsName||"No file chosen"),1)]),(0,l.bF)(s,{"is-visible":o.showModal,"modal-message":o.modalMessage,onClose:t[14]||(t[14]=e=>o.showModal=!1)},null,8,["is-visible","modal-message"]),(0,l.Lk)("button",{type:"submit",class:"submit-button white-text",disabled:o.formSubmitted},(0,b.v_)(o.formSubmitted?"Submitting...":"Yes! Contact Me Now"),9,Oe)],32),je,(0,l.bF)(c)]),(0,l.bF)(s,{"is-visible":o.showModal,"modal-message":o.modalMessage,onClose:t[16]||(t[16]=e=>o.showModal=!1)},null,8,["is-visible","modal-message"])],64)}var Xe=a(1186),He=a(6679);const Je={key:0,class:"modal"},qe={class:"modal-content"};function Ke(e,t,a,n,o,r){return a.isVisible?((0,l.uX)(),(0,l.CE)("div",Je,[(0,l.Lk)("div",qe,[(0,l.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),(0,l.Lk)("p",null,(0,b.v_)(a.modalMessage),1)])])):(0,l.Q3)("",!0)}var Qe={name:"popUp2",props:{isVisible:{type:Boolean,required:!0},modalMessage:{type:String,required:!0}},emits:["close"]};const Ye=(0,m.A)(Qe,[["render",Ke],["__scopeId","data-v-4f7ce36e"]]);var Ge=Ye,ze={name:"tmReg",components:{popUp2:Ge},props:{project:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,d.KR)(e.project),n=(0,d.KR)(""),o=(0,d.KR)(!1),r=(0,d.KR)(!1),i=(0,d.KR)(""),s=(0,d.KR)(""),c=(0,d.KR)(""),u=(0,d.KR)(""),p=(0,d.KR)(""),m=(0,d.KR)(""),h=(0,d.KR)(""),g=(0,d.KR)(""),v=(0,d.KR)(""),b=(0,d.KR)(""),f=(0,d.KR)(null),k=(0,d.KR)(null),C=(0,d.KR)(null),y=(0,d.KR)(""),w=(0,d.KR)(""),S=(0,d.KR)(""),F=(0,d.KR)(""),x=e=>{const t=e.target,a=t.value.replace(/\D/g,"").substring(0,10),n=a.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");t.value=n,c.value=a};(0,l.wB)((()=>e.project),(e=>{a.value=e}));const I=(e,t)=>{const a=e.target.files[0];"icFront"===t?(f.value=a,y.value=a.name):"icBack"===t?(k.value=a,w.value=a.name):"utilityBills"===t&&(C.value=a,S.value=a.name)},D=()=>{t("close")},L=He.J1`
      query ($phone: String) {
        contacts(filters: { phone: { eq: $phone } }) {
          data {
            id
            attributes {
              name
              phone
            }
          }
        }
      }
    `,_=He.J1`
  mutation AddContact($name: String!, $project: String!, $email: String!,$package:String!,
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  createContact(data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}
 `,U=He.J1`
     mutation UpdateContact($id: ID!, $name: String!, $project: String!, $email: String!, $package: String!, 
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  updateContact(id: $id, data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}

    `,{mutate:P}=(0,Xe.n_)(_),{mutate:R}=(0,Xe.n_)(U),{refetch:N,loading:A,error:E}=(0,Xe.IT)(L,{variables:{phone:c.value},skip:!0}),V=async()=>{o.value=!0;try{const{data:e}=await N({phone:c.value});if(E.value)return void console.error("Error fetching contact:",E.value);if(A.value)return void console.log("Waiting for contact check...");if(!e.contacts.data||0===e.contacts.data.length){console.log("Contact does not exist. Creating new contact.");const e=await P({package:n.value,project:a.value,name:s.value,phone:c.value,email:u.value,address:p.value,message:m.value,PreferredInstallationDate:v.value,Nationality:b.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});return console.log("Create Success:",e),o.value=!1,r.value=!0,void(i.value="Record created.")}const t=e.contacts.data[0];console.log("Contact exists. Updating contact with ID:",t.id);const l=await R({id:t.id,project:a.value,package:n.value,name:s.value,phone:c.value,email:u.value,address:p.value,message:m.value,PreferredInstallationDate:v.value,Nationality:b.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});console.log("Update Success:",l),o.value=!1,r.value=!0,i.value="Record updated."}catch(e){o.value=!1,console.error("Error:",e)}};return{localPackage:n,localProject:a,name:s,phone:c,email:u,address:p,message:m,appointmentDate:h,appointmentTime:g,preferredInstallationDate:v,nationality:b,icFront:f,icBack:k,utilityBills:C,icFrontName:y,icBackName:w,utilityBillsName:F,formSubmitted:o,submitForm:V,formatPhone:x,showModal:r,modalMessage:i,close:D,handleFileUpload:I}}};const Ze=(0,m.A)(ze,[["render",Be],["__scopeId","data-v-202c1f5f"]]);var et=Ze;const tt=e=>((0,l.Qi)("data-v-1355d3ea"),e=e(),(0,l.jt)(),e),at={class:"camera-capture"},nt={key:0},lt={ref:"video",autoplay:"",playsinline:""},ot={ref:"canvas",style:{display:"none"}},rt=["src"],it={key:1},st=tt((()=>(0,l.Lk)("p",null,"Your device does not support camera access.",-1))),ct=[st];function dt(e,t,a,n,o,r){return(0,l.uX)(),(0,l.CE)("div",at,[o.hasMediaDevices?((0,l.uX)(),(0,l.CE)("div",nt,[(0,l.Lk)("video",lt,null,512),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.takePicture&&r.takePicture(...e))},"Take Picture"),(0,l.Lk)("canvas",ot,null,512),o.imageData?((0,l.uX)(),(0,l.CE)("img",{key:0,src:o.imageData,alt:"Captured Image"},null,8,rt)):(0,l.Q3)("",!0)])):((0,l.uX)(),(0,l.CE)("div",it,ct))])}var ut={name:"CameraCapture",data(){return{hasMediaDevices:!1,imageData:null}},mounted(){this.initializeCamera()},methods:{async initializeCamera(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){this.hasMediaDevices=!0;try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.$refs.video.srcObject=e}catch(e){console.error("Error accessing camera:",e),this.hasMediaDevices=!1}}else this.hasMediaDevices=!1},takePicture(){const e=this.$refs.canvas,t=this.$refs.video;e.width=t.videoWidth,e.height=t.videoHeight;const a=e.getContext("2d");a.drawImage(t,0,0,e.width,e.height),this.imageData=e.toDataURL("image/png")}}};const pt=(0,m.A)(ut,[["render",dt],["__scopeId","data-v-1355d3ea"]]);var mt=pt,ht={components:{CameraCapture:mt,ImageUpLoader:_,tmReg:et,MyPackage:ee,MySelector:ue,LaunchButton:N},created(){this.paramValue=this.$route.query.param||"HOME",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const gt=(0,m.A)(ht,[["render",C]]);var vt=gt;const bt=e=>((0,l.Qi)("data-v-d1f5a34e"),e=e(),(0,l.jt)(),e),ft=bt((()=>(0,l.Lk)("h1",{class:"title"},"About Page",-1))),kt=bt((()=>(0,l.Lk)("p",null,"This is the about page of the application.",-1)));function Ct(e,t,a,n,o,r){const i=(0,l.g2)("v-col"),s=(0,l.g2)("v-row"),c=(0,l.g2)("v-container"),d=(0,l.g2)("v-main"),u=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[ft,kt])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var yt={name:"AboutPage"};const wt=(0,m.A)(yt,[["render",Ct],["__scopeId","data-v-d1f5a34e"]]);var St=wt;const Ft={class:"header"},xt={class:"page-title"};function It(e,t,a,n,o,r){const i=(0,l.g2)("MySlider"),s=(0,l.g2)("MySelector"),c=(0,l.g2)("MyPackage"),d=(0,l.g2)("MyReg"),u=(0,l.g2)("LaunchButton"),p=(0,l.g2)("tmReg"),m=(0,l.g2)("ImageUpLoader"),h=(0,l.g2)("CameraCapture");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",Ft,[(0,l.Lk)("h1",xt,(0,b.v_)(o.pageTitle),1)]),(0,l.bF)(i,{pageTitle:o.pageTitle,images:o.filteredImages},null,8,["pageTitle","images"]),(0,l.bF)(s,{plans:o.filteredPlans},null,8,["plans"]),(0,l.bF)(c,{pageTitle:o.pageTitle,plans:o.filteredPlans},null,8,["pageTitle","plans"]),(0,l.bF)(d),o.showLaunchButton?((0,l.uX)(),(0,l.Wv)(u,{key:0})):(0,l.Q3)("",!0),(0,l.bF)(p,{project:o.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,l.bF)(m),(0,l.bF)(h)])}const Dt={class:"slider-container"},Lt=["src","alt"],_t=["onClick"];function Ut(e,t,a,n,o,r){return(0,l.uX)(),(0,l.CE)("div",Dt,[(0,l.Lk)("div",{class:"slider-wrapper",style:(0,b.Tr)({transform:`translateX(-${100*o.currentIndex}%)`})},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.images,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"slider-slide",key:t},[(0,l.Lk)("img",{src:e.src,alt:`Slide ${t+1}`,style:{width:"100%"}},null,8,Lt),(0,l.Lk)("button",{class:"navigate-btn",onClick:t=>r.navigateTo(e.route,e.category)}," Go to "+(0,b.v_)(e.route),9,_t)])))),128))],4),(0,l.Lk)("button",{class:"prev-btn",onClick:t[0]||(t[0]=(...e)=>r.prevSlide&&r.prevSlide(...e))},"❮"),(0,l.Lk)("button",{class:"next-btn",onClick:t[1]||(t[1]=(...e)=>r.nextSlide&&r.nextSlide(...e))},"❯")])}var Pt={name:"MySlider",props:{pageTitle:{type:String,default:""},images:{type:Array,required:!0}},data(){return{currentIndex:0,intervalId:null}},mounted(){this.startAutoPlay()},beforeUnmount(){this.stopAutoPlay()},methods:{startAutoPlay(){},stopAutoPlay(){clearInterval(this.intervalId)},prevSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length,this.startAutoPlay()},nextSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex+1)%this.images.length,this.startAutoPlay()},navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Rt=(0,m.A)(Pt,[["render",Ut],["__scopeId","data-v-e5bf1dc2"]]);var Nt=Rt,At={components:{CameraCapture:mt,ImageUpLoader:_,tmReg:et,MySlider:Nt,MyPackage:ee,MySelector:ue,LaunchButton:N},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const Et=(0,m.A)(At,[["render",It]]);var Vt=Et;const Mt={class:"header"},$t={class:"page-title"};function Tt(e,t,a,n,o,r){const i=(0,l.g2)("MySlider"),s=(0,l.g2)("MySelector"),c=(0,l.g2)("MyPackage"),d=(0,l.g2)("MyReg"),u=(0,l.g2)("LaunchButton"),p=(0,l.g2)("tmReg"),m=(0,l.g2)("ImageUpLoader"),h=(0,l.g2)("CameraCapture");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",Mt,[(0,l.Lk)("h1",$t,(0,b.v_)(o.pageTitle),1)]),(0,l.bF)(i,{pageTitle:o.pageTitle,images:o.filteredImages},null,8,["pageTitle","images"]),(0,l.bF)(s,{plans:o.filteredPlans},null,8,["plans"]),(0,l.bF)(c,{pageTitle:o.pageTitle,plans:o.filteredPlans},null,8,["pageTitle","plans"]),(0,l.bF)(d),o.showLaunchButton?((0,l.uX)(),(0,l.Wv)(u,{key:0})):(0,l.Q3)("",!0),(0,l.bF)(p,{project:o.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,l.bF)(m),(0,l.bF)(h)])}var Wt={components:{CameraCapture:mt,ImageUpLoader:_,tmReg:et,MySlider:Nt,MyPackage:ee,MySelector:ue,LaunchButton:N},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const Ot=(0,m.A)(Wt,[["render",Tt]]);var jt=Ot;function Bt(e,t,a,n,o,r){const i=(0,l.g2)("v-col"),s=(0,l.g2)("v-row"),c=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(c,{fluid:"",class:"d-flex align-center justify-center",style:{height:"100vh"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,{justify:"center",align:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{cols:"12",sm:"8"})])),_:1})])),_:1})}var Xt={name:"MainPage",data(){return{images:[{src:"img/UniVerse.jpg",alt:"Image 1",route:"/home",param:"HOME"},{src:"img/switch.png",alt:"Image 3",route:"/home",param:"WIN BACK"},{src:"img/business.jpeg",alt:"Image 2",route:"/home",param:"BUSINESS"}]}},methods:{navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Ht=(0,m.A)(Xt,[["render",Bt],["__scopeId","data-v-58c60cfa"]]);var Jt=Ht;const qt=e=>((0,l.Qi)("data-v-0e0de4f0"),e=e(),(0,l.jt)(),e),Kt={type:"text",ref:"myInput2",class:"borderless-input"},Qt={key:1},Yt={key:3},Gt={key:5},zt={key:7},Zt={key:8},ea=qt((()=>(0,l.Lk)("br",null,null,-1))),ta=qt((()=>(0,l.Lk)("br",null,null,-1))),aa=qt((()=>(0,l.Lk)("h3",null,"Call Log",-1))),na=qt((()=>(0,l.Lk)("br",null,null,-1))),la=qt((()=>(0,l.Lk)("br",null,null,-1))),oa={class:"text-center"},ra={class:"text-center"},ia=qt((()=>(0,l.Lk)("br",null,null,-1))),sa=qt((()=>(0,l.Lk)("h3",null,"Load JSON",-1))),ca={key:0,class:"error"},da={class:"button-container"},ua=["onClick"],pa=["onUpdate:modelValue"],ma=["onUpdate:modelValue"],ha=["onUpdate:modelValue"],ga=["onUpdate:modelValue"],va=["onUpdate:modelValue"],ba=["onUpdate:modelValue"],fa=["onUpdate:modelValue"],ka=["onUpdate:modelValue"],Ca=["onUpdate:modelValue"],ya=["onUpdate:modelValue"],wa=["onUpdate:modelValue"],Sa=["onUpdate:modelValue"],Fa=["onUpdate:modelValue"],xa={style:{color:"blue",width:"50%","min-width":"40px"}},Ia={style:{color:"blue",width:"50%","min-width":"40px"}},Da={style:{color:"blue",width:"50%","min-width":"40px"}},La={style:{color:"blue",width:"50%","min-width":"40px"}},_a=qt((()=>(0,l.Lk)("h3",null,"Server Copy",-1))),Ua=qt((()=>(0,l.Lk)("br",null,null,-1))),Pa=qt((()=>(0,l.Lk)("h3",null,"Local Copy",-1))),Ra=qt((()=>(0,l.Lk)("p",null,"-",-1))),Na=qt((()=>(0,l.Lk)("br",null,null,-1)));function Aa(e,t,a,o,r,i){const s=(0,l.g2)("v-icon"),c=(0,l.g2)("v-btn"),d=(0,l.g2)("v-row"),u=(0,l.g2)("v-card-title"),p=(0,l.g2)("v-select"),m=(0,l.g2)("v-card-text"),h=(0,l.g2)("v-card-actions"),g=(0,l.g2)("v-card"),v=(0,l.g2)("v-dialog"),f=(0,l.g2)("v-textarea"),k=(0,l.g2)("v-text-field"),C=(0,l.g2)("stageDropdown"),y=(0,l.g2)("v-col"),w=(0,l.g2)("v-form"),S=(0,l.g2)("v-container"),F=(0,l.g2)("V2"),x=(0,l.g2)("v-progress-linear"),I=(0,l.g2)("v-file-input"),D=(0,l.g2)("CountdownTimer"),L=(0,l.g2)("v-data-table");return(0,l.uX)(),(0,l.CE)("div",null,[r.showform?((0,l.uX)(),(0,l.Wv)(S,{key:0},{default:(0,l.k6)((()=>[(0,l.Lk)("input",Kt,null,512),(0,l.bF)(w,{ref:"contactForm"},{default:(0,l.k6)((()=>[r.viewOnly?((0,l.uX)(),(0,l.Wv)(d,{key:0,class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(c,{rounded:"",href:`tel:${i.currentContact.phoneNumber}`,color:2==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact)?"grey":"primary",style:{width:"20%","min-width":"50px",height:"70px"},disabled:2==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact),onClick:o.handleCallClick,class:"mx-1"},{default:(0,l.k6)((()=>[2==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact)?((0,l.uX)(),(0,l.Wv)(s,{key:0},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-phone-off")])),_:1})):((0,l.uX)(),(0,l.Wv)(s,{key:1},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-phone-in-talk")])),_:1}))])),_:1},8,["href","color","disabled","onClick"]),(0,l.bF)(c,{rounded:"",onClick:t[0]||(t[0]=e=>o.makeCall(i.currentContact,o.selectedUser,r.currentIndex,o.contacts)),color:2==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact)?"grey":"primary",style:{width:"20%","min-width":"50px",height:"70px"},disabled:2==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact),class:"mx-1"},{default:(0,l.k6)((()=>[2==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact)?((0,l.uX)(),(0,l.Wv)(s,{key:0},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-phone-off")])),_:1})):((0,l.uX)(),(0,l.Wv)(s,{key:1},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-cellphone-wireless")])),_:1}))])),_:1},8,["color","disabled"])]),(0,l.bF)(c,{rounded:"",onClick:t[1]||(t[1]=e=>o.makeCall2(i.currentContact,o.selectedUser,r.currentIndex,o.contacts)),color:o.isPhoneDisabled(i.currentContact)?"grey":"primary",style:{width:"20%","min-width":"50px",height:"70px"},disabled:1==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact),class:"mx-1"},{default:(0,l.k6)((()=>[1==o.isPhoneDisabled2(i.currentContact)||0==o.isPhoneDisabled2(i.currentContact)?((0,l.uX)(),(0,l.Wv)(s,{key:0},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-phone-off")])),_:1})):((0,l.uX)(),(0,l.Wv)(s,{key:1},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-monitor-cellphone-star")])),_:1}))])),_:1},8,["color","disabled"]),(0,l.bF)(c,{rounded:"",onClick:t[2]||(t[2]=e=>i.rowSendWhatsApp(i.currentContact)),color:"primary",style:{width:"20%","min-width":"50px",height:"70px"},class:"mx-1"},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-whatsapp")])),_:1})])),_:1}),(0,l.bF)(c,{rounded:"",onClick:i.previousContact,disabled:0===r.currentIndex,color:"primary",class:"mx-1",style:{width:"20%","min-width":"50px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-left")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1})):(0,l.Q3)("",!0),r.viewOnly?((0,l.uX)(),(0,l.Wv)(d,{key:1,class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{rounded:"",onClick:i.nextContact,disabled:r.currentIndex===o.contacts.length-1,color:"primary",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-right")])),_:1})])),_:1},8,["onClick","disabled"]),(0,l.bF)(c,{rounded:"",onClick:i.starNextContact,disabled:r.currentIndex===o.contacts.length-1,color:"green",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-right")])),_:1}),(0,l.eW)(" * ")])),_:1},8,["onClick","disabled"]),(0,l.bF)(c,{rounded:"",onClick:t[3]||(t[3]=e=>r.showStatusDialog=!0),disabled:r.currentIndex===o.contacts.length-1,color:"#00AA55",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-right")])),_:1})])),_:1},8,["disabled"]),(0,l.bF)(c,{rounded:"",onClick:i.AInextContact,disabled:r.currentIndex===o.contacts.length-1,color:"blue",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-right")])),_:1}),(0,l.eW)(" AI ")])),_:1},8,["onClick","disabled"]),(0,l.bF)(v,{modelValue:r.showStatusDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>r.showStatusDialog=e),persistent:"","max-width":"290"},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Select Status")])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,{modelValue:r.selectedStatus,"onUpdate:modelValue":t[4]||(t[4]=e=>r.selectedStatus=e),items:["✓,","ni,","nis,","eg,","XXX,","nr,","ua,"],"item-text":"text","item-value":"value",label:"Status",outlined:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(h,{class:"d-flex justify-space-between"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(c,{text:"",onClick:i.confirmStatus},{default:(0,l.k6)((()=>[(0,l.eW)("Confirm")])),_:1},8,["onClick"]),(0,l.bF)(c,{text:"",onClick:t[5]||(t[5]=e=>r.showStatusDialog=!1)},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(c,{rounded:"",onClick:t[7]||(t[7]=e=>{this.viewOnly=!1,i.editContact()}),color:"primary",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-pencil")])),_:1}),(0,l.eW)(" Edit ")])),_:1}),(0,l.bF)(c,{rounded:"",onClick:t[8]||(t[8]=e=>i.navigateToTalk(i.currentContact)),color:"primary",class:"mx-1",style:{width:"20%","min-width":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-book-account")])),_:1})])),_:1}),(0,l.bF)(c,{onClick:t[9]||(t[9]=t=>{e.$refs.myInput3.focus()}),color:"primary",class:"mx-1",style:{width:"20%","min-width":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-grid")])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),r.viewOnly?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(d,{key:2},{default:(0,l.k6)((()=>[(0,l.bF)(c,{rounded:"",onClick:i.cancelEdit,color:"blue",style:{width:"25%","min-width":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-cancel")])),_:1}),(0,l.eW)(" Cancel ")])),_:1},8,["onClick"]),(0,l.bF)(c,{rounded:"",onClick:i.saveContact,color:"primary",style:{width:"25%","min-width":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-content-save")])),_:1}),(0,l.eW)(" Save ")])),_:1},8,["onClick"]),(0,l.bF)(c,{rounded:"",onClick:i.deleteContact,color:"red",style:{width:"25%","min-width":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-minus")])),_:1}),(0,l.eW)(" Delete ")])),_:1},8,["onClick"])])),_:1})),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{cols:"12",md:"12"},{default:(0,l.k6)((()=>[(0,l.eW)(" No: "+(0,b.v_)(i.currentContact.no)+" Project: "+(0,b.v_)(i.currentContact.project)+" ",1),(0,l.Lk)("h2",null,(0,b.v_)(i.currentContact.name),1),(0,l.eW)(" Phone: "+(0,b.v_)(i.currentContact.phoneNumber)+" ",1),r.viewOnly?((0,l.uX)(),(0,l.CE)("div",Qt,"Interaction: "+(0,b.v_)(i.currentContact.interaction),1)):((0,l.uX)(),(0,l.Wv)(f,{key:0,modelValue:r.editContactData.interaction,"onUpdate:modelValue":t[10]||(t[10]=e=>r.editContactData.interaction=e),label:"Interaction",outlined:""},null,8,["modelValue"])),r.viewOnly?((0,l.uX)(),(0,l.CE)("div",Yt,"Doc: "+(0,b.v_)(i.currentContact.doc),1)):((0,l.uX)(),(0,l.Wv)(k,{key:2,label:"Doc",modelValue:r.editContactData.doc,"onUpdate:modelValue":t[11]||(t[11]=e=>r.editContactData.doc=e),class:"edit-mode"},null,8,["modelValue"])),r.viewOnly?((0,l.uX)(),(0,l.CE)("div",Gt,"Status: "+(0,b.v_)(i.currentContact.status),1)):((0,l.uX)(),(0,l.Wv)(k,{key:4,label:"Status",modelValue:r.editContactData.status,"onUpdate:modelValue":t[12]||(t[12]=e=>r.editContactData.status=e),class:"edit-mode"},null,8,["modelValue"])),r.viewOnly?((0,l.uX)(),(0,l.CE)("div",zt,"Rating: "+(0,b.v_)(i.currentContact.rating),1)):((0,l.uX)(),(0,l.Wv)(k,{key:6,label:"Rating",modelValue:r.editContactData.rating,"onUpdate:modelValue":t[13]||(t[13]=e=>r.editContactData.rating=e),class:"edit-mode"},null,8,["modelValue"])),(0,l.bo)((0,l.bF)(C,{ref:"stageSelect",selectedStage:r.editContactData.stage,onUpdateStage:i.updateContactStage},null,8,["selectedStage","onUpdateStage"]),[[n.aG,!r.viewOnly]]),r.viewOnly?((0,l.uX)(),(0,l.CE)("div",Zt,"Stage: "+(0,b.v_)(i.getStageDescription(i.currentContact.stage)),1)):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(y,{cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.eW)(" Phone ID:"+(0,b.v_)(i.currentContact.phoneId)+" Today: "+(0,b.v_)(o.formattedDate)+" ",1),ea,(0,l.eW)(" Dialed Date: "+(0,b.v_)(i.currentContact.dialedDate)+" ",1),ta,(0,l.eW)(" Source Date: "+(0,b.v_)(i.currentContact.sourceDate),1)])),_:1}),(0,l.bF)(y,{cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.eW)(" Last Call:"+(0,b.v_)(i.currentContact.updatedAt)+" Contacted:"+(0,b.v_)(i.currentContact.contacted)+" User:"+(0,b.v_)(i.currentContact.user)+" Called:"+(0,b.v_)(i.currentContact.called)+" Rating:"+(0,b.v_)(i.currentContact.rating)+" Occupation:"+(0,b.v_)(i.currentContact.occupation),1)])),_:1})])),_:1}),(0,l.Lk)("div",null,[aa,(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.callLog,((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t},(0,b.v_)(e.name)+" - "+(0,b.v_)(e.phoneNumber)+" - "+(0,b.v_)(e.time),1)))),128))])])])),_:1},512)])),_:1})):(0,l.Q3)("",!0),(0,l.Lk)("div",null,[(0,l.bF)(S,{class:"bg-surface-variant"},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bo)((0,l.Lk)("input",{class:"bordered-input",style:{color:"white","background-color":"#333",height:"50px"},"onUpdate:modelValue":t[14]||(t[14]=e=>r.filterTerm=e),placeholder:"Filter Search... r/dup/any text"},null,512),[[n.Jo,r.filterTerm]]),na,(0,l.bF)(p,{modelValue:o.selectedUser,"onUpdate:modelValue":t[15]||(t[15]=e=>o.selectedUser=e),items:r.users,"item-text":"text","item-value":"value",label:"Select a user",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"]),(0,l.bF)(p,{modelValue:o.selectedPhoneId,"onUpdate:modelValue":t[16]||(t[16]=e=>o.selectedPhoneId=e),items:r.phoneIds,"item-text":"text","item-value":"value",label:"Select a phone",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"])])),_:1}),(0,l.bF)(y,{class:"justify-start align-left"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:t[17]||(t[17]=e=>i.loadContactsFromStrapi(r.findValue2)),color:"success"},{default:(0,l.k6)((()=>[(0,l.eW)(" Download By Project ")])),_:1}),(0,l.eW)(" Import Project "),(0,l.bo)((0,l.Lk)("input",{class:"bordered-input",type:"text",id:"findValue2","onUpdate:modelValue":t[18]||(t[18]=e=>r.findValue2=e),style:{color:"white","background-color":"#333"}},null,512),[[n.Jo,r.findValue2]]),la,(0,l.bF)(c,{onClick:t[19]||(t[19]=e=>i.loadContactsFromStrapi(r.findValue2)),color:"success"},{default:(0,l.k6)((()=>[(0,l.eW)(" Download By Rating ")])),_:1})])),_:1}),(0,l.bF)(y,{class:"d-flex align-left"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(c,{onClick:t[20]||(t[20]=e=>i.renumbering()),color:"success"},{default:(0,l.k6)((()=>[(0,l.eW)(" Renumbering ")])),_:1}),(0,l.Lk)("div",oa,[(0,l.Lk)("span",null,[(0,l.bF)(F,{class:"2"})])]),(0,l.bF)(c,{onClick:t[21]||(t[21]=e=>i.uploadToStrapi()),color:"success"},{default:(0,l.k6)((()=>[(0,l.eW)(" Synchronize to Server ")])),_:1}),(0,l.bF)(x,{value:r.progressPercentage,height:"10",color:"primary",class:"my-4"},null,8,["value"]),(0,l.Lk)("div",ra,[(0,l.Lk)("span",null,"Progress: "+(0,b.v_)(r.progressPercentage.toFixed(2))+"%",1)])])])),_:1}),(0,l.bF)(y,{class:"d-flex align-left"},{default:(0,l.k6)((()=>[(0,l.eW)(" Message: "),(0,l.bo)((0,l.Lk)("input",{class:"bordered-input",type:"text",id:"sendmsg","onUpdate:modelValue":t[22]||(t[22]=e=>r.sendmsg=e),style:{color:"white","background-color":"#333",height:"50px"}},null,512),[[n.Jo,r.sendmsg]]),ia,(0,l.bF)(c,{onClick:i.printTable,color:"success"},{default:(0,l.k6)((()=>[(0,l.eW)("Print PDF")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})]),(0,l.bF)(d,{class:"d-flex align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:i.sendwhatsappmessage,class:"sort-button"},{default:(0,l.k6)((()=>[(0,l.eW)("Send via WhatsApp (W)")])),_:1},8,["onClick"])])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:i.startProcessing,class:"sort-button"},{default:(0,l.k6)((()=>[(0,l.eW)("Start W")])),_:1},8,["onClick"])])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[sa,(0,l.Lk)("input",{type:"file",onChange:t[23]||(t[23]=(...e)=>i.loadJSONFile&&i.loadJSONFile(...e)),ref:"jsonFileInput"},null,544)])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:i.exportToJSON,class:"sort-button"},{default:(0,l.k6)((()=>[(0,l.eW)("Export to JSON")])),_:1},8,["onClick"])])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:i.removeDuplicatePhoneNumbers,class:"sort-button"},{default:(0,l.k6)((()=>[(0,l.eW)("Remove Duplicate")])),_:1},8,["onClick"])])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{modelValue:r.showDateFormatDialog,"onUpdate:modelValue":t[25]||(t[25]=e=>r.showDateFormatDialog=e),persistent:"","max-width":"290"},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Select Date Format")])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,{modelValue:r.selectedDateFormat,"onUpdate:modelValue":t[24]||(t[24]=e=>r.selectedDateFormat=e),items:["dd/mm/yyyy","mm/dd/yyyy"],label:"Date Format",outlined:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{color:"primary",onClick:i.confirmDateFormat},{default:(0,l.k6)((()=>[(0,l.eW)("Confirm")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(I,{label:"Import CSV",onChange:i.onFileSelected},null,8,["onChange"]),(0,l.bF)(v,{modelValue:r.showDateFormatDialog,"onUpdate:modelValue":t[27]||(t[27]=e=>r.showDateFormatDialog=e),persistent:"","max-width":"290"},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Select Date Format")])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,{modelValue:r.selectedDateFormat,"onUpdate:modelValue":t[26]||(t[26]=e=>r.selectedDateFormat=e),items:["dd/mm/yyyy","mm/dd/yyyy"],label:"Date Format",outlined:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{color:"primary",onClick:i.confirmDateFormat},{default:(0,l.k6)((()=>[(0,l.eW)("Confirm")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:i.exportToCSV,class:"sort-button"},{default:(0,l.k6)((()=>[(0,l.eW)("Export to CSV")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,l.Lk)("div",null,[r.error?((0,l.uX)(),(0,l.CE)("div",ca,(0,b.v_)(r.error),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",da,[(0,l.Lk)("button",{onClick:t[28]||(t[28]=e=>i.sortContacts("phoneNumber")),class:"sort-button"}," Sort by Phone Number ("+(0,b.v_)(r.sortOrder.phoneNumber)+") ",1),(0,l.Lk)("button",{onClick:t[29]||(t[29]=e=>i.sortContacts("dialedDate")),class:"sort-button"}," Sort by Dialed Date ("+(0,b.v_)(r.sortOrder.dialedDate)+") ",1),(0,l.Lk)("button",{onClick:t[30]||(t[30]=e=>i.sortContacts("name")),class:"sort-button"}," Sort by Name ("+(0,b.v_)(r.sortOrder.name)+") ",1),(0,l.Lk)("button",{onClick:t[31]||(t[31]=t=>e.sortContactsAndNumber("project",this.contacts,this.sortOrder)),class:"sort-button"}," Sort by Project ("+(0,b.v_)(r.sortOrder.project)+") ",1),(0,l.Lk)("button",{onClick:t[32]||(t[32]=e=>i.sortContacts("no")),class:"sort-button"}," Sort by No ("+(0,b.v_)(r.sortOrder.no)+") ",1),(0,l.Lk)("button",{onClick:t[33]||(t[33]=t=>e.sortContactsAndNumber("status",this.contacts,this.sortOrder)),class:"sort-button"}," Sort by Status ("+(0,b.v_)(r.sortOrder.status)+") ",1),(0,l.Lk)("button",{onClick:t[34]||(t[34]=e=>i.sortContacts("nextCall",this.contacts,this.sortOrder)),class:"sort-button"}," Sort by Next Call ("+(0,b.v_)(r.sortOrder.nextCall)+") ",1)]),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.eW)(" Search "),(0,l.bo)((0,l.Lk)("input",{ref:"myInput3",class:"bordered-input",type:"text",id:"findValue","onUpdate:modelValue":t[35]||(t[35]=e=>r.findValue=e),style:{color:"white","background-color":"#333"}},null,512),[[n.Jo,r.findValue]])])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.Lk)("button",{class:"bordered-input",onClick:t[36]||(t[36]=(...e)=>i.jumpToIndex&&i.jumpToIndex(...e))},"By Row No.")])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.Lk)("button",{class:"bordered-input",onClick:t[37]||(t[37]=(...e)=>i.findNumber&&i.findNumber(...e))},"By Phone Number")])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.Lk)("button",{class:"bordered-input",onClick:t[38]||(t[38]=(...e)=>i.findName&&i.findName(...e))},"By Name")])),_:1}),(0,l.bF)(y,{class:"d-flex justify-end"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:t[39]||(t[39]=e=>r.showCountdown=!r.showCountdown),color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)((0,b.v_)(r.showCountdown?"Hide Countdown":"Show Countdown"),1)])),_:1})])),_:1}),(0,l.bF)(y,{class:"align-right"},{default:(0,l.k6)((()=>[r.showCountdown?((0,l.uX)(),(0,l.Wv)(D,{key:0,ref:"countdown",seconds:5,onCountdownFinish:i.countdownFinished},null,8,["onCountdownFinish"])):(0,l.Q3)("",!0)])),_:1})])),_:1}),(0,l.bF)(L,{id:"tableToPrint",headers:r.headers2,items:i.filteredContacts,class:"elevation-1 pdf-container","hide-default-footer":"","items-per-page":1e4,style:{width:"100%"}},{item:(0,l.k6)((({item:a,index:o})=>[(0,l.Lk)("tr",{class:(0,b.C4)({highlight:r.currentIndex===o}),onClick:e=>i.rowClick(o)},[(0,l.Lk)("td",null,[(0,l.bF)(c,{onClick:t[40]||(t[40]=t=>{r.showform=!0,e.$refs.myInput2.focus()}),color:"error",small:"",icon:"",style:{width:"50%","min-width":"40px"}},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-eye")])),_:1})])),_:1})]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.project=e,style:{width:"100%","min-width":"110px"}},null,8,pa),[[n.Jo,a.project]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.source=e,style:{width:"100%","min-width":"80px"}},null,8,ma),[[n.Jo,a.source]])]),(0,l.Lk)("td",null,(0,b.v_)(a.no),1),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.name=e},null,8,ha),[[n.Jo,a.name]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.language=e,style:{width:"100%","min-width":"5px"}},null,8,ga),[[n.Jo,a.language]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.phoneId=e,style:{width:"50%","min-width":"58px"}},null,8,va),[[n.Jo,a.phoneId]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.phoneNumber=e,style:{width:"100%","min-width":"120px"}},null,8,ba),[[n.Jo,a.phoneNumber]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":e=>a.interaction=e,style:{width:"100%","min-width":"250px"}},null,8,fa),[[n.Jo,a.interaction]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.status=e,style:{width:"50%","min-width":"40px"}},null,8,ka),[[n.Jo,a.status]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.stage=e,style:{width:"50%","min-width":"40px"}},null,8,Ca),[[n.Jo,a.stage]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.doc=e,style:{width:"50%","min-width":"80px"}},null,8,ya),[[n.Jo,a.doc]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.called=e,style:{width:"50%","min-width":"80px"}},null,8,wa),[[n.Jo,a.called]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.rating=e,style:{width:"50%","min-width":"80px"}},null,8,Sa),[[n.Jo,a.rating]])]),(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e=>a.contacted=e,style:{width:"50%","min-width":"40px"}},null,8,Fa),[[n.Jo,a.contacted]])]),(0,l.Lk)("td",xa,(0,b.v_)(a.dialedDate),1),(0,l.Lk)("td",Ia,(0,b.v_)(a.sourceDate),1),(0,l.Lk)("td",Da,(0,b.v_)(a.lastCall),1),(0,l.Lk)("td",La,(0,b.v_)(a.nextCall),1)],10,ua)])),_:1},8,["headers","items"])]),(0,l.bF)(v,{modelValue:r.showSynDialog,"onUpdate:modelValue":t[45]||(t[45]=e=>r.showSynDialog=e),"max-width":"660px"},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Duplicate Contact Found")])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,"There are "+(0,b.v_)(r.showRecordNo)+" copies of this contact:",1),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-cloud-outline")])),_:1}),_a,(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.source!==e.existingContact.source})},"Source: "+(0,b.v_)(e.existingContact.source),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.name!==e.existingContact.name})},"Name: "+(0,b.v_)(e.existingContact.name),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.phoneNumber!==e.existingContact.phoneNumber})},"Phone Number: "+(0,b.v_)(e.existingContact.phoneNumber),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.status!==e.existingContact.status})},"Status3: "+(0,b.v_)(e.existingContact.status),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.stage!==e.existingContact.stage})},"Stage: "+(0,b.v_)(e.existingContact.stage),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.project!==e.existingContact.project})},"Project: "+(0,b.v_)(e.existingContact.project),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.interaction!==e.existingContact.interaction})},"Interaction: "+(0,b.v_)(e.existingContact.interaction),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.rating!==e.existingContact.rating})},"Rating: "+(0,b.v_)(e.existingContact.rating),3),(0,l.Lk)("p",null,"User: "+(0,b.v_)(e.existingContact.user),1),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.phoneId!==e.existingContact.phoneId})},"Phone Id: "+(0,b.v_)(e.existingContact.phoneId),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.no!==e.existingContact.no})},"No: "+(0,b.v_)(e.existingContact.no),3),(0,l.Lk)("p",{class:(0,b.C4)({highlight:e.contact.dialedDate!==e.existingContact.dialedDate})},"Last Dialed Date: "+(0,b.v_)(e.existingContact.dialedDate),3),(0,l.bF)(c,{style:{"background-color":"blue",color:"white","min-width":"200px",height:"50px"},onClick:t[41]||(t[41]=t=>e.confirmSyn("updateLocalCopy"))},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-right-bold-outline")])),_:1})])),_:1}),Ua,(0,l.bF)(c,{style:{"background-color":"blue",color:"white","min-width":"200px",height:"50px"},onClick:t[42]||(t[42]=t=>e.confirmSyn("deleteServerCopy"))},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-delete")])),_:1})])),_:1})])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-desktop-classic")])),_:1}),Pa,(0,l.Lk)("p",null,"Source: "+(0,b.v_)(e.contact.source),1),(0,l.Lk)("p",null,"Name: "+(0,b.v_)(e.contact.name),1),(0,l.Lk)("p",null,"Phone Number: "+(0,b.v_)(e.contact.phoneNumber),1),(0,l.Lk)("p",null,"Status: "+(0,b.v_)(e.contact.status),1),(0,l.Lk)("p",null,"Stage: "+(0,b.v_)(e.contact.stage),1),(0,l.Lk)("p",null,"Project: "+(0,b.v_)(e.contact.project),1),(0,l.Lk)("p",null,"Interaction: "+(0,b.v_)(e.contact.interaction),1),(0,l.Lk)("p",null,"Rating: "+(0,b.v_)(e.contact.rating),1),(0,l.Lk)("p",null,"User: "+(0,b.v_)(o.selectedUser),1),(0,l.Lk)("p",null,"Phone Id: "+(0,b.v_)(e.contact.phoneId),1),(0,l.Lk)("p",null,"No: "+(0,b.v_)(e.contact.no),1),(0,l.Lk)("p",null,"Last Dialed Date: "+(0,b.v_)(e.contact.dialedDate),1),Ra,(0,l.bF)(c,{style:{"background-color":"green",color:"white","min-width":"200px",height:"50px"},onClick:t[43]||(t[43]=t=>e.confirmSyn("updateServerCopy"))},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-left-bold-outline")])),_:1})])),_:1}),Na,(0,l.bF)(c,{style:{"background-color":"green",color:"white","min-width":"200px",height:"50px"},onClick:t[44]||(t[44]=t=>e.confirmSyn("updateServerAllCopy"))},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-left-bold-outline")])),_:1}),(0,l.eW)(" All -> Server ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(h,{class:"d-flex justify-space-between"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(c,{style:{"background-color":"gray",color:"white","min-width":"200px",height:"50px"},onClick:e.cancelCompare},{default:(0,l.k6)((()=>[(0,l.eW)(" Cancel ")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}a(3375),a(9225),a(3972),a(9209),a(5714),a(7561),a(6197),a(4603),a(7566),a(8721);var Ea=a(4537),Va=a(2391),Ma=a(88);const $a=new Ea.P({uri:"https://sp412b-763ef468411d.herokuapp.com/graphql"}),Ta=new Va.R({link:$a,cache:new Ma.D});var Wa=Ta,Oa=a(8060),ja=a(5597);const Ba=He.J1`
  # Write your query or mutation here
mutation(
  $id: ID!
  $no: Int
  $user: String
  $name: String
  $phoneNumber: String
  $status: String
  $interaction: String
  $lastCall: DateTime
  $nextCall: DateTime
  $doc: String
) {
  updateMakeCall(
    id: $id
    data: {
      user: $user
      name: $name
      phoneNumber: $phoneNumber
      status: $status
      interaction: $interaction
      lastCall: $lastCall
      nextCall: $nextCall
      no: $no
      doc:$doc
    }
  ) {
    # Define the fields you want to be returned here

    data{
      id
      attributes{
    name
    phoneNumber
    status
    interaction
    lastCall
    nextCall
    no
    doc
    }
    }
  }
}

`;(0,l.nI)();let Xa=(0,d.KR)("");async function Ha(){const e=await ja.p.getInfo();console.log(e),Xa.value=e}function Ja(e){return qa(e)?0:Xa.value?Xa.value.model.toLowerCase().includes("window")?2:1:0}function qa(e){return console.log(e.no),!1}function Ka(e){if(!e)return null;try{if(e.includes("T")||e.includes("Z"))return e;const t=e.replaceAll("/","-").trim(),a=t.split("-");if(3!==a.length)throw new Error("Invalid date format; expected 3 parts");let[n,l,o]=a.map((e=>e.trim()));if(!n||!l||!o||isNaN(parseInt(n))||isNaN(parseInt(l))||isNaN(parseInt(o)))throw new Error("Invalid date format");if(n=parseInt(n),l=parseInt(l),o=parseInt(o),o<1e3&&([n,o]=[o,n]),l<1||l>12)throw new Error("Month must be between 1 and 12");if(n<1||n>31)throw new Error("Day must be between 1 and 31");const r=String(n).padStart(2,"0"),i=String(l).padStart(2,"0"),s=`${o}-${i}-${r}`;return`${s}T00:00:00Z`}catch(t){return console.error("Error in convertDMY2YMDtime:",t.message),null}}function Qa(e){if(!e)return null;let[t,a,n]=e.replaceAll("/","-").split("-");return t<1e3?(a=a.padStart(2,"0"),t=t.padStart(2,"0").replace("Z",""),`${n}-${a}-${t}`):`${t}-${a}-${n}`}function Ya(e,t,a){"asc"===a[e]?(t.sort(((t,a)=>t[e]+Ga(t["no"])<a[e]+Ga(a["no"])?-1:t[e]+Ga(t["no"])>a[e]+Ga(a["no"])?1:0)),a[e]="desc"):(t.sort(((t,a)=>t[e]+t["no"]<a[e]+t["no"]?1:t[e]+t["no"]>a[e]+t["no"]?-1:0)),a[e]="asc")}function Ga(e){const t=String(e),a=t.padStart(6,"0");return a}function za(e){const t=(0,Oa.l)(e);return t?t.countryCallingCode:null}function Za(e){const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${n}`}function en(e,t){return e.startsWith("+"+t)?e.slice(1+t.length):e.startsWith(t)?e.slice(t.length):e.startsWith("(+"+t+")")?e.slice(3+t.length):e}function tn(e){if(e){let t=za(e);return e=en(e,t),e=e.replaceAll(" ",""),e=e.replaceAll("-",""),"+"+t+e.trim()}return""}async function an(e,t,a){const n=He.J1`
    query($project: String!) {
      leads(filters: { project: { eq: $project } }, pagination: { limit: 1000 }) {
        data {
          id
          attributes {
            no
            project
            user
            name
            phoneNumber
            status
            phoneId
            interaction
            lastCall
            nextCall
            called
            rating
            dialedDate
            sourceDate
            contacted
            language
            message
            doc
            stage
            source
            occupation
            clientType
            process
            stage
            task
            delegate
            address
            advUrl
            advUrlDate
            facebookUrl
            notionUrl
            updatedAt
           
          }
        }
      }
    }
  `;try{const{data:l}=await Wa.query({query:n,variables:{project:e},fetchPolicy:"no-cache"});l.leads.data.forEach((e=>{const n=t.find((t=>t.phoneNumber===e.attributes.phoneNumber)),l={id:e.id,no:e.attributes.no,user:e.attributes.user||"",name:e.attributes.name||"",phoneNumber:tn(e.attributes.phoneNumber)||"",project:e.attributes.project||"",occupation:e.attributes.occupation||"",status:e.attributes.status||"",phoneId:e.attributes.phoneId||"",interaction:e.attributes.interaction||"",lastCall:nn(e.attributes.lastCall)||"1-1-1900",nextCall:nn(e.attributes.nextCall)||"1-1-1900",called:e.attributes.called||0,rating:e.attributes.rating||0,dialedDate:nn(e.attributes.dialedDate)||"1-1-1900",sourceDate:nn(e.attributes.sourceDate)||"1-1-1900",contacted:e.attributes.contacted||0,language:e.attributes.language||"",message:e.attributes.message||"",doc:e.attributes.doc||"",source:e.attributes.source||"",clientType:e.attributes.clientType||"",process:e.attributes.process||"",stage:e.attributes.stage||"",task:e.attributes.task||"",delegate:e.attributes.delegate||"",address:e.attributes.address||"",advUrl:e.attributes.advUrl||"",advUrlDate:e.attributes.advUrlDate||"",facebookUrl:e.attributes.facebookUrl||"",notionUrl:e.attributes.notionUrl||"",edit:!1,editField:"",updatedAt:a};n?Object.assign(n,l):t.push(l)}))}catch(l){console.error("Error 212 loading contacts from Strapi:",l),alert("An error 212 occurred while loading contacts. Please try again.")}return t}function nn(e){if(!e)return null;const t=new Date(e);if(1900===t.getFullYear()&&0===t.getMonth()&&1===t.getDate())return null;const a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return`${a}/${n}/${l}`}async function ln(e,t){void 0!==t.advUrlDate&&null!==t.advUrlDate&&""!==t.advUrlDate?t.advUrlDate=Qa(t.advUrlDate):delete t.advUrlDate,void 0!==t.dialedDate&&null!==t.dialedDate&&""!==t.dialedDate?t.dialedDate=Ka(t.dialedDate):delete t.dialedDate;const a=He.J1`
    mutation updateLead($id: ID!, $data: LeadInput!) {
      updateLead(id: $id, data: $data) {
        data {
          id
          attributes {
            name
            phoneNumber
            project
            called
            contacted
            phoneId
            clientType  
            process
            stage
            task
            delegate
            address     
            advUrl         
            advUrlDate     
            facebookUrl
            notionUrl
          }
        }
      }
    }
  `;try{const{data:n}=await Wa.mutate({mutation:a,variables:{id:e,data:t}});return n.updateLead.data}catch(n){throw alert("error 138"),alert(n.cause),console.error("Error updating contact:",n.cause),n}}async function on(e){const t=He.J1`
  
    mutation createLead($data: LeadInput!) {
      createLead(data: $data) {
        data {
          attributes {
            name
            phoneNumber
            project
            called
            contacted
          }
        }
      }
    }
  `;try{const a=await Wa.mutate({mutation:t,variables:{data:e}});return console.log("response:",a),a}catch(a){throw console.error("Error adding contact:",a),a}}var rn=a(8055),sn=a.n(rn),cn=a(3833),dn=a.n(cn),un=a(4809),pn=a.n(un);function mn(e,t,a,n,o,r){const i=(0,l.g2)("v-card-title"),s=(0,l.g2)("v-card-subtitle"),c=(0,l.g2)("v-btn"),d=(0,l.g2)("v-card-actions"),u=(0,l.g2)("v-text-field"),p=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(p,{class:"mx-auto","max-width":"400"},{default:(0,l.k6)((()=>[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[(0,l.eW)("Countdown Timer")])),_:1}),o.timeRemaining>0?((0,l.uX)(),(0,l.Wv)(s,{key:0},{default:(0,l.k6)((()=>[(0,l.eW)((0,b.v_)(o.timeRemaining)+" seconds remaining",1)])),_:1})):((0,l.uX)(),(0,l.Wv)(s,{key:1},{default:(0,l.k6)((()=>[(0,l.eW)("Time's up! Restarting...")])),_:1})),(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)("Send Count: "+(0,b.v_)(o.restartCount),1)])),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:r.startCountdown,disabled:o.isRunning||o.restartCount>=o.maxRestarts},{default:(0,l.k6)((()=>[(0,l.eW)("Start")])),_:1},8,["onClick","disabled"]),(0,l.bF)(c,{onClick:r.stopCountdown,disabled:!o.isRunning},{default:(0,l.k6)((()=>[(0,l.eW)("Stop")])),_:1},8,["onClick","disabled"])])),_:1}),(0,l.bF)(u,{modelValue:o.maxRestarts,"onUpdate:modelValue":t[0]||(t[0]=e=>o.maxRestarts=e),label:"Max Sends",type:"number",min:"1"},null,8,["modelValue"])])),_:1})}var hn={name:"CountdownTimer",props:{seconds:{type:Number,required:!0},onCountdownFinish:{type:Function,default:null}},data(){return{timeRemaining:this.seconds,intervalId:null,restartTimeout:null,isRunning:!1,maxRestarts:0,restartCount:0}},methods:{startCountdown(){this.isRunning=!0,this.timeRemaining=this.seconds+Math.floor(30*Math.random())+1,this.intervalId=setInterval((()=>{this.timeRemaining>0?this.timeRemaining-=1:this.handleCountdownFinish()}),1e3)},stopCountdown(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout),this.isRunning=!1,this.restartCount=0},handleCountdownFinish(){clearInterval(this.intervalId),this.onCountdownFinish&&this.onCountdownFinish(),this.isRunning&&this.restartCount<this.maxRestarts?(this.restartCount+=1,this.restartTimeout=setTimeout((()=>{this.startCountdown()}),1e3)):this.isRunning=!1}},beforeUnmount(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout)}};const gn=(0,m.A)(hn,[["render",mn],["__scopeId","data-v-c82f36f8"]]);var vn=gn,bn=a(2543);function fn(e,t,a,n,o,r){const i=(0,l.g2)("multiselect");return(0,l.uX)(),(0,l.Wv)(i,{modelValue:o.localStage,"onUpdate:modelValue":[t[0]||(t[0]=e=>o.localStage=e),r.emitStageChange],options:o.stageOptions,label:"label","track-by":"value",placeholder:"Select Stage"},null,8,["modelValue","options","onUpdate:modelValue"])}var kn=a(5877),Cn={name:"stageDropdown",components:{Multiselect:kn.Ay},props:{selectedStage:{type:String,required:!0}},data(){return{localStage:null,stageOptions:[]}},mounted(){this.stageOptions=[{label:"",value:""},{label:"-WhatsApp Stages",value:"W",disabled:!0},{label:"1 WA: Initial WhatsApp contact with info",value:"WA"},{label:"2 WF: WhatsApp follow-up",value:"WF"},{label:"-Project Management: Masterlist & Appointments",value:"P",disabled:!0},{label:"1 PMC: Project Masterlist call",value:"PMC"},{label:"2 PMF: Follow-up for showroom appointment",value:"PMF"},{label:"3 PMP: Showroom appointment pending confirmation",value:"PMP"},{label:"4 PAR: Appointment rescheduled",value:"PAR"},{label:"5 PMS: Client follow-up post showroom visit",value:"PMS"},{label:"-Social Media & Marketing Campaigns",value:"M",disabled:!0},{label:"1 MCP: Initial campaign call",value:"CAC"},{label:"2 MCF: Follow-up on social media campaign",value:"CAF"},{label:"3 MCV: Post-showroom client follow-up",value:"CSV"},{label:"-Social Media & Marketing Campaigns",value:"M",disabled:!0},{label:"1 BCB: Look for Co Broke Project, which need IProperty Advertisement",value:"CAC"},{label:"3 BI: Collect photo, land size, room & bathroom details",value:"SI"},{label:"4 BP: On-site visit to take photo/video",value:"SP"},{label:"2 BA: Please Advertisement",value:"CAF"},{label:"8 BQ: Follow-up Customer Enquiries",value:"SF"},{label:"5 BVF: Post-Site Visit follow-up",value:"CSV"},{label:"-Subsales Stages: Sales",value:"S",disabled:!0},{label:"1 SC: Initial call to collect rental/sales info",value:"SC"},{label:"2 SI: Collect photo, land size, room & bathroom details",value:"SI"},{label:"3 SP: On-site visit to take photo/video",value:"SP"},{label:"4 SS: Suvey surrounding area, and write highlight on the area)",value:"SV"},{label:"5 SB: Bank evaluation & market price research",value:"SB"},{label:"6 SD: Document information",value:"SD"},{label:"7 SA: Post advertisement on Property Guru/Mudah",value:"SA"},{label:"8 SQ: Follow-up customer enquiries",value:"SF"},{label:"9 SV: Arrange customer viewing",value:"SV"},{label:"10 SVF: Final customer viewing",value:"SVF"},{label:"11 SBK: Collect 3% booking fee from customer",value:"SBK"},{label:"12 SPS: Prepare Sale & Purchase Agreement (S&P)",value:"SPS"},{label:"13 SSP: S&P signing",value:"SSP"},{label:"14 SLA: Wait for loan approval",value:"SLA"},{label:"15 SKY: Pass key to customer",value:"SKY"},{label:"16 SCL: Subsale process completed",value:"SCL"},{label:"-Subsales Stages: Rental",value:"R",disabled:!0},{label:"1 RC: Initial call to collect rental info",value:"RC"},{label:"2 RI: Collect photo, land size, room & bathroom details",value:"RI"},{label:"3 RP: On-site visit to take photo/video",value:"RP"},{label:"4 RV: Understand surrounding area (Google Maps/site visit)",value:"RV"},{label:"5 RM: Conduct rental market research",value:"RM"},{label:"6 RDI: Document information",value:"RDI"},{label:"7 RA: Post rental advertisement on Property Guru/Mudah",value:"RA"},{label:"8 RF: Follow-up after advertisement",value:"RF"},{label:"9 RV: Arrange customer viewing",value:"RV"},{label:"10 RAG: Prepare rental agreement",value:"RAG"},{label:"11 RST: Collect deposit & booking form",value:"RST"},{label:"12 RBK: Landowner signs booking form",value:"RBK"},{label:"13 R3D: Collect 3 months’ deposit",value:"R3D"},{label:"14 RKY: Pass key to tenant",value:"RKY"},{label:"15 RST: Landowner pays SST",value:"RST2"},{label:"16 RCP: Claim and wait for payment",value:"RCP"},{label:"17 RE: Rental process completed",value:"RE"},{label:"-Viewing & Closing Stages",value:"C",disabled:!0},{label:"1 CA: Viewing appointment",value:"CA"},{label:"2 CF: Follow-up after viewing",value:"CF"},{label:"3 CN: Price negotiation",value:"CN"},{label:"4 CP: Payment and signing",value:"CP"},{label:"5 CAP: Awaiting payment",value:"CAP"},{label:"6 CFN: Final negotiation",value:"CFN"},{label:"7 CCD: Completed deal",value:"CCD"},{label:"-Additional Statuses",value:"A",disabled:!0},{label:"1 ANI: Client not interested",value:"ANI"},{label:"2 AUN: Unsuccessful deal",value:"AUN"},{label:"3 ADC: Deal canceled",value:"ADC"},{label:"4 AXX: Do not contact",value:"AXX"},{label:"5 AFI: Follow-up incomplete",value:"AFI"},{label:"6 ACB: Callback requested",value:"ACB"},{label:"7 AP: Pending status",value:"AP"}],this.localStage=this.findStageOption(this.selectedStage)},watch:{selectedStage(e){this.localStage=this.findStageOption(e)}},methods:{findStageOption(e){return this.stageOptions.find((t=>t.value===e))||null},emitStageChange(){this.$emit("update-stage",this.localStage?this.localStage.value:null)},getStageDescription(e){const t=this.findStageOption(e);return t?t.label:null}}};const yn=(0,m.A)(Cn,[["render",fn],["__scopeId","data-v-3cf2c2ac"]]);var wn=yn;const Sn=He.J1`
  query GetLead($phoneNumber: String!) {
    leads(filters: { phoneNumber: { eq: $phoneNumber } }) {
      data {
        id
      }
    }
  }
`;var Fn={name:"ContactList",props:{projectKey:{type:String,required:!0},enDate:{type:String,required:!0}},components:{vSelect:window["vue-select"],CountdownTimer:vn,stageDropdown:wn},setup(){const e=(0,l.nI)(),t=(0,d.KR)([]);let a=[];const n=(0,d.KR)(0),o=(0,d.KR)(!1),r=(0,d.KR)(null),i=(0,d.KR)(null);(0,l.sV)((()=>{const e=localStorage.getItem("currentIndex");null!==e&&(n.value=parseInt(e,10)),r.value=localStorage.getItem("user"),i.value=localStorage.getItem("phoneId")})),(0,l.wB)(n,(e=>{if(null===e){const e=localStorage.getItem("currentIndex");null!==e&&(n.value=parseInt(e,10))}else localStorage.setItem("currentIndex",e)})),(0,l.wB)(r,(e=>{localStorage.setItem("user",e)})),(0,l.wB)(i,(e=>{localStorage.setItem("phoneId",e)}));const{mutate:s}=(0,Xe.n_)(Ba);function c(){this.updateCallCount();const e={name:this.currentContact.name,phoneNumber:this.currentContact.phoneNumber,time:(new Date).toLocaleString()};this.callLog.push(e),this.callLog.length>8&&this.callLog.shift()}async function u(e,t,a,n){try{let{name:a,doc:n,phoneNumber:l,status:o,interaction:r,lastCall:i,nextCall:c,no:d}=e;i=Ka(i),c=Ka(c);let u=t,p=0;"alyssa"===u.toLowerCase()&&(p=3),"alvin"===u.toLowerCase()&&(p=4),"ashton"===u.toLowerCase()&&(p=2);const m={id:p,doc:n,user:u,name:a,phoneNumber:l,status:o,interaction:r,lastCall:i,nextCall:c,no:d};await s(m)}catch(l){alert("error 100"),console.error("Error updating callme:",l)}n.findIndex((t=>t.no===e.no))}const p=()=>{console.log("Attempting to restore data from local storage...");const e=localStorage.getItem("appData");if(e)try{console.log("Saved data found in local storage:",e);const a=JSON.parse(e);t.value=a.contacts||[],o.value=!0,console.log("Data restored from local storage:",a)}catch(a){alert("error 101"),console.error,console.error("Error parsing data from local storage:",a)}else console.log("No saved data found in local storage.")};(0,l.sV)((()=>{p()})),(0,l.nT)((()=>{console.log("watchEffect triggered, contacts:",t.value)})),a=sn()(t.value);const m=async(t,a,n,l)=>{u(t,a,n,l),e.proxy.handleCallClick()},h=()=>{if(console.log("Attempting to save data to local storage..."),o.value)try{const e={contacts:t.value||[],user:r.value||null,phoneId:i.value||null};localStorage.setItem("appData",JSON.stringify(e)),console.log("Data saved to local storage:",e)}catch(e){alert("error 102"),console.error("Error saving to local storage:",e)}else console.log("Data not saved: dataRestored.value is false")},g=(0,bn.debounce)(h,1e3);return(0,l.wB)(t,(e=>{if(Array.isArray(e)){console.log("Contacts changed");let t=!1;if(console.log("New contacts length:",e.length),console.log("Initial contacts length:",a.length),Array.isArray(a)&&e.length!==a.length)t=!0;else for(let n=0;n<e.length;n++){const l=e[n],o=n<a.length?a[n]:void 0;if(!l||!o){t=!0;break}for(const e in l)if(l[e]!==o[e]){console.log(`Field '${e}' in contact ${l.id} changed`),l.updatedAt=(new Date).toISOString(),t=!0;break}if(t)break}t&&(o.value=!0,g(),a=sn()(e))}else console.warn("Contacts is not an array or is undefined:",e)}),{deep:!0}),{handleCallClick:c,restoreDataFromLocalStorage:p,instance:e,makeCall:u,makeCall2:m,isPhoneDisabled2:Ja,isPhoneDisabled:qa,contacts:t,selectedUser:r,selectedPhoneId:i,formattedDate:(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}},mounted(){this.loadMessageFiles(),Ha()},watch:{importDate(e){localStorage.setItem("importDate",e)}},created(){const e=localStorage.getItem("importDate");e&&(this.importDate=e)},data(){return{editContactData:{interaction:"",doc:"",status:"",stage:""},callLog:[],isCopyALL:!1,file:null,showDateFormatDialog:!1,selectedDateFormat:"dd/mm/yyyy",showStatusDialog:!1,selectedStatus:"",importOption:"",importOptions:["Overwrite","Append","Ignore"],viewOnly:!0,showSynDialog:!1,showRecordNo:0,findValue2:"",showCountdown:!1,filterTerm:"",showform:!0,importDate:localStorage.getItem("importDate")||"",sortOrder:{phoneNumber:"asc",name:"asc",no:"asc",status:"asc",project:"asc",nextCall:"asc",dialedDate:"asc"},users:["Alyssa","Ashton","Alvin"],phoneIds:["","*","Alyssa H","Ashton H","Alvin S"],countries:[{country:"Spain"},{country:"France"},{country:"Ghana"},{country:"Nigeria"},{country:"Brazil"},{country:"Ecuador"}],headers2:[{text:"",title:"",value:"edit",width:"2%"},{text:"Project",title:"Project",value:"project",width:"3%"},{text:"Source",title:"Source",value:"source",width:"2%"},{text:"No",title:"No",value:"no",width:"3%"},{text:"Name",title:"Name",value:"name",width:"12%"},{text:"Language",title:"Lgn.",value:"language",width:"1%"},{text:"Phone ID",title:"Phone ID",value:"phoneId",width:"25%"},{text:"Phone",title:"Phone",value:"phoneNumber",width:"25%"},{text:"Interaction",title:"Interaction",value:"interaction",width:"26%"},{text:"Status",title:"Status",value:"status",width:"10%"},{text:"Stage",title:"Stage",value:"stage",width:"10%"},{text:"Doc",title:"Doc",value:"doc",width:"5%"},{text:"Called",title:"Called",value:"called",width:"4%"},{text:"Rating",title:"Rating",value:"rating",width:"4%"},{text:"Contacted",title:"Contacted",value:"contacted",width:"3%"},{text:"Dial Date",title:"Dialed Date",value:"dialedDate",width:"5%"},{text:"Source Date",title:"Source Date",value:"sourceDate",width:"5%"},{text:"Last Called Date",title:"Last Call",value:"lastCall",width:"7%"},{text:"Next Call",title:"Next_Call",value:"nextCall",width:"7%"}],availableDates:this.generateDateOptions(),messageEn:[],messageCn:[],messageBs:[],phoneNumber:"",sendmsg:"",whatsappmessage:"",findValue:null,currentIndex:0,error:null,totalContacts:0,updatedCount:0,progressPercentage:0}},computed:{currentContact(){return this.contacts[this.currentIndex]||{}},filteredContacts(){return""===this.filterTerm?this.contacts:"dup"===this.filterTerm.toLowerCase()?this.getDuplicateRecords():"r"===this.filterTerm.toLowerCase()?this.contacts.filter((e=>e.rating>0)):this.contacts.filter((e=>{const t=[e.name,e.phoneNumber,e.status,e.interaction];return t.some((e=>e.toString().toLowerCase().includes(this.filterTerm.toLowerCase())))}))}},methods:{updateCallCount(){qa(this.currentContact)||(this.currentContact.called=function(e){const t=parseInt(e,10);return isNaN(t)?1:t+1}(this.currentContact.called)),this.currentContact.dialedDate=this.todayDDMMYYYY()},getStageDescription(e){return this.$refs.stageSelect?this.$refs.stageSelect.getStageDescription(e):""},updateContactStage(e){this.editContactData.stage=e},editContact(){this.editContactData={...this.currentContact},this.viewOnly=!1},saveContact(){Object.assign(this.currentContact,this.editContactData),this.currentContact.user=this.selectedUser,this.currentContact.phoneId=this.selectedPhoneId,alert("Save!")},cancelEdit(){this.viewOnly=!0},getLast8Characters(e){const t=e.replace(/\D/g,"");return t.slice(-8)},updateLocalCopy(e,t){const a=this.contacts.indexOf(e);a>-1&&(this.contacts[a]=t)},onFileSelected(e){if(this.file=e.target.files[0],!this.file)return alert("error 103"),void console.error("No file selected");this.showDateFormatDialog=!0},confirmStatus(){this.contacts[this.currentIndex]&&this.selectedStatus?(this.contacts[this.currentIndex].status=this.selectedStatus+" "+this.contacts[this.currentIndex].status,"✓,"==this.selectedStatus&&this.CallSuccess(this.contacts[this.currentIndex]),this.nextContact(),this.showStatusDialog=!1):(alert("error 104"),console.error("Contact or selected status is undefined."))},todayDDMMYYYY(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return`${t}/${a}/${n}`},clearForm(){const e=Math.max(...this.contacts.map((e=>e.no||0)))+1;this.contacts[this.currentIndex]={name:"",phoneNumber:"",interaction:"",project:this.currentContact.project,source:this.currentContact.source,updatedAt:(new Date).toISOString(),no:e,user:this.selectedUser,phoneId:this.selectedPhoneId}},addContact(){this.contacts.push({...this.currentContact}),this.clearForm()},deleteContact(){const e=confirm(`Are you sure you want to delete the contact: ${this.contacts[this.currentIndex].name} (${this.contacts[this.currentIndex].phoneNumber})?`);e&&this.contacts.splice(this.currentIndex,1)},navigateToTalk(e){this.$router.push({path:"/talk",query:{contact:JSON.stringify(e)}})},CallSuccess(e){const t=new Date,a=`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`;e.lastCall=this.convertDMY2YMD(a,!0),e.contacted+=1},isValidEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},previousContact(){this.currentIndex>0&&this.currentIndex--},nextContact(){this.currentIndex<this.contacts.length-1&&this.currentIndex++},AInextContact(){this.currentIndex++;while(this.currentIndex<this.contacts.length-1&&(this.contacts[this.currentIndex].status.includes("ni")||this.contacts[this.currentIndex].status.includes("xxx")||this.contacts[this.currentIndex].called<=3))this.currentIndex++},starNextContact(){this.currentIndex++;while(this.currentIndex<this.contacts.length-1&&(!this.contacts[this.currentIndex].status.includes("*")||!this.contacts[this.currentIndex].interaction.includes("*")))this.currentIndex++},isBlank(e){return null===e||void 0===e||""===e.trim()},formattedPhoneNumber(e){if(this.isBlank(e))return"";const t=e.substring(0,3),a=e.substring(3);return`(${t}) ${a}`},async showConfirmDialog(e,t,a){return console.log("Showing confirm dialog..."),new Promise((n=>{this.showSynDialog=!0,this.showRecordNo=a,this.existingContact=e,this.contact=t,this.confirmSyn=a=>{console.log(`User choose: ${a}`),"deleteServerCopy"==a?this.deleteServerAddLocalCopy(e):"updateServerAllCopy"==a?(this.isCopyALL=!0,this.deleteServerAddLocalCopy(e)):"updateServerCopy"==a?this.deleteServerAddLocalCopy(e):"updateLocalCopy"==a&&this.updateLocalCopy(t,e),this.showSynDialog=!1,n(a)},this.cancelCompare=()=>{console.log("User canceled the dialog."),this.showSynDialog=!1,n(!1)}}))},async loadContactsFromStrapi(e){const t=confirm('Please backup data before you download new data. Click "OK" to proceed, or "Cancel" to quit.');if(!t)return;const a=confirm('Do you want to overwrite existing contacts or append the new ones? Click "OK" to overwrite or "Cancel" to append.');a&&(this.contacts=[]),an(e,this.contacts)},convertDate(e){return e?"dd/mm/yyyy"===this.selectedDateFormat?Ka(e):"mm/dd/yyyy"===this.selectedDateFormat?this.convertMDY2DMY(e):void 0:null},convertMDY2DMY(e){if(!e)return null;const t=e.replace(/-/g,"/"),[a,n,l]=t.split("/").map(Number);if(isNaN(a)||isNaN(n)||isNaN(l))return alert("error 106"),console.error("Invalid date components"),null;const o=new Date(l,a-1,n);if(o.getFullYear()!==l||o.getMonth()!==a-1||o.getDate()!==n)return alert("error 107"),console.error("Invalid date"),null;const r=String(n).padStart(2,"0"),i=String(a).padStart(2,"0"),s=String(l);return`${r}/${i}/${s}`},convertMDY2YMD(e){const t=e.replace(/-/g,"/"),[a,n,l]=t.split("/").map(Number);if(isNaN(n)||isNaN(a)||isNaN(l))return alert("error 108"),console.error("Invalid date components"),null;const o=new Date(l,a-1,n);return o.getFullYear()!==l||o.getMonth()!==a-1||o.getDate()!==n?(alert("error 109"),console.error("Invalid date"),null):Za(o)},async deleteServerAddLocalCopy(e){const t=He.J1`
    mutation deleteLead($id: ID!) {
      deleteLead( id: $id  ) {
        data{
        id
        }
      }
    }
  `;try{const a=await Wa.mutate({mutation:t,variables:{id:e.id}});a.data.deleteLead.data?console.log(`Server copy of ${e.phoneNumber} deleted.`):(alert("error 112"),console.error(`Failed to delete contact: ${e.phoneNumber}`))}catch(a){alert("error 113"),console.error("Error deleting server copy:",a)}},async checkContactConflict(e,t,a){return null===e.stage&&(e.stage=""),!(e.source===t.source&&e.name===t.name&&e.project===t.project&&e.interaction===t.interaction&&e.status===t.status&&e.phoneId===t.phoneId&&e.stage===t.stage&&e.rating==t.rating&&e.no===t.no&&a<=1&&e.phoneNumber===tn(t.phoneNumber))&&await this.showConfirmDialog(e,t,a)},checkContactConflictAll(e,t){return(e.source!==t.source||e.name!==t.name||e.project!==t.project||e.interaction!==t.interaction||e.phoneId!==t.phoneId)&&(this.deleteServerAddLocalCopy(e),"updateServerCopy")},async uploadToStrapi(){const e=He.J1`
    mutation UpdateLead(
      $id: ID!
      $no: Int
      $user: String
      $name: String
      $phoneNumber: String
      $status: String
      $phoneId: String
      $interaction: String
      $lastCall: DateTime
      $nextCall: DateTime
      $called: Int
      $rating: Int
      $contacted: Int
      $language: String
      $message: String
      $doc: String
      $stage: String
      $source: String
      $project: String
      $email: String
      $dialedDate: DateTime
      $sourceDate: Date
    ) {
      updateLead(
        id: $id
        data: {
          user: $user
          name: $name
          phoneNumber: $phoneNumber
          status: $status
          phoneId: $phoneId
          interaction: $interaction
          lastCall: $lastCall
          nextCall: $nextCall
          called: $called
          rating: $rating
          no: $no
          language: $language
          contacted: $contacted
          message: $message
          doc: $doc
          stage: $stage
          source: $source
          project: $project
          email: $email
          dialedDate: $dialedDate
          sourceDate: $sourceDate
        }
      ) {
        data {
          id
          attributes {
            name
            phoneNumber
            status
            interaction
            lastCall
            nextCall
            no
          }
        }
      }
    }
  `;this.totalContacts=this.contacts.length,this.updatedCount=0;try{for(const n of this.contacts){if(n.phoneNumber.length<=8)return void alert("Name:"+n.name+",Phone Number:"+n.phoneNumber+" Phone number less then 8 not allow");const l=He.J1`
            query GetLead($phoneNumber: String!) {
              leads(filters: { phoneNumber: { contains: $phoneNumber } }) {
                data {
                  id
                  attributes {
                    no
                    source
                    project
                    user
                    name
                    phoneNumber
                    status
                    phoneId
                    interaction
                    lastCall
                    nextCall
                    called
                    rating
                    contacted
                    language
                    message
                    doc
                    stage
                    updatedAt
                    email
                    dialedDate
                    sourceDate
                  }
                }
              }
            }
          `;if((this.importDate<n.updatedAt||null==n.updatedAt)&&!this.isBlank(n.phoneNumber)){const{data:o}=await Wa.query({query:l,variables:{phoneNumber:this.getLast8Characters(n.phoneNumber)},fetchPolicy:"no-cache"});if(this.updatedCount++,Array.isArray(o.leads.data)&&o.leads.data.length>0)for(let r=0;r<o.leads.data.length;r++){const i=o.leads.data[r],s=i.attributes;s.id=i.id;var t=!1;if(this.isCopyALL)t=this.checkContactConflictAll(s,n);else if(t=await this.checkContactConflict(s,n,o.leads.data.length-r),0==t)continue;if("updateServerCopy"==t||"updateServerAllCopy"==t){const e=await this.recordExists(tn(n.phoneNumber),l);if(e)continue;n.user=this.selectedUser,"*"!=this.selectedPhoneId.trim()&&(n.phoneId=this.selectedPhoneId),this.AddRecord(n)}if(0!=t){console.log(`Conflict detected for ${n.phoneNumber}. Skipping...`);continue}const c={};for(const e in n)n[e]!==s[e]&&"id"!==e&&(c[e]=n[e]);if(Object.keys(c).length>0)try{await Wa.mutate({mutation:e,variables:{id:s.id,...c,contacted:parseInt(n.contacted,10),called:parseInt(n.called,10),rating:parseInt(n.rating,10),dialedDate:Ka(n.dialedDate,!0),sourceDate:Ka(n.sourceDate,!1),email:this.isValidEmail(n.email)?n.email:null,lastCall:Ka(n.lastCall,!0),nextCall:Ka(n.nextCall,!0),phoneNumber:tn(n.phoneNumber),user:this.selectedUser,phoneId:this.selectedPhoneId}}),console.log(`Updated contact: ${n.phoneNumber}`)}catch(a){alert("error 114"),console.error(`Error updating contact ${n.phoneNumber}:`,a)}}else n.user=this.selectedUser,"*"!=this.selectedPhoneId.trim()&&(n.phoneId=this.selectedPhoneId),this.AddRecord(n);this.progressPercentage=this.updatedCount/this.totalContacts*100,console.log(`Progress: ${this.progressPercentage.toFixed(2)}%`)}}alert("Data synchronization completed!"),this.isCopyALL=!1}catch(n){alert("error 115"),console.error("Error syncing contacts with Strapi:",n),alert("Error syncing contacts with Strapi: "+n.message)}},async recordExists(e){try{const{result:t}=(0,Xe.IT)(Sn,{phoneNumber:e}),a=await t,n=a.value||{},l=n.leads||{},o=l.data||[];return console.log("Query result:",n),o.length>0}catch(t){return alert("error 116"),console.error("Error checking record existence:",t),!1}},async AddRecord(e){const t=He.J1`
        mutation CreateLead(
          $no: Int
          $user: String
          $name: String
          $phoneNumber: String
          $status: String
          $phoneId: String
          $interaction: String
          $lastCall: DateTime
          $nextCall: DateTime
          $called: Int
          $rating: Int
          $contacted: Int
          $language: String
          $message: String
          $doc: String
          $stage: String
          $source: String
          $project: String
          $email: String
          $dialedDate: DateTime
          $sourceDate: Date
        ) {
          createLead(
            data: {
              user: $user
              name: $name
              phoneNumber: $phoneNumber
              status: $status
              phoneId: $phoneId
              interaction: $interaction
              lastCall: $lastCall
              nextCall: $nextCall
              called: $called
              rating: $rating
              no: $no
              language: $language
              contacted: $contacted
              message: $message
              doc: $doc
              stage: $stage
              source: $source
              project: $project
              email: $email
              dialedDate: $dialedDate
              sourceDate: $sourceDate
            }
          ) {
            data {
              id
              attributes {
                name
                phoneNumber
                status
                phoneId
                interaction
                lastCall
                nextCall
                no
                project
                source
              }
            }
          }
        }
      `;try{const a=await Wa.mutate({mutation:t,variables:{...e,no:parseInt(e.no,10),contacted:e.contacted?parseInt(e.contacted,10):0,called:e.called?parseInt(e.called,10):0,rating:e.rating?parseInt(e.rating,10):0,dialedDate:Ka(e.dialedDate,!0),sourceDate:Ka(e.sourceDate,!1),email:this.isValidEmail(e.email)?e.email:null,lastCall:Ka(e.lastCall,!0),nextCall:Ka(e.nextCall,!0),phoneNumber:tn(e.phoneNumber)}});console.log(`Created new contact: ${e.phoneNumber}`),console.log("Response:",a.data.createLead.data)}catch(a){alert("error 117"),console.error(`Error creating contact ${e.phoneNumber}:`,a),a.graphQLErrors&&a.graphQLErrors.forEach((e=>{alert("error 118"),console.error("GraphQL Error:",e.message)})),a.networkError&&(alert("error 119"),console.error("Network Error:",a.networkError.message))}},removeContact(e){const t=this.filteredContacts[e],a=confirm(`Are you sure you want to delete the contact: ${t.name} (${t.phoneNumber})?`);if(a){const e=this.contacts.findIndex((e=>e===t));console.log("Removing contact at original index:",e),console.log("Contact:",this.contacts[e]),-1!==e&&this.contacts.splice(e,1)}else console.log("Contact removal canceled.")},getDuplicateRecords(){const e=this.contacts.reduce(((e,t)=>{const a=t.phoneNumber.trim();return a&&(e[a]=(e[a]||0)+1),e}),{}),t=Object.keys(e).filter((t=>e[t]>1));return this.contacts.filter((e=>t.includes(e.phoneNumber.trim())))},stopCountdownFromParent(){this.$refs.countdown.stopCountdown()},async sendMessage(){this.currentIndex=0;while(this.currentIndex<this.contacts.length){if(!this.contacts[this.currentIndex].status.trim().toLowerCase().includes("send")&&!this.contacts[this.currentIndex].status.trim().toLowerCase().includes("xxx")&&this.contacts[this.currentIndex].phoneNumber.trim().length>0){const t=this.contacts[this.currentIndex];let a="e";void 0!==t.language&&""!==t.language.trim()&&(a=t.language);try{let e="!"+a+this.sendmsg,n=this.getmessage(e,t);t.status="send",void 0!==t.doc?t.doc=this.sendmsg+t.doc:t.doc=this.sendmsg;const l=await I.A.post("http://localhost:3000/send-message",{number:t.phoneNumber,message:n});if(!l.data.success)return alert("Failed to send message: "+l.data.error),t.status="error 1 send",void this.$refs.countdown.stopCountdown()}catch(e){return alert("error 120"),console.error("Error:",e),t.status="error 2 send",alert("An error occurred: "+e.message),void this.$refs.countdown.stopCountdown()}this.currentIndex++;break}this.currentIndex++}this.currentIndex>=this.contacts.length&&(this.$refs.countdown.stopCountdown(),alert("send whatapp message completed"))},isVisible(e){return"showAll"===this.filter||e.phoneNumber&&e.phoneNumber.includes(this.searchTerm)},countdownFinished(){console.log("Countdown finished!"),this.sendMessage()},sortContacts(e){const t="asc"===this.sortOrder[e]?1:-1;this.contacts.sort(((a,n)=>a[e]<n[e]?-1*t:a[e]>n[e]?1*t:0)),this.sortOrder[e]="asc"===this.sortOrder[e]?"desc":"asc"},renumbering(){this.contacts.sort(((e,t)=>e["name"]<t["name"]?-1:e["name"]>t["name"]?1:0)),this.contacts.forEach(((e,t)=>{e.no=t+1,e.updatedAt=(new Date).toISOString()}))},printTable(){dn()(document.getElementById("tableToPrint"),{filename:"myFilename.pdf",jsPDF:{unit:"in",format:"A3",orientation:"landscape",html2canvas:{scale:2}}})},rowClick(e){this.currentIndex=this.currentIndex===e?this.currentIndex:e},generateDateOptions(){const e=[],t=new Date;for(let a=0;a<30;a++){const n=new Date(t);n.setDate(t.getDate()+a);const l=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),i=`${l}/${o}/${r}`;e.push(i)}return e},addPlus(e){return"60"===e.substring(0,2)&&(e="+"+e),e.replaceAll("@","")},formatString(e){return void 0===e?"":(e=e.replace(/\D/g,""),e.length<=12?e.padEnd(12,"_"):e.slice(0,12))},loadMessageFiles(){this.loadTextFile("/messageEn.txt","messageEn"),this.loadTextFile("/messageCn.txt","messageCn")},loadTextFile(e,t){fetch(e).then((e=>e.text())).then((a=>{console.log(`File loaded successfully: ${e}`),console.log(`Data: ${a}`);const n=a.split("\n"),l=[];let o={code:"",msg:""};"undefined"!==this.projectKey?(n.forEach((e=>{if(!e.startsWith("_"))if(e.startsWith("@")){""!==o.code&&l.push(o);const[t,a]=e.split("|");o={code:t.trim().substring(1),msg:a.trim()+"\n"}}else o.msg+=e.trim().replaceAll("$plink","https://alvintkb.github.io/?p=gyp"+this.enDate+"$phone"+this.projectKey)+"\n"})),""!==o.code&&l.push(o),this[t].splice(0,this[t].length,...l),0==this[t].length&&alert("Error! "+t+" no data")):alert("ProjectKey Not defined")})).catch((e=>{alert("error 121"),console.error("Error loading text file:",e)}))},sendmessage(){if(this.phoneNumber&&this.whatsappmessage){let e=this.getmessage(this.whatsappmessage);const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);const a=this.cleanPhoneNumber(this.phoneNumber),n=`https://api.whatsapp.com/send?phone=${a}&text=${encodeURIComponent(e)}`;window.open(n,"_blank")}else alert("Please enter both telephone number and WhatsApp message.")},jumpToIndex(){this.findValue>=0&&this.findValue<this.contacts.length?this.currentIndex=this.findValue-1:(alert("error 122"),console.error("Invalid index."))},findContactByNumber(e){return this.contacts.find((t=>t.phoneNumber.includes(e)))},findNumber(){const e=this.findContactByNumber(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t,alert("Found!")}else alert("Not Found!"),console.error("No contact found with phone number containing",this.findValue)},findName(){const e=this.findByName(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t,alert("Found!")}else alert("No contact found with this name containing '"+this.findValue+"'")},findByName(e){return this.contacts.find((t=>t.name.toLowerCase().includes(e.toLowerCase())))},camelize(e){return e.replace(/(?:^\w|[-\s]\w)/g,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")},rowSendWhatsApp(e){this.validateInput(this.sendmsg)||(this.sendmsg="a0");const{phoneNumber:t,language:a}=e;var n="!"+(a||"e")+this.sendmsg;let l=this.getmessage(n,e);const o=document.createElement("textarea");o.value=l,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o);const r=this.cleanPhoneNumber(t),i=`https://api.whatsapp.com/send?phone=${r}&text=${encodeURIComponent(l)}`;window.open(i,"_blank"),this.contacts[this.currentIndex].doc.length>0?this.contacts[this.currentIndex].doc+=","+this.sendmsg:this.contacts[this.currentIndex].doc+=this.sendmsg,this.currentIndex=this.contacts.findIndex((t=>t.no===e.no))},sendwhatsappmessage(){const{phoneNumber:e,stage:t,name:a,message:n}=this.currentContact;if("w"===t){if(this.validateInput(t)){let t=this.getmessage(n);t=t.replaceAll("@name",a),t=t.replaceAll("$phone",this.formatString(this.contacts[this.currentIndex].phoneNumber));const l=document.createElement("textarea");l.value=t,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l);const o=this.cleanPhoneNumber(e),r=`https://api.whatsapp.com/send?phone=${o}&text=${encodeURIComponent(t)}`;window.open(r,"_blank"),this.moveToNextContact()}}else this.moveToNextContact()},getmessage(e,t){let a="";return"!c"===e.slice(0,2)?a=this.messageCn.find((t=>t.code===e.slice(1))).msg:"!e"===e.slice(0,2)||"!b"===e.slice(0,2)?0==this.messageEn.length?(alert("No Data"),a=""):a=this.messageEn.find((t=>t.code===e.slice(1))).msg:alert("message error on 1st character, only allow e c b:"+e),a=a.replaceAll("@name",t.name),a=a.replaceAll("@project",this.camelize(t.project)),a=a.replaceAll("$phone",this.formatString(t.phoneNumber)),a},validateInput(e){return!!e&&(this.error=null,!0)},moveToNextContact(){let e=0;do{if(this.currentIndex++,this.currentIndex>=this.contacts.length&&(this.currentIndex=0,e++,e>=this.contacts.length))break}while("w"!==this.contacts[this.currentIndex].stage)},startProcessing(){this.currentIndex=0;let e=0;while("w"!==this.contacts[this.currentIndex].stage)if(this.moveToNextContact(),e++,e>=this.contacts.length)break},loadJSONFile(e){const t=e.target.files[0];if(!t)return void(this.error="Please select a file.");localStorage.removeItem("appData"),this.contacts=[];const a=new FileReader;a.onload=e=>{try{const t=JSON.parse(e.target.result);this.contacts=t.map(((e,t)=>({no:t+1,name:e.name?e.name.trim():"",language:e.language?e.language.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?String(e.email).trim():"",status:e.status?e.status.trim():"",phoneId:e.phoneId?e.phoneId.trim():"",dialedDate:e.dialedDate?e.dialedDate.trim():"1-1-1900",sourceDate:e.sourceDate?e.sourceDate.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",doc:e.doc?e.doc.trim():"",called:e.called?String(e.called).trim():"0",rating:e.rating?String(e.rating).trim():"0",contacted:e.contacted?String(e.contacted).trim():"0",occupation:e.occupation?e.occupation.trim():"",stage:e.stage?e.stage.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900",edit:!1,editField:""}))),this.contacts.sort(((e,t)=>e.phoneNumber<t.phoneNumber?-1:e.phoneNumber>t.phoneNumber?1:0)),this.resetJsonFileInput()}catch(t){alert("error 125"),console.error("Error parsing JSON file:",t),this.error="Error parsing JSON file.",this.resetJsonFileInput()}},a.onerror=e=>{alert("error 126"),console.error("Error reading file:",e),this.error="Error reading file."},a.readAsText(t)},removeDuplicatePhoneNumbers(){const e=new Set;this.contacts=this.contacts.filter((t=>!(!t.phoneNumber||e.has(t.phoneNumber))&&(e.add(t.phoneNumber),!0)))},confirmDateFormat(){this.showDateFormatDialog=!1,this.file&&this.loadCSVFile(this.file)},loadCSVFile(e){const t=new FileReader;t.onload=e=>{const t=e.target.result;pn().parse(t,{header:!0,complete:e=>{const t=e.data.map(((e,t)=>({...e,no:t+1,sourceDate:this.convertDate(e.sourceDate),name:e.name?e.name.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?e.email.trim():"",status:e.status?e.status.trim():"",phoneId:e.phoneId?e.phoneId.trim():"",dialedDate:e.dialedDate?e.dialedDate.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",occupation:e.occupation?e.occupation.trim():"",stage:e.stage?e.stage.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900"})));this.promptUser(t)},error:e=>{alert("error 127"),console.error("Error parsing CSV file:",e)}})},t.readAsText(e)},exportToCSV(){const e="source,project,name,phoneNumber,message,interaction,status,phoneId,date,occupation,stage,email",t=this.contacts.map((e=>{const t=e.date?e.date.trim():"",a=t||(new Date).toLocaleDateString("en-CA");return`${e.source},${e.project},${e.name},${this.formattedPhoneNumber(e.phoneNumber)},${e.message},${e.interaction},${e.status},${e.phoneId},${a},${e.occupation},${e.stage},${e.message},${e.email}`})).join("\n"),a=`${e}\n${t}`,n=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),o=URL.createObjectURL(n);l.setAttribute("href",o),l.setAttribute("download","contacts.csv"),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},resetFileInput(){this.$refs.fileInput.value=""},resetJsonFileInput(){this.$refs.jsonFileInput.value=""},promptUser(e){const t=["Overwrite","Append","Merge"],a=window.prompt(`Choose import option: ${t.join(", ")}`,"Append");switch(a){case"Overwrite":this.overwriteContacts(e);break;case"Append":this.appendContacts(e);break;case"Merge":this.ignoreIfExists(e);break;default:alert("error 128"),console.error("Invalid import option.")}},overwriteContacts(e){this.contacts=e},appendContacts(e){this.contacts=[...this.contacts,...e]},ignoreIfExists(e){let t="",a="";this.contacts.length>0&&(t=this.contacts[0].source,a=this.contacts[0].project),e.forEach((e=>{const n=this.contacts.find((t=>t.phoneNumber===e.phoneNumber));n||(e.source=t,e.project=a,this.contacts.push(e))})),Ya("project",this.contacts,this.sortOrder)},exportToJSON(){const e=JSON.stringify(this.contacts,null,2),t=new Blob([e],{type:"application/json;charset=utf-8;"}),a=document.createElement("a"),n=URL.createObjectURL(t);a.setAttribute("href",n),a.setAttribute("download","contacts.json"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},editField(e,t){e.edit=!0,e.editField=t},saveField(e){e.edit=!1,e.editField=""}}};const xn=(0,m.A)(Fn,[["render",Aa],["__scopeId","data-v-0e0de4f0"]]);var In=xn;const Dn=e=>((0,l.Qi)("data-v-19784656"),e=e(),(0,l.jt)(),e),Ln=Dn((()=>(0,l.Lk)("h2",null,"Make Calls",-1))),_n=Dn((()=>(0,l.Lk)("strong",null,"User:",-1))),Un=Dn((()=>(0,l.Lk)("strong",null,"Name:",-1))),Pn=Dn((()=>(0,l.Lk)("strong",null,"Status:",-1))),Rn=Dn((()=>(0,l.Lk)("strong",null,"Interaction:",-1))),Nn=Dn((()=>(0,l.Lk)("strong",null,"Last Call:",-1))),An=Dn((()=>(0,l.Lk)("strong",null,"Next Call:",-1))),En=Dn((()=>(0,l.Lk)("strong",null,"Phone Number:",-1))),Vn=Dn((()=>(0,l.Lk)("strong",null,"Doc:",-1))),Mn=Dn((()=>(0,l.Lk)("strong",null,"No:",-1))),$n=Dn((()=>(0,l.Lk)("h2",null,"Contacts",-1))),Tn=Dn((()=>(0,l.Lk)("strong",null,"ID:",-1))),Wn=Dn((()=>(0,l.Lk)("strong",null,"Name:",-1))),On=Dn((()=>(0,l.Lk)("strong",null,"Email:",-1)));function jn(e,t,a,n,o,r){const i=(0,l.g2)("v-icon"),s=(0,l.g2)("v-btn");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",null,[Ln,(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.makeCalls,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[(0,l.Lk)("p",null,[_n,(0,l.eW)(" "+(0,b.v_)(e.user),1)]),(0,l.Lk)("h1",null,[Un,(0,l.eW)(" "+(0,b.v_)(e.name),1)]),(0,l.Lk)("p",null,[Pn,(0,l.eW)(" "+(0,b.v_)(e.status),1)]),(0,l.Lk)("h3",null,[Rn,(0,l.eW)(" "+(0,b.v_)(e.interaction),1)]),(0,l.Lk)("p",null,[Nn,(0,l.eW)(" "+(0,b.v_)(e.lastCall),1)]),(0,l.Lk)("p",null,[An,(0,l.eW)(" "+(0,b.v_)(e.nextCall),1)]),(0,l.Lk)("p",null,[En,(0,l.eW)(" "+(0,b.v_)(e.phoneNumber),1)]),(0,l.Lk)("p",null,[Vn,(0,l.eW)(" "+(0,b.v_)(e.doc),1)]),(0,l.Lk)("p",null,[Mn,(0,l.eW)(" "+(0,b.v_)(e.no),1)]),(0,l.bF)(s,{rounded:"",href:`tel:${e.phoneNumber}`,color:"primary",style:{width:"20%","min-width":"50px",height:"70px"},class:"mx-1"},{default:(0,l.k6)((()=>[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-phone-in-talk")])),_:1})])),_:2},1032,["href"])])))),128))])]),(0,l.Lk)("div",null,[$n,(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.contacts,(e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[(0,l.Lk)("p",null,[Tn,(0,l.eW)(" "+(0,b.v_)(e.id),1)]),(0,l.Lk)("p",null,[Wn,(0,l.eW)(" "+(0,b.v_)(e.name),1)]),(0,l.Lk)("p",null,[On,(0,l.eW)(" "+(0,b.v_)(e.email),1)])])))),128))])])])}var Bn=a(6373),Xn={name:"SocketComponent",setup(){const e={NODE_ENV:"production",VUE_APP_CLOUDINARY_URL:"cloudinary://534437115195651:zG55yScmwQDNzt_hlbJJCdt2vUI@alvin-tan",BASE_URL:"/list/"}.VUE_APP_SERVER_URL||"https://sp412b-763ef468411d.herokuapp.com/",t=(0,Bn.io)(e),a=(0,d.KR)([]),n=(0,d.KR)([]),o=()=>{console.log("Socket connected!"),t.on("makeCall:create",(e=>{console.log("makeCall created!",e),a.value.push(e)})),t.on("makeCall:update",(e=>{console.log("makeCall updated!",e);const t=a.value.findIndex((t=>t.id===e.id));-1!==t?a.value[t]={...a.value[t],...e}:a.value.push(e)})),t.on("makeCall:delete",(e=>{console.log("makeCall deleted!",e),a.value=a.value.filter((t=>t.id!==e.id))})),t.on("contact:create",(e=>{console.log("contact created!",e),n.value.push(e)})),t.on("contact:update",(e=>{console.log("contact updated!",e);const t=n.value.findIndex((t=>t.id===e.id));-1!==t?n.value[t]={...n.value[t],...e}:n.value.push(e)})),t.on("contact:delete",(e=>{console.log("contact deleted!",e),n.value=n.value.filter((t=>t.id!==e.id))}))},r=()=>{console.log("Socket disconnected!")};return(0,l.sV)((()=>{console.log("start!"),t.on("connect",o),t.on("disconnect",r)})),(0,l.hi)((()=>{t.off("connect",o),t.off("disconnect",r),t.disconnect()})),{makeCalls:a,contacts:n}}};const Hn=(0,m.A)(Xn,[["render",jn],["__scopeId","data-v-19784656"]]);var Jn=Hn;const qn=e=>((0,l.Qi)("data-v-2b340c34"),e=e(),(0,l.jt)(),e),Kn=qn((()=>(0,l.Lk)("h2",null,"Contact Management",-1))),Qn=["onClick"],Yn=qn((()=>(0,l.Lk)("h2",null,"Add New Contact",-1)));function Gn(e,t,a,n,o,r){const i=(0,l.g2)("v-select"),s=(0,l.g2)("v-text-field"),c=(0,l.g2)("v-col"),d=(0,l.g2)("v-btn"),u=(0,l.g2)("v-row"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-data-table"),h=(0,l.g2)("edit-contact-form"),g=(0,l.g2)("v-checkbox"),v=(0,l.g2)("v-form"),f=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(f,{style:{"margin-top":"64px"}},{default:(0,l.k6)((()=>[Kn,(0,l.bF)(i,{modelValue:n.selectedUser,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedUser=e),items:n.users,"item-text":"text","item-value":"value",label:"Select a user",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"]),(0,l.bF)(i,{modelValue:n.selectedPhoneId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedPhoneId=e),items:n.phoneIds,"item-text":"text","item-value":"value",label:"Select a Phone ID",style:{width:"50%","min-width":"120px"}},null,8,["modelValue","items"]),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{modelValue:n.projectFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>n.projectFilter=e),label:"Enter project name",outlined:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(c,{cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:n.loadContactsFromStrapi2,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("Load Data")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,l.bF)(u,{class:"sticky-buttons"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{cols:"2",md:"1"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:n.openAddForm,color:"success",class:"mb-4",icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])),_:1}),(0,l.bF)(c,{cols:"2",md:"1"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:n.editSelectedContact,disabled:0===!n.selectedIndex,color:"primary",class:"mb-4",icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-pencil")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1}),(0,l.bF)(c,{cols:"2",md:"1"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:n.prevContact,disabled:0===n.selectedIndex,color:"primary",class:"mr-2",icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-chevron-left")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1}),(0,l.bF)(c,{cols:"2",md:"1"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:n.nextContact,disabled:n.selectedIndex===n.contacts.length-1,color:"primary",icon:""},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-chevron-right")])),_:1})])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),n.loading||n.error||!n.contacts.length||n.currentContact||n.isAdding?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(m,{key:0,headers:n.headers,items:n.contacts,"item-key":"id",class:"elevation-1",style:{width:"100%"}},{item:(0,l.k6)((({item:e,index:t})=>[(0,l.Lk)("tr",{class:(0,b.C4)(n.getRowClass(t)),onClick:a=>n.focusRow(e,t)},[(0,l.Lk)("td",null,(0,b.v_)(e.no),1),(0,l.Lk)("td",null,(0,b.v_)(e.project),1),(0,l.Lk)("td",null,(0,b.v_)(e.process),1),(0,l.Lk)("td",null,(0,b.v_)(e.name),1),(0,l.Lk)("td",null,(0,b.v_)(e.phoneNumber),1),(0,l.Lk)("td",null,(0,b.v_)(e.interaction),1),(0,l.Lk)("td",null,(0,b.v_)(e.status),1),(0,l.Lk)("td",null,(0,b.v_)(e.process),1),(0,l.Lk)("td",null,(0,b.v_)(e.stage),1),(0,l.Lk)("td",null,(0,b.v_)(e.task),1),(0,l.Lk)("td",null,(0,b.v_)(e.delegation),1),(0,l.Lk)("td",null,(0,b.v_)(e.phoneId),1),(0,l.Lk)("td",null,(0,b.v_)(e.user),1),(0,l.Lk)("td",null,(0,b.v_)(e.doc),1),(0,l.Lk)("td",null,(0,b.v_)(e.rating),1),(0,l.Lk)("td",null,(0,b.v_)(e.called),1),(0,l.Lk)("td",null,(0,b.v_)(e.contacted),1),(0,l.Lk)("td",null,(0,b.v_)(e.clientType),1),(0,l.Lk)("td",null,(0,b.v_)(e.address),1),(0,l.Lk)("td",null,(0,b.v_)(e.advUrl),1),(0,l.Lk)("td",null,(0,b.v_)(e.advUrlDate),1),(0,l.Lk)("td",null,(0,b.v_)(e.facebookUrl),1),(0,l.Lk)("td",null,(0,b.v_)(e.notionUrl),1)],10,Qn)])),_:1},8,["headers","items"])),n.currentContact&&!n.isAdding?((0,l.uX)(),(0,l.Wv)(h,{key:1,contact:n.currentContact,"on-save":n.saveContact,nextContact:n.nextContact,"on-cancel":n.cancelEdit,selectedUser:n.selectedUser,selectedPhoneId:n.selectedPhoneId,index:n.selectedIndex,contacts:n.contacts},null,8,["contact","on-save","nextContact","on-cancel","selectedUser","selectedPhoneId","index","contacts"])):(0,l.Q3)("",!0),n.isAdding?((0,l.uX)(),(0,l.Wv)(v,{key:2,ref:"addForm"},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,{cols:"12",md:"12"},{default:(0,l.k6)((()=>[Yn,(0,l.bF)(s,{modelValue:n.newContactData.project,"onUpdate:modelValue":t[3]||(t[3]=e=>n.newContactData.project=e),label:"Project",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.process,"onUpdate:modelValue":t[4]||(t[4]=e=>n.newContactData.process=e),label:"Process",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.name,"onUpdate:modelValue":t[5]||(t[5]=e=>n.newContactData.name=e),label:"Name",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.phoneNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.newContactData.phoneNumber=e),label:"Phone",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.status,"onUpdate:modelValue":t[7]||(t[7]=e=>n.newContactData.status=e),label:"Status",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.rating,"onUpdate:modelValue":t[8]||(t[8]=e=>n.newContactData.rating=e),label:"Rating",outlined:""},null,8,["modelValue"]),(0,l.bF)(g,{modelValue:n.newContactData.called,"onUpdate:modelValue":t[9]||(t[9]=e=>n.newContactData.called=e),label:"Called",class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(g,{modelValue:n.newContactData.contacted,"onUpdate:modelValue":t[10]||(t[10]=e=>n.newContactData.contacted=e),label:"Contacted",class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.clientType,"onUpdate:modelValue":t[11]||(t[11]=e=>n.newContactData.clientType=e),label:"Client Type",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.address,"onUpdate:modelValue":t[12]||(t[12]=e=>n.newContactData.address=e),label:"Address",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.advURL,"onUpdate:modelValue":t[13]||(t[13]=e=>n.newContactData.advURL=e),label:"advURL",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{modelValue:n.newContactData.advURLDate,"onUpdate:modelValue":t[14]||(t[14]=e=>n.newContactData.advURLDate=e),label:"advURL Date",type:"date",outlined:""},null,8,["modelValue"]),(0,l.bF)(d,{onClick:n.saveNewContact,color:"success"},{default:(0,l.k6)((()=>[(0,l.eW)("Save")])),_:1},8,["onClick"]),(0,l.bF)(d,{onClick:n.cancelAdd,color:"blue"},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},512)):(0,l.Q3)("",!0)])),_:1})}const zn=e=>((0,l.Qi)("data-v-324ee504"),e=e(),(0,l.jt)(),e),Zn=zn((()=>(0,l.Lk)("h3",null,"Call Log",-1)));function el(e,t,a,n,o,r){const i=(0,l.g2)("v-textarea"),s=(0,l.g2)("v-text-field"),c=(0,l.g2)("v-select"),d=(0,l.g2)("ProcessStageTaskSelector"),u=(0,l.g2)("v-btn"),p=(0,l.g2)("v-icon"),m=(0,l.g2)("v-col"),h=(0,l.g2)("v-row"),g=(0,l.g2)("statusDialog"),v=(0,l.g2)("v-form");return a.contact?((0,l.uX)(),(0,l.Wv)(v,{key:0,ref:"contactForm"},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{cols:"12",md:"12"},{default:(0,l.k6)((()=>[(0,l.Lk)("h2",null,"Edit Contact: "+(0,b.v_)(a.index)+"-"+(0,b.v_)(a.contact.no)+"/"+(0,b.v_)(a.contact.name)+"/"+(0,b.v_)(a.contact.phoneNumber),1),(0,l.bF)(i,{modelValue:n.editContactData.interaction,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editContactData.interaction=e),label:"Interaction",outlined:""},null,8,["modelValue"]),(0,l.bF)(s,{label:"Doc",modelValue:n.editContactData.doc,"onUpdate:modelValue":t[1]||(t[1]=e=>n.editContactData.doc=e),class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"Status",modelValue:n.editContactData.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.editContactData.status=e),class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"Rating",modelValue:n.editContactData.rating,"onUpdate:modelValue":t[3]||(t[3]=e=>n.editContactData.rating=e),modelModifiers:{number:!0},type:"number",class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"Called (0 or 1)",modelValue:n.editContactData.called,"onUpdate:modelValue":t[4]||(t[4]=e=>n.editContactData.called=e),modelModifiers:{number:!0},type:"number",class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"Contacted (0 or 1)",modelValue:n.editContactData.contacted,"onUpdate:modelValue":t[5]||(t[5]=e=>n.editContactData.contacted=e),modelModifiers:{number:!0},type:"number",class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(c,{modelValue:n.editContactData.clientType,"onUpdate:modelValue":t[6]||(t[6]=e=>n.editContactData.clientType=e),items:n.clientTypes,label:"Client Type",outlined:""},null,8,["modelValue","items"]),(0,l.bF)(s,{label:"Address",modelValue:n.editContactData.address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.editContactData.address=e),class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"advUrl",modelValue:n.editContactData.advUrl,"onUpdate:modelValue":t[8]||(t[8]=e=>n.editContactData.advUrl=e),class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"advUrl Date",modelValue:n.editContactData.advUrlDate,"onUpdate:modelValue":t[9]||(t[9]=e=>n.editContactData.advUrlDate=e),type:"date",class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"facebookUrl",modelValue:n.editContactData.facebookUrl,"onUpdate:modelValue":t[10]||(t[10]=e=>n.editContactData.facebookUrl=e),class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(s,{label:"NotionURL",modelValue:n.editContactData.notionUrl,"onUpdate:modelValue":t[11]||(t[11]=e=>n.editContactData.notionUrl=e),class:"edit-mode"},null,8,["modelValue"]),(0,l.bF)(c,{modelValue:n.editContactData.phoneId,"onUpdate:modelValue":t[12]||(t[12]=e=>n.editContactData.phoneId=e),items:n.phoneIdOptions,label:"PhoneId",outlined:""},null,8,["modelValue","items"]),(0,l.Lk)("div",null,[(0,l.bF)(d,{"initial-value":e.initialValue,"onUpdate:selectedProcess":n.handleSelectedProcessChange,"onUpdate:selectedStage":n.handleSelectedStageChange,"onUpdate:selectedTask":n.handleSelectedTaskChange},null,8,["initial-value","onUpdate:selectedProcess","onUpdate:selectedStage","onUpdate:selectedTask"])]),(0,l.Lk)("h2",null,"Process: "+(0,b.v_)(n.editContactData.process),1),(0,l.Lk)("h2",null,"stage: "+(0,b.v_)(n.editContactData.stage),1),(0,l.Lk)("h2",null,"task: "+(0,b.v_)(n.editContactData.task),1),(0,l.Lk)("h2",null,"Last Call Date: "+(0,b.v_)(n.editContactData.lastCall),1),(0,l.Lk)("h2",null,"Next Call Date: "+(0,b.v_)(n.editContactData.nextCall),1),(0,l.Lk)("h2",null,"Status: "+(0,b.v_)(n.editContactData.status),1),(0,l.bF)(u,{onClick:n.saveContact,color:"primary",class:"mx-1",rounded:"",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.eW)("Save")])),_:1},8,["onClick"]),(0,l.bF)(u,{rounded:"",onClick:t[13]||(t[13]=e=>n.showStatusDialog=!0),disabled:e.currentIndex===a.contacts.length-1,color:"#00AA55",class:"mx-1",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.eW)(" Save "),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-arrow-right")])),_:1})])),_:1},8,["disabled"]),(0,l.bF)(u,{rounded:"",onClick:n.cancelEdit,color:"blue",style:{width:"20%","min-width":"20px",height:"70px"}},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1},8,["onClick"]),(0,l.bF)(u,{rounded:"",onClick:t[14]||(t[14]=e=>n.makeCall2(n.editContactData,a.selectedUser,a.index,a.contacts)),color:e.primary,style:{width:"20%","min-width":"50px",height:"70px"},class:"mx-1"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-monitor-cellphone-star")])),_:1})])),_:1},8,["color"]),(0,l.bF)(u,{rounded:"",href:`tel:${n.editContactData.phoneNumber}`,color:"primary",onClick:n.handleCallClick,style:{width:"20%","min-width":"50px",height:"70px"},class:"mx-1"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-phone-in-talk")])),_:1})])),_:1},8,["href","onClick"])])),_:1})])),_:1}),(0,l.Lk)("div",null,[(0,l.bF)(g,{showDialog:n.showStatusDialog,"onUpdate:showDialog":t[15]||(t[15]=e=>n.showStatusDialog=e),selectedStatus:n.status,onUpdateStatus:n.handleStatusUpdate},null,8,["showDialog","selectedStatus","onUpdateStatus"]),(0,l.Lk)("p",null,"Selected Status: "+(0,b.v_)(n.status),1)]),(0,l.Lk)("div",null,[Zn,(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.callLog,((e,t)=>((0,l.uX)(),(0,l.CE)("li",{key:t},(0,b.v_)(e.name)+" - "+(0,b.v_)(e.phoneNumber)+" - "+(0,b.v_)(e.time),1)))),128))])])])),_:1},512)):(0,l.Q3)("",!0)}const tl=e=>((0,l.Qi)("data-v-7d56f412"),e=e(),(0,l.jt)(),e),al=tl((()=>(0,l.Lk)("h1",null,"Process Selection",-1))),nl=tl((()=>(0,l.Lk)("label",{for:"process-select"},"Select Process:",-1))),ll=["value"],ol={key:0},rl=tl((()=>(0,l.Lk)("label",{for:"stage-select"},"Select Stage:",-1))),il=["value"],sl={key:1},cl=tl((()=>(0,l.Lk)("label",{for:"task-select"},"Select Task:",-1))),dl=["value"];function ul(e,t,a,o,r,i){const s=(0,l.g2)("ProcessSelector"),c=(0,l.g2)("StageSelector");return(0,l.uX)(),(0,l.CE)("div",null,[al,(0,l.Lk)("div",null,[nl,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedProcess=e),id:"process-select","on:update:modelValue":t[1]||(t[1]=(...e)=>o.handleProcessChange&&o.handleProcessChange(...e)),style:{"border-bottom":"1px solid #ccc"}},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.processOptions,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,b.v_)(e.label),9,ll)))),128))],544),[[n.u1,o.selectedProcess]])]),o.filteredStages.length>0?((0,l.uX)(),(0,l.CE)("div",ol,[rl,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.selectedStage=e),id:"stage-select",style:{"border-bottom":"1px solid #ccc"}},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filteredStages,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,b.v_)(e.label),9,il)))),128))],512),[[n.u1,o.selectedStage]])])):(0,l.Q3)("",!0),o.filteredTasks.length>0?((0,l.uX)(),(0,l.CE)("div",sl,[cl,(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.selectedTask=e),id:"task-select",style:{"border-bottom":"1px solid #ccc"}},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.filteredTasks,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,b.v_)(e.label),9,dl)))),128))],512),[[n.u1,o.selectedTask]])])):(0,l.Q3)("",!0),(0,l.bF)(s,{"onUpdate:selectedProcess":o.handleSelectedProcessChange,"onUpdate:selectedStage":o.handleSelectedStageChange,"onUpdate:selectedTask":o.handleSelectedTaskChange},null,8,["onUpdate:selectedProcess","onUpdate:selectedStage","onUpdate:selectedTask"]),(0,l.bF)(c,{"onUpdate:selectedStage":o.handleSelectedStageChange,"onUpdate:selectedTask":o.handleSelectedTaskChange},null,8,["onUpdate:selectedStage","onUpdate:selectedTask"])])}var pl={props:{initialValue:{type:String,default:null}},setup(e,{emit:t}){const a=(0,d.KR)(e.initialValue),n=(0,d.KR)(null),o=(0,d.KR)(null),r=(0,d.KR)([{label:"Newly Launched Project Process",value:"newly-launched",stages:[{label:"Project Launch and Promotion",value:"project-launch-promotion",tasks:[{label:"*Online and offline marketing campaigns.",value:"npp1"},{label:"*Social media promotions and influencer partnerships.",value:"npp2"},{label:"Pre-sale events or soft launches.",value:"pp3"},{label:"*Advertising through property portals (iproperty) and newsletters.",value:"npp4"},{label:"Property showrooms virtual tours.",value:"npp5"}]},{label:"Lead Generation and Client Engagement",value:"lead-generation",tasks:[{label:"*Capture leads via Hotlist, website forms or event registrations.",value:"nll1"},{label:"*Follow-up with interested buyers (calls, WhatsApp, emails).",value:"nlf2"},{label:"*Schedule site visits and prepare property presentations.",value:"nla3"},{label:"*Provide detailed project information (prices, availability, payment plans).",value:"nlp4"}]},{label:"Booking and Sales",value:"booking-sales",tasks:[{label:"Receiving expressions of interest.",value:"nbr1"},{label:"*Offering early bird discounts or promotions.",value:"nbo2"},{label:"*Handling booking deposits.",value:"nph3"},{label:"*Prepare and sign sales contracts with buyers.",value:"nbp4"}]},{label:"Post-Sale Support",value:"post-sale-support",tasks:[{label:"Regular updates on construction progress.",value:"npr1"},{label:"Financial planning support (mortgages, installment plans).",value:"npf2"},{label:"Customer relationship management for future projects.",value:"npc3"}]}]},{label:"Landowners Renting Out Their Property",value:"landowners-renting",stages:[{label:"Property Preparation",value:"property-preparation",tasks:[{label:"*Property evaluation and rental price setting.",value:"lppe1"},{label:"Property maintenance or repairs (if needed).",value:"lppem2"},{label:"Property staging (furnish or clean to appeal to tenants).",value:"lpps3"},{label:"*Photography and creation of rental listings.",value:"lppc4"},{label:"*Post photo to notion, and copy the link to Property Manager",value:"lppc5"},{label:"*Post Video to facebook, and copy the link to Property Manager",value:"lppc6"},{label:"*get Info, No of room, No bath romm, No car park, buildup area ",value:"lppc7"}]},{label:"Marketing and Promotion",value:"marketing-promotion",tasks:[{label:"*Listing the property on rental platforms. (property Guru)",value:"lml1"},{label:"Offline advertising (flyers, word-of-mouth, Yellow card signboards).",value:"lml2"},{label:"*Engaging a real estate broker for broader exposure.",value:"lml3"}]},{label:"Tenant Screening and Interaction",value:"tenant-screening",tasks:[{label:"Responding to rental inquiries.",value:"ltr1"},{label:"Schedule property viewings.",value:"ltr2"},{label:"Screening potential tenants (background check, rental history, income verification).",value:"ltr3"}]},{label:"Lease Agreement and Finalization",value:"lease-agreement",tasks:[{label:"Negotiating rental terms (rent, deposit, duration).",value:"lln1"},{label:"Drafting and signing the lease agreement.",value:"lld2"},{label:"*Collecting 3 month deposit.",value:"llc3"},{label:"Handing over property keys and any additional documents.",value:"llh4"}]},{label:"Ongoing Property Management",value:"ongoing-management",tasks:[{label:"Regular maintenance and inspections.",value:"lor1"},{label:"Collecting monthly rent and handling tenant requests.",value:"loc2"},{label:"Handling disputes or complaints from tenants.",value:"loh3"},{label:"*Preparing for lease renewal or tenant transition.",value:"lop4"}]}]},{label:"Homeowners Selling Their Property",value:"homeowners-selling",stages:[{label:"Property Valuation and Preparation",value:"property-valuation",tasks:[{label:"Get Seller to sign exclusive).",value:"hpe1"},{label:"*Market Research, Per Sq ft price).",value:"hpm2"},{label:"Get property valuation (via 3 banker valuer, brick).",value:"hpg3"},{label:"*Survey Area and property to highlight selling point).",value:"hph4"},{label:"*Decide on a selling price for advertisement, put it lower then others to extract customer.",value:"hpd5"},{label:"Property maintenance or upgrades (if needed).",value:"hpp6"},{label:"Staging the home to make it attractive to buyers.",value:"hps7"},{label:"Take professional photos and create a sales listing.",value:"hpt8"},{label:"*Post photo to notion, and copy the link to Property Manager",value:"hpp9"},{label:"*Post Video to facebook, and copy the link to Property Manager",value:"hpv10"},{label:"Get Info on Lease Hold, Freehold, Landsize, Builup Area, no of Room, bath room, car par",value:"hpt11"},{label:"Create a webpage to file using notions.",value:"hpw12"}]},{label:"Marketing the Property",value:"marketing-property",tasks:[{label:"*Listing the property on real estate websites. nextSix, Property Guru, Mudah",value:"hml1"},{label:"Online advertising (social media, email campaigns, property portals).",value:"hmo2"},{label:"*Offline advertising (flyers, newspapers, yellow cardboard).",value:"hmo3"},{label:"Holding open houses or private viewings.",value:"hmh4"},{label:"*Co-broke for wider exposure.",value:"hmc5"}]},{label:"Buyer Interaction and Offers",value:"buyer-interaction",tasks:[{label:"Responding to inquiries and questions from buyers.",value:"hbr1"},{label:"Arranging property viewings and walk-throughs.",value:"hba2"},{label:"Negotiating the terms of sale (price, conditions, timing).",value:"hbn3"},{label:"Customer Filter",value:"hbn3"},{label:"*Receiving 3% booking and reviewing purchase offers.",value:"hbr4"},{label:"*Get buyer to sign offer letter then seller,value: ",value:"hbr5"}]},{label:"Finalizing the Sale",value:"finalizing-sale",tasks:[{label:"*Offer acceptance and drafting the sale agreement.",value:"hfo1"},{label:"Completing any inspections or repairs.",value:"hfc2"},{label:"*Signing S&P with the buyer.",value:"hfs3"},{label:"Transfer of ownership (with the lawyer) and closing procedures.",value:"hft4"}]},{label:"Post-Sale Follow-up",value:"post-sale-followup",tasks:[{label:"Providing necessary documents to the buyer.",value:"hpp1"},{label:"*Collecting payment and any additional fees.",value:"hpc2"},{label:"Handling any post-sale issues or questions from the buyer.",value:"hph3"},{label:"*Handling of Vaccant Procession.",value:"hph4"}]}]},{label:"Co-Broke Agents Collaborating",value:"co-broke-agents",stages:[{label:"Initial Collaboration",value:"initial-collaboration",tasks:[{label:"*Identify potential collaboration opportunities.",value:"cii1"},{label:"Discuss and outline terms of collaboration.",value:"cid2"},{label:"Set clear expectations and responsibilities.",value:"cis3"}]},{label:"Property Listing and Marketing",value:"property-listing",tasks:[{label:"Share property listings and details with each other.",value:"cps1"},{label:"*Get Property info",value:"cpi2"},{label:"*Post photo to notion, and copy the link to Property Manager",value:"cpp3"},{label:"*Post Video to facebook, and copy the link to Property Manager",value:"cpv4"},{label:"*Make sure the other party not using iproperty.",value:"cpm5"},{label:"*Decide the advertisment price, make sure it not highier then others",value:"cpd6"},{label:'*Create record in "PM", and get refering No to place in Advertising Refer field',value:"cpd7"},{label:'*Plase Advertising URL to "PM"',value:"cpd8"},{label:'*Please Broker name and Phone to "PM"',value:"cpd9"},{label:'*Please Advertisement Date in "PM"',value:"cpd10"},{label:"Jointly market the property through combined resources. mudah,property guru,iproperty,nextsix",value:"cpj7"},{label:"Coordinate open houses and property viewings.",value:"cpc8"}]},{label:"Lead Management",value:"lead-management",tasks:[{label:"*If our lead, Share leads and client information with co-broke agents.",value:"cls1"},{label:"Collaborate on follow-up with potential buyers or sellers.",value:"clc2"},{label:"Track leads and manage inquiries collaboratively.",value:"clt3"}]},{label:"Sales Coordination",value:"sales-coordination",tasks:[{label:"Work together on negotiating offers and terms.",value:"csw1"},{label:"Coordinate efforts for property inspections and appraisals.",value:"csc2"},{label:"*Finalize agreements and contracts together.",value:"csf3"}]},{label:"Post-Sale Follow-Up",value:"post-sale-followup",tasks:[{label:"Share feedback and insights on the collaboration.",value:"cps1"},{label:"Discuss potential future collaborations.",value:"cps2"},{label:"*Maintain a network for ongoing communication.",value:"cps3"}]}]},{label:"Others",value:"Others",stages:[{label:"-",value:"-",tasks:[{label:"Client not interested",value:"ni"},{label:"Unsuccessful deal",value:"xdeal"},{label:"Pending",value:"pending"}]}]}]);function i(e){console.log("Selected process:",e)}function s(e){console.log("Selected stage:",e)}function c(e){console.log("Selected task:",e)}function u(){n.value=null,o.value=null,t("update:selectedProcess",a.value)}function p(){o.value=null,t("update:selectedStage",n.value)}function m(){t("update:selectedTask",o.value)}(0,l.wB)(a,(()=>{u()})),(0,l.wB)(n,(()=>{p()})),(0,l.wB)(o,(()=>{m()}));const h=(0,l.EW)((()=>{const e=r.value.find((e=>e.value===a.value));return e?e.stages:[]})),g=(0,l.EW)((()=>{const e=h.value.find((e=>e.value===n.value));return e?e.tasks:[]}));return{selectedProcess:a,selectedStage:n,selectedTask:o,processOptions:r,filteredStages:h,filteredTasks:g,handleProcessChange:u,handleStageChange:p,handleTaskChange:m,handleSelectedProcessChange:i,handleSelectedStageChange:s,handleSelectedTaskChange:c}}};const ml=(0,m.A)(pl,[["render",ul],["__scopeId","data-v-7d56f412"]]);var hl=ml;function gl(e,t,a,n,o,r){const i=(0,l.g2)("v-card-title"),s=(0,l.g2)("v-select"),c=(0,l.g2)("v-card-text"),d=(0,l.g2)("v-btn"),u=(0,l.g2)("v-card-actions"),p=(0,l.g2)("v-card"),m=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.Wv)(m,{modelValue:e.internalDialogVisible,"onUpdate:modelValue":t[1]||(t[1]=t=>e.internalDialogVisible=t),persistent:"","max-width":"290"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[(0,l.eW)("Select Status")])),_:1}),(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,{modelValue:e.internalSelectedStatus,"onUpdate:modelValue":t[0]||(t[0]=t=>e.internalSelectedStatus=t),items:e.statusOptions,label:"Status",outlined:""},null,8,["modelValue","items"])])),_:1}),(0,l.bF)(u,{class:"d-flex justify-space-between"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{text:"",onClick:e.confirmStatus},{default:(0,l.k6)((()=>[(0,l.eW)("Confirm")])),_:1},8,["onClick"]),(0,l.bF)(d,{text:"",onClick:e.closeDialog},{default:(0,l.k6)((()=>[(0,l.eW)("Cancel")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var vl=(0,l.pM)({name:"statusDialog",props:{showDialog:{type:Boolean,required:!0},selectedStatus:{type:String,default:""}},emits:["update:showDialog","updateStatus"],setup(e,{emit:t}){const a=(0,d.KR)(e.showDialog),n=(0,d.KR)(e.selectedStatus),o=["✓","ni","nis","eg","XXX","nr","ua"];(0,l.wB)((()=>e.showDialog),(e=>{a.value=e})),(0,l.wB)((()=>e.selectedStatus),(e=>{n.value=e})),(0,l.wB)(a,(e=>{t("update:showDialog",e)}));const r=()=>{t("updateStatus",n.value),i()},i=()=>{a.value=!1};return{internalDialogVisible:a,internalSelectedStatus:n,statusOptions:o,confirmStatus:r,closeDialog:i}}});const bl=(0,m.A)(vl,[["render",gl]]);var fl=bl,kl={name:"editFromy",props:{contact:Object,onSave:Function,onCancel:Function,index:Number,selectedUser:String,selectedPhoneId:String,contacts:Object,nextContact:Function},components:{ProcessStageTaskSelector:hl,statusDialog:fl},setup(e){const t=(0,d.KR)(!1),a=(0,d.KR)(""),n=(0,d.KR)(""),o=(0,d.KR)(""),r=(0,d.KR)(""),i=(0,d.KR)(""),s=()=>{t.value=!0},c=t=>{C(e.index,t),n.value=t},u=(0,d.KR)([]),p=(0,d.KR)({interaction:"",doc:"",status:"",rating:0,called:0,contacted:0,clientType:"",address:"",advUrl:"",advUrlDate:"",process:"",stage:"",task:"",delegate:"",phoneId:"",facebookUrl:"",notionUrl:""}),m=["buyer","seller","co broke","Tenant","Land Owner"],h=["Alyssa H","Ashton H","Alvin S",""];function g(e){p.value.process=e,p.value.stage="",p.value.task="",console.log("Selected process:",e)}function v(e){p.value.stage=e,p.value.task="",console.log("Selected stage:",e)}function b(e){p.value.task=e,console.log("Selected task:",e)}(0,l.sV)((()=>{const e=localStorage.getItem("callLog");e&&(u.value=JSON.parse(e))})),(0,l.wB)(u,(e=>{localStorage.setItem("callLog",JSON.stringify(e))})),(0,l.wB)((()=>e.contact),(e=>{e&&(p.value={name:e.name||"",phoneNumber:e.phoneNumber||"",lastCall:Ka(e.lastCall,!0),nextCall:Ka(e.nextCall,!0),no:e.no,interaction:e.interaction||"",doc:e.doc||"",status:e.status||"",rating:e.rating||0,called:e.called||0,contacted:e.contacted||0,clientType:e.clientType||"",address:e.address||"",advUrl:e.advUrl||"",advUrlDate:e.advUrlDate||"",process:e.process||"",stage:e.stage||"",task:e.task||"",delegate:e.delegate||"",phoneId:e.phoneId||"",facebookUrl:e.facebookUrl||"",notionUrl:e.notionUrl||""})}),{immediate:!0});const f=()=>{qa(p.value)||(p.value.called=function(e){const t=parseInt(e,10);return isNaN(t)?1:t+1}(p.value.called),p.value.dialedDate=(new Date).toLocaleDateString())},k=()=>{f();const e={name:p.value.name,phoneNumber:p.value.phoneNumber,time:(new Date).toLocaleString()};u.value.push(e),u.value.length>24&&u.value.shift(),localStorage.setItem("callLog",JSON.stringify(u.value)),t.value=!0},C=(a,n)=>{if(!e.contacts[a]||!n)return alert("error 104"),void console.error("Contact or selected status is undefined.");const l=[...e.contacts];l[a].status=`${n} ${l[a].status}`,delete l[a].updatedAt,delete l[a].edit,delete l[a].editField,delete l[a].id,""===l[a].souceDate&&delete l[a].id,""===l[a].dialedDate&&delete l[a].dialedDate,""===l[a].advUrlDate&&delete l[a].advUrlDate,""===l[a].lastCall&&delete l[a].lastCall,""===l[a].nextCall&&delete l[a].nextCall,l[a].sourceDate=Qa(l[a].sourceDate),l[a].dialedDate=Ka(l[a].dialedDate),l[a].advUrlDate=Qa(l[a].advUrlDate),l[a].lastCall=Ka(l[a].lastCall),l[a].nextCall=Ka(l[a].nextCall),e.onSave(l[a]),"✓,"==n&&this.CallSuccess(l[a]),e.nextContact(),t.value=!1},y=async(e,t,a,n)=>{await I(e,t,a,n),k()},w=()=>{e.onSave(p.value)},S=()=>{e.onCancel()},F=e=>{p.value.process=e.process,p.value.stage=e.stage,p.value.task=e.task},{mutate:x}=(0,Xe.n_)(Ba);async function I(e,t,a,n){try{let{name:a,doc:n,phoneNumber:l,status:o,interaction:r,lastCall:i,nextCall:s,no:c}=e;if(i=Ka(i,!0),s=Ka(s,!0),null==t)return void alert("please select user");let d=t,u=0;"alyssa"===d.toLowerCase()&&(u=3),"alvin"===d.toLowerCase()&&(u=4),"ashton"===d.toLowerCase()&&(u=2);const p={id:u,doc:n,user:d,name:a,phoneNumber:l,status:o,interaction:r,lastCall:i,nextCall:s,no:c};await x(p)}catch(l){alert("error 200"),console.error("Error updating callme:",l.cause)}n.findIndex((t=>t.no===e.no))}return{updateCallCount:f,handleCallClick:k,makeCall2:y,editContactData:p,saveContact:w,cancelEdit:S,isPhoneDisabled2:Ja,isPhoneDisabled:qa,clientTypes:m,process:a,stage:o,task:r,delegate:i,phoneIdOptions:h,callLog:u,status:n,openStatusDialog:s,handleStatusUpdate:c,showStatusDialog:t,confirmStatus:C,updateValue:F,handleSelectedProcessChange:g,handleSelectedStageChange:v,handleSelectedTaskChange:b}},mounted(){Ha()}};const Cl=(0,m.A)(kl,[["render",el],["__scopeId","data-v-324ee504"]]);var yl=Cl,wl={components:{EditContactForm:yl},setup(){const e=(0,d.KR)([]),t=(0,d.KR)(!1),a=(0,d.KR)(null),n=(0,d.KR)(null),l=(0,d.KR)(!1),o=(0,d.KR)({}),r=(0,d.KR)(""),i=(0,d.KR)(null),s=(0,d.KR)(null),c=(0,d.KR)(null),u=(0,d.KR)(null),p=[{text:"No",title:"No",value:"no"},{text:"Project",title:"Project",value:"project"},{text:"process",title:"Process",value:"process"},{text:"Name",title:"Name",value:"name"},{text:"Phone Number",title:"Phone Number",value:"phoneNumber"},{text:"Interaction",title:"Interaction",value:"interaction"},{text:"Status",title:"Status",value:"status"},{text:"Process",title:"Process",value:"process"},{text:"Stage",title:"Stage",value:"stage"},{text:"Task",title:"Task",value:"task"},{text:"Delegate",title:"Delegate",value:"delegate"},{text:"Phone ID",title:"Phone ID",value:"phoneId"},{text:"User",title:"User",value:"user"},{text:"Doc",title:"Doc",value:"doc"},{text:"Rating",title:"Rating",value:"rating"},{text:"Called",title:"Called",value:"called"},{text:"Contacted",title:"Contacted",value:"contacted"},{text:"Client Type",title:"Client Type",value:"clientType"},{text:"Address",title:"Address",value:"address"},{text:"advURL",title:"adv URL",value:"advUrl"},{text:"advURL Date",title:"advURL Date",value:"advURLDate"},{text:"facebookUrl",title:"facebook URL",value:"facebookUrl"},{text:"notionUrl",title:"notion URL",value:"notionUrl"}];async function m(){t.value=!0,a.value=null;try{e.value=await an(r.value,e.value,(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})),e.value.sort(((e,t)=>e["no"]<t["no"]?-1:e["no"]>t["no"]?1:0))}catch(n){console.error("Error loading contacts:",n),a.value="An error 211 occurred while loading contacts. Please try again."}finally{t.value=!1}}function h(e,t){u.value=e,c.value=t}function g(){u.value&&(n.value={...u.value})}function v(){c.value>0&&(c.value--,n.value=e.value[c.value])}function b(){return 0===e.value.length?1:Math.max(...e.value.map((e=>e.no)))}function f(){o.value={},o.value=Object.assign({},{project:r,user:i,phoneId:s,no:b()}),l.value=!0}async function k(){try{o.value.no=b()+1,await on(o.value),e.value.push({...o.value}),l.value=!1}catch(t){console.error("Error saving contact:",t)}}function C(){l.value=!1}function y(){n.value=null}function w(e){return e===c.value?"highlighted-row":e%2===0?"even-row":"odd-row"}function S(){c.value<e.value.length-1&&(c.value++,n.value=e.value[c.value])}async function F(e){n.value.id&&await ln(n.value.id,e),m(),alert("data save!")}return{getRowClass:w,users:["Alyssa","Ashton","Alvin"],phoneIds:["Alyssa H","Ashton H","Alvin H"],headers:p,contacts:e,loading:t,error:a,currentContact:n,isAdding:l,newContactData:o,projectFilter:r,selectedUser:i,selectedPhoneId:s,selectedIndex:c,focusRow:h,prevContact:v,nextContact:S,openAddForm:f,saveNewContact:k,cancelAdd:C,editSelectedContact:g,saveContact:F,cancelEdit:y,loadContactsFromStrapi2:m}}};const Sl=(0,m.A)(wl,[["render",Gn],["__scopeId","data-v-2b340c34"]]);var Fl=Sl;const xl=["innerHTML"];function Il(e,t,a,n,o,r){const i=(0,l.g2)("v-select"),s=(0,l.g2)("v-col"),c=(0,l.g2)("v-row"),d=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(d,{class:"full-height"},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,{cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{modelValue:o.selectedTitle,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedTitle=e),items:o.titles,label:"Select Message Type",outlined:""},null,8,["modelValue","items"])])),_:1})])),_:1}),(0,l.bF)(c,{class:"full-height"},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.Lk)("p",{innerHTML:r.selectedMessage},null,8,xl)])),_:1})])),_:1})])),_:1})}var Dl={name:"saleTalk",data(){return{currentContact:null,selectedTitle:"Project Ashwood",titles:["Project Ashwood","Project Titan","For Sales","For Rent","Exclusive Opportunity at RBJ Condominium","coldcall","coldtalk2","project"],messages:{"Project Ashwood":"page 1\n<b>Ashwood: Your Gateway to Urban Living</b><br/>\nHi @name, how are you, Previously, you inquired about <b>@project</b>, our newly launched condominium at Jalan Uthant. Strategically located just 5 minutes from KLCC and 10 minutes from TRX, Ashwood offers the perfect blend of convenience and tranquility.<br/><br/>\nNestled amidst prestigious educational institutions like Flose International School and SJKK Chung Hwa(p) School, @project provides a prime location for families and individuals seeking a high-quality lifestyle.<br/><br/>\n<b>Exclusive Event This Saturday</b><br/>\nJoin us this Saturday for a private event where you can explore our remaining 30 units. All units are corner units, ensuring breathtaking views of KLCC or Bukit Ampang.<br/>\nWhether you're looking for a dream home or a lucrative investment, @project presents an exceptional opportunity.<br/><br/>\n            <b>Reseller Program</b><br/>\nWe invite you to participate in our reseller program and earn referral fees for every successful sale.<br/><br/>","Project Titan":"page 2, Previously, you inquired about <b>@project</b>, our newly launched condominium at Bukit Jalil. Are you considering it for investment or home stay?\n           for stay I recommend @project,\n           Strategically located just 5 minutes to Pavillion  and 5 minutes from LRT, @project offers the perfect blend of convenience and tranquility.<br/><br/>\nNestled amidst prestigious educational institutions like Chi Ji International School, @project provides a prime location for families and individuals seeking a high-quality lifestyle.<br/><br/>\n<b>Exclusive Event This Saturday</b><br/>\nJoin us this Saturday for a private event where you can explore our remaining 30 units. All units are corner units, ensuring breathtaking views of KLCC or Bukit Ampang.<br/>\nWhether you're looking for a dream home or a lucrative investment, @project presents an exceptional opportunity.<br/><br/>\n<b>Reseller Program</b><br/>\nWe invite you to participate in our reseller program and earn referral fees for every successful sale.<br/><br/>","For Sales":"page 3\n<b>@project: Your Gateway to Urban Living</b><br/>\nHi @name how are you, I understand that you have a unit at @project. we have a potential customer who are interested in the unit, are you considering selling or Rent? \n\nFor Sale\nWe offer complimentary advertising services to help you generate income from your property. \nTo proceed, may I know \nBuilt up area\nNo of bedrooms / bathrooms/ car park\nBare/ partial funished/ fully furnished\nTenanted/ owner occupied/ vacant\nExpected selling price\n\nThese details would be helpful for the potential tenant or buyer.\nThank you, and we're looking forward to assisting you further!\",\n\nor \nsend the below message to whatapp\n1. Built up area\n2. No of room\n3. No of  bathroom\n4. No of parking lot / no car park\n5.Tenanted/ own occupied/ vacant\n* If tenanted\nCurrent rental& tenancy expiry date\n6. Basic/ partly/ fully furnished\n8.Strata title obtained?\n9. Maintenance fee & sinking fund? (for condo question only)\n10. One vendor name or 2 vendors or more?\n11. Free from emcumbrances or still have housing loan with bank \n12. Expected selling price\n\nBasically i need the above info from you\n            ","For Rent":"page 4\n <b>@project: Your Gateway to Urban Living</b><br/>\nHi @name how are you, I understand that you have a unit at @project. we have a potential customer who are interested in the unit, are you considering \nselling or Rent? \n\n\n您好，打扰您一下。我是房地产顾问。请问您有意出租或出售您在@project的房地产吗? 我们有一些非常感兴趣的客户，可以帮助您快速达成交易。如果您方便，能否讨论一下价格和条件？\nHello, I hope I'm not bothering you. I'm a real estate consultant. Are you considering renting or selling your property in Parklane? We have some interested clients, and we hope we can help you close the deal quickly. If you're interested, could we discuss the price and terms?\n\n加速\nJiāsù\n\nFor Land owner\n\nfor Sales\nBuilt up area\nNo of bedrooms / bathrooms/ car park\nBare/ partial funished/ fully furnished\nTenanted/ owner occupied/ vacant\nExpected selling price\n\nsend by whatwapp\n1. Built up area\n2. No of room\n3. No of  bathroom\n4. No of parking lot / no car park\n5.Tenanted/ own occupied/ vacant\n* If tenanted\nCurrent rental& tenancy expiry date\n6. Basic/ partly/ fully furnished\n8.Strata title obtained?\n9. Maintenance fee & sinking fund?\n10. One vendor name or 2 vendors or more?\n11. Free from emcumbrances or still have housing loan with bank \n12. Expected selling price\n\nBasically i need the above info yq\n\n------------\nFor Tenant\nCan i have the following details?\n1. Nationality/Race: \n2. Total occupants: \n3. Family or bachelor (list down): \n4. Occupation/business type:  \n5. Partly/ Fully furnished: \n6. Request:\n7. Move in date: \n8. How long to stay: \n9. Price range:\n\n","Exclusive Opportunity at RBJ Condominium":"Page 5\nThank you for your previous inquiry about RBJ, our newly launched condominium in Bukit Jalil. Are you considering it as an investment or for your home?\nIf you're looking for a place to live, RBJ is the perfect choice. Located just 5 minutes from Pavilion and the LRT, it offers an unbeatable combination of convenience and tranquility. Imagine living in a home where everything you need is just a few minutes away—shops, restaurants, schools, and easy transportation access.\nPlus, with its serene surroundings and modern amenities, RBJ offers a high-quality lifestyle for both families and individuals. Whether you're thinking about upgrading your lifestyle or securing a valuable asset for the future, RBJ is a smart move.\n",coldcall:'Alvin (Agent):\n"Hello, is Mr. Jones available, please?\nMy name is Alvin, and I\'m a real estate agent. I\'m calling about a potential property sale or rental at Greenpark Condominium.\nI understand you may be the owner. Would you be interested in discussing this further?"\n\nMr. Jones (Owner):\n"Hi Alvin, yes, I\'m the owner. What exactly are you looking to discuss?"\n\nAlvin (Agent):\n"Thank you for confirming, Mr. Jones. I work with clients who are actively looking for properties in the Greenpark Condominium area, both for buying and renting.\nI wanted to know if your unit is currently available, or if you\'d consider listing it either for sale or rent? This could be a great opportunity given the demand in the area."\n\nMr. Jones (Owner):\n"Well, I hadn\'t thought about selling, but I might be open to renting. Could you tell me more about what the market looks like?"\n\nAlvin (Agent):\n"Absolutely, Mr. Jones. The rental market in Greenpark is currently strong, especially due to its prime location. I can provide you with up-to-date rental rates and help find reliable tenants quickly. Would you prefer a long-term or short-term rental? And would you like me to send over a detailed market analysis for your unit?"\n\nMr. Jones (Owner):\n"That sounds good. I\'m more inclined towards long-term rentals. Please send me the details, and we can go from there."\n\nAlvin (Agent):\n"Fantastic! I’ll send over a market analysis along with the expected rental returns and any potential opportunities. I\'ll follow up in a few days to discuss the next steps. Feel free to reach out if you have any questions in the meantime."\n\nMr. Jones (Owner):\n"Thanks, Alvin. I’ll look forward to the details."',coldtalk2:'"Hello, is Mr. Jones available, please?\nMy name is Alvin, and I\'m a real estate agent. I\'m calling about a potential property sale or rental at Greenpark Condominium."\n\nCaller (Not Mr. Jones):\n"Hi, sorry, I\'m not Mr. Jones. Can I help you with something?"\n\nAlvin (Agent):\n"Thank you for letting me know. By any chance, do you know if Mr. Jones is the owner of a unit at Greenpark Condominium?\nI’m reaching out because I work with clients who are looking for properties in that area, and I wanted to see if his unit might be available for sale or rent."\n\nCaller (Not Mr. Jones):\n"I’m not sure about that. I’m just a tenant here."\n\nAlvin (Agent):\n"Got it, thanks for the clarification. If you have a way of reaching Mr. Jones, I’d appreciate it if you could pass along my message. Or, if it’s convenient, you could share his contact information with me, and I’ll follow up directly.\n\nI work with clients interested in properties like this, so if there’s any interest in selling or renting, we could explore those options together."\n\nCaller (Not Mr. Jones):\n"I’ll pass along your message, but I’m not sure how interested he’d be."\n\nAlvin (Agent):\n"That’s all I ask. Thank you so much for your help! If Mr. Jones has any questions or is open to discussing it further, please feel free to share my number with him. Have a great day!"',project:'嗨，Jacqie先生！我是Bukit Jalil的开发商代表，我从您对我们Facebook广告的询问中得到了您的联系方式。您是不是正在寻找Bukit Jalil的房子，\n对吧？我们@project项目正好位于Bukit Jalil区域，价格大约600千。您今天有空来参观我们的展厅吗？我们特别为您准备了独家VIP优惠，\n展厅今天开放到下午6点，机会难得，千万别错过哦！"'},formattedText:""}},created(){const e=this.$route.query.contact;let t=null;if(e)try{t=JSON.parse(e)}catch(l){console.error("Failed to parse contact string:",l)}let a="",n="";t&&(a=t.name,n=t.project,n&&a&&(this.formattedText=this.buildPersonalizedText(n,a,this.selectedTitle)))},watch:{selectedTitle(e){const t=this.$route.query.contact;let a=null;if(t)try{a=JSON.parse(t)}catch(n){console.error("Failed to parse contact string:",n)}a&&(this.formattedText=this.buildPersonalizedText(a.project,a.name,e))}},computed:{selectedMessage(){return this.formattedText}},methods:{buildPersonalizedText(e,t,a){let n=this.messages[a];return n=n.replaceAll("@name",t),n=n.replaceAll("@project",e),n}}};const Ll=(0,m.A)(Dl,[["render",Il],["__scopeId","data-v-d51273ba"]]);var _l=Ll;function Ul(e,t,a,n,o,r){const i=(0,l.g2)("v-alert"),s=(0,l.g2)("v-data-table"),c=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(c,null,{default:(0,l.k6)((()=>[n.loading?((0,l.uX)(),(0,l.Wv)(i,{key:0,type:"info",dismissible:""},{default:(0,l.k6)((()=>[(0,l.eW)(" Loading... ")])),_:1})):(0,l.Q3)("",!0),n.error?((0,l.uX)(),(0,l.Wv)(i,{key:1,type:"error",dismissible:""},{default:(0,l.k6)((()=>[(0,l.eW)(" An error occurred: "+(0,b.v_)(n.error.message),1)])),_:1})):(0,l.Q3)("",!0),n.loading||n.error||!n.uniqueProjects.length?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(s,{key:2,headers:n.headers,items:n.uniqueProjects,"item-key":"project",class:"elevation-1"},{["item.source"]:(0,l.k6)((({item:e})=>[(0,l.eW)((0,b.v_)(e.source),1)])),["item.project"]:(0,l.k6)((({item:e})=>[(0,l.eW)((0,b.v_)(e.project),1)])),_:2},1032,["headers","items"]))])),_:1})}var Pl={name:"listProject",setup(){const e=[{text:"Source",value:"source"},{text:"Project",value:"project"}],t=He.Ay`
      query {
        leads(pagination: { limit: 1000 }) {
          data {
            attributes {
              project
              source
            }
          }
        }
      }
    `,{result:a,loading:n,error:o}=(0,Xe.IT)(t),r=(0,l.EW)((()=>{if(a.value){const e=a.value.leads.data;return i(e)}return[]})),i=e=>{const t=new Map;return e.forEach((e=>{const a=e.attributes.project,n=e.attributes.source;t.has(a)||t.set(a,{project:a,source:n})})),Array.from(t.values())};return{uniqueProjects:r,loading:n,error:o,headers:e}}};const Rl=(0,m.A)(Pl,[["render",Ul],["__scopeId","data-v-3aaba942"]]);var Nl=Rl;const Al=[{path:"/main",name:"MainPage",component:Jt,meta:{requiresAuth:!1}},{path:"/home",name:"HomePage",component:vt,meta:{requiresAuth:!1}},{path:"/soc",name:"SocketComponent",component:Jn,meta:{requiresAuth:!1}},{path:"/snr",name:"ContactList",component:In,meta:{requiresAuth:!1}},{path:"/",name:"listByProject",component:Fl,meta:{requiresAuth:!1}},{path:"/talk",name:"saleTalk",component:_l,meta:{requiresAuth:!1}},{path:"/listProject",name:"listProject",component:Nl,meta:{requiresAuth:!1}},{path:"/business",name:"BusinessPage",component:Vt,meta:{requiresAuth:!1}},{path:"/winback",name:"WinbackPage",component:jt,meta:{requiresAuth:!1}},{path:"/about",name:"AboutPage",component:St,meta:{requiresAuth:!1}}],El=(0,v.aE)({history:(0,v.Bt)(),routes:Al});El.beforeEach(((e,t,a)=>{const n="true"===localStorage.getItem("authenticated");e.matched.some((e=>e.meta.requiresAuth))&&!n?a("/"):a()}));var Vl=El,Ml=a(4825),$l=a(2938),Tl=a(3379),Wl=(a(5524),a(1193));const Ol=(0,Wl.$)({uri:"https://sp412b-763ef468411d.herokuapp.com/graphql"}),jl=new Va.R({link:Ol,cache:new Ma.D});(0,Xe._5)(jl);const Bl=(0,n.Ef)(g),Xl=(0,Ml.$N)({components:$l,directives:Tl});Bl.config.globalProperties.cleanPhoneNumber=function(e){return e.replace(/[\s-]/g,"")},Bl.use(Vl),Bl.use(Xl),Bl.mount("#app")}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,o){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],l=e[d][1],o=e[d][2];for(var i=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,l,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,l){if(1&l&&(n=this(n)),8&l)return n;if("object"===typeof n&&n){if(4&l&&n.__esModule)return n;if(16&l&&"function"===typeof n.then)return n}var o=Object.create(null);a.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&l&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},a.d(o,r),o}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{303:"2329c1a8",668:"303c240e",838:"93dcc815"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue5:";a.l=function(n,l,o,r){if(e[n])e[n].push(l);else{var i,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+o){i=u;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=n),e[n]=[l];var p=function(t,a){i.onerror=i.onload=null,clearTimeout(m);var l=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/list/"}(),function(){var e={524:0};a.f.j=function(t,n){var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)n.push(l[2]);else{var o=new Promise((function(a,n){l=e[t]=[a,n]}));n.push(l[2]=o);var r=a.p+a.u(t),i=new Error,s=function(n){if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,l[1](i)}};a.l(r,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,o,r=n[0],i=n[1],s=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(s)var d=s(a)}for(t&&t(n);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},n=self["webpackChunkvue5"]=self["webpackChunkvue5"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(9061)}));n=a.O(n)})();
//# sourceMappingURL=app.680f334d.js.map