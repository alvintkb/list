(function(){"use strict";var e={9998:function(e,t,a){var n=a(3751),o=a(641);const l=e=>((0,o.Qi)("data-v-b0dadf20"),e=e(),(0,o.jt)(),e),i=l((()=>(0,o.Lk)("img",{id:"scroll-to-section",class:"svg-icon",src:"img/Unifi-logo.svg",alt:"Unifi Home"},null,-1))),r=l((()=>(0,o.Lk)("span",null,"Home",-1))),s=l((()=>(0,o.Lk)("span",null,"About",-1)));function c(e,t,a,n,l,c){const u=(0,o.g2)("v-icon"),d=(0,o.g2)("v-btn"),m=(0,o.g2)("v-app-bar-nav-icon"),p=(0,o.g2)("v-toolbar-title"),g=(0,o.g2)("v-spacer"),h=(0,o.g2)("v-app-bar"),f=(0,o.g2)("v-list-item-icon"),v=(0,o.g2)("v-list-item-title"),b=(0,o.g2)("v-list-item"),k=(0,o.g2)("v-list-item-group"),C=(0,o.g2)("v-list"),y=(0,o.g2)("v-navigation-drawer"),w=(0,o.g2)("router-view"),F=(0,o.g2)("v-main"),L=(0,o.g2)("v-bottom-navigation"),I=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,{app:"",color:"primary",dark:""},{default:(0,o.k6)((()=>[c.isSubPage?((0,o.uX)(),(0,o.Wv)(d,{key:0,onClick:c.goBack,icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-arrow-left")])),_:1})])),_:1},8,["onClick"])):((0,o.uX)(),(0,o.Wv)(m,{key:1,onClick:t[0]||(t[0]=e=>l.drawer=!l.drawer)})),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[i])),_:1}),(0,o.bF)(g),n.authStore.isAuthenticated?((0,o.uX)(),(0,o.Wv)(d,{key:2,onClick:c.logout,icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-logout")])),_:1})])),_:1},8,["onClick"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(y,{modelValue:l.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>l.drawer=e),app:"",temporary:""},{default:(0,o.k6)((()=>[(0,o.bF)(C,{nav:""},{default:(0,o.k6)((()=>[n.authStore.isAuthenticated?((0,o.uX)(),(0,o.Wv)(k,{key:0},{default:(0,o.k6)((()=>[(0,o.bF)(b,{to:"/home",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-home")])),_:1})])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.eW)("Home")])),_:1})])),_:1}),(0,o.bF)(b,{to:"/about",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-information")])),_:1})])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.eW)("About")])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(b,{to:"/",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-login")])),_:1})])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.eW)("Login")])),_:1})])),_:1}),(0,o.bF)(b,{to:"/soc",exact:""},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone")])),_:1})])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.eW)("Auto Show")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(w)])),_:1}),n.authStore.isAuthenticated?((0,o.uX)(),(0,o.Wv)(L,{key:0,app:""},{default:(0,o.k6)((()=>[(0,o.bF)(d,{to:"/home",exact:""},{default:(0,o.k6)((()=>[r,(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-home")])),_:1})])),_:1}),(0,o.bF)(d,{to:"/about",exact:""},{default:(0,o.k6)((()=>[s,(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-information")])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0)])),_:1})}a(4114);var u=a(953);const d=(0,u.Kh)({isAuthenticated:"true"===localStorage.getItem("authenticated"),login(){this.isAuthenticated=!0,localStorage.setItem("authenticated","true")},logout(){this.isAuthenticated=!1,localStorage.removeItem("authenticated")}});var m={name:"App",setup(){return{authStore:d}},components:{},data(){return{drawer:!1,pageTitle:"My Image Slider",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"WINBACK",route:"/winback"},{src:"img/2.png",category:"BUSINESS",route:"/business"}]}},computed:{filteredImages(){return this.imagesArray},isSubPage(){const e=["/"];return!e.includes(this.$route.path)}},methods:{goBack(){this.$router.go(-1)},logout(){this.authStore.logout(),this.$router.push({name:"Login"})}},watch:{$route(e,t){console.log("Route changed from",t.path,"to",e.path)}}},p=a(6262);const g=(0,p.A)(m,[["render",c],["__scopeId","data-v-b0dadf20"]]);var h=g,f=a(6166),v=a(33);const b={class:"header"},k={class:"page-title"};function C(e,t,a,n,l,i){const r=(0,o.g2)("MySelector"),s=(0,o.g2)("MyPackage"),c=(0,o.g2)("MyReg"),u=(0,o.g2)("LaunchButton"),d=(0,o.g2)("tmReg"),m=(0,o.g2)("ImageUpLoader"),p=(0,o.g2)("CameraCapture");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",b,[(0,o.Lk)("h1",k,(0,v.v_)(l.pageTitle),1)]),(0,o.bF)(r,{plans:l.filteredPlans},null,8,["plans"]),(0,o.bF)(s,{pageTitle:l.pageTitle,plans:l.filteredPlans},null,8,["pageTitle","plans"]),(0,o.bF)(c),l.showLaunchButton?((0,o.uX)(),(0,o.Wv)(u,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(d,{project:l.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,o.bF)(m),(0,o.bF)(p)])}const y={key:0},w={key:1},F=["href"],L={key:2};function I(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>i.onFileChange&&i.onFileChange(...e))},null,32),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.uploadImage&&i.uploadImage(...e))},"Upload"),l.uploading?((0,o.uX)(),(0,o.CE)("p",y,"Uploading...")):(0,o.Q3)("",!0),l.imageUrl?((0,o.uX)(),(0,o.CE)("p",w,[(0,o.eW)("Image URL: "),(0,o.Lk)("a",{href:l.imageUrl,target:"_blank"},(0,v.v_)(l.imageUrl),9,F)])):(0,o.Q3)("",!0),l.error?((0,o.uX)(),(0,o.CE)("p",L,(0,v.v_)(l.error),1)):(0,o.Q3)("",!0)])}var S=a(4335),x={name:"ImageUploader",data(){return{file:null,imageUrl:"",uploading:!1,error:""}},methods:{onFileChange(e){this.file=e.target.files[0]},async uploadImage(){if(!this.file)return void(this.error="Please select an image file first.");this.uploading=!0,this.error="";const e=new FormData;e.append("file",this.file),e.append("upload_preset","telco_unifi");try{const t=await S.A.post("https://api.cloudinary.com/v1_1/alvin-tan/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}});this.imageUrl=t.data.secure_url}catch(t){t.response&&400===t.response.status?this.error="Bad Request: "+(t.response.data.error.message||"Invalid request parameters"):this.error="Error uploading image: "+t.message,console.error("Error uploading image:",t.response?t.response.data:t.message)}finally{this.uploading=!1}}}};const R=(0,p.A)(x,[["render",I],["__scopeId","data-v-4280697f"]]);var $=R;function N(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("button",{onClick:t[0]||(t[0]=(...e)=>n.goToAdContacts&&n.goToAdContacts(...e))},"View Ad Contacts")}var E={name:"LaunchButton",setup(){const e=(0,f.rd)(),t=()=>{e.push("/ad-contacts")};return{goToAdContacts:t}}};const U=(0,p.A)(E,[["render",N],["__scopeId","data-v-3c496bee"]]);var M=U;const _={class:"pricing-container"},D=["id"],T={class:"pricing-table"},A={class:"pricing-card"},P={class:"pricing-details"},O={key:0},V={class:"image-and-text"},j=["src","alt"],W={key:1},B={class:"svg-and-text"},H=["innerHTML"],X={key:2},q={key:3},J={class:"pricing-info"},K={class:"pricing-content"},Y={class:"pricing-action"},Q=["onClick"];function z(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",_,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.plans,((e,t)=>((0,o.uX)(),(0,o.CE)("section",{key:t,id:"pricing-section-"+(t+1),class:"pricing-section"},[(0,o.Lk)("div",T,[(0,o.Lk)("div",A,[(0,o.Lk)("div",P,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.features,((t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a},[i.isImage(t)?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("div",V,[(0,o.Lk)("img",{src:i.getImagePath(t).src,alt:e.title+" feature image",style:(0,v.Tr)(i.getImageStyle(t)),class:"feature-image"},null,12,j),(0,o.Lk)("h2",null,(0,v.v_)(i.getImagePath(t).text),1)])])):i.isSvg(t)?((0,o.uX)(),(0,o.CE)("div",W,[(0,o.Lk)("div",B,[(0,o.Lk)("div",{innerHTML:i.getSvgContent(t).svg},null,8,H),(0,o.Lk)("span",null,(0,v.v_)(i.getSvgContent(t).text),1)])])):i.isHtmlTag(t)?((0,o.uX)(),(0,o.CE)("div",X,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(i.getHtmlTagName(t)),null,{default:(0,o.k6)((()=>[(0,o.eW)((0,v.v_)(i.getHtmlTagContent(t)),1)])),_:2},1024))])):((0,o.uX)(),(0,o.CE)("div",q,(0,v.v_)(t),1))])))),128)),(0,o.Lk)("div",J,[(0,o.Lk)("p",null,(0,v.v_)(e.promo),1),(0,o.Lk)("p",null,(0,v.v_)(e.price),1)]),(0,o.Lk)("div",K,[(0,o.Lk)("p",null,(0,v.v_)(e.extra),1)]),(0,o.Lk)("div",Y,[(0,o.Lk)("button",{class:"apply-now-btn",onClick:t=>i.fillPackageName(e.title)},"Apply Now",8,Q)])])])])],8,D)))),128))])}var Z={name:"MyPackage",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{fillPackageName(e){console.log(e),this.packageName=e,document.getElementById("registration-form").scrollIntoView({behavior:"smooth"})},isImage(e){return e.startsWith("image:")},getImagePath(e){const t=e.split(","),a=t[0].split("image:")[1].trim(),n=t[3]?t[3].trim():"";return{src:a,text:n}},getImageStyle(e){const t=e.split(","),a=t[1]?t[1].split("=")[1].trim()+"px":"auto",n=t[2]?t[2].split("=")[1].trim()+"px":"auto";return{width:a,height:n}},isSvg(e){return e.startsWith("svg:")},getSvgContent(e){const[t,...a]=e.split("svg:")[1].split(","),n=t.trim(),o=a.shift().trim();return{svg:`<svg ${n}>${o}</svg>`,text:a.join(",").trim()}},isHtmlTag(e){return e.match(/^[a-zA-Z0-9]+:/)},getHtmlTagName(e){return e.split(":")[0]},getHtmlTagContent(e){return e.split(":")[1].trim()}}};const G=(0,p.A)(Z,[["render",z]]);var ee=G;const te={class:"container"},ae={class:"selector-wrapper"},ne=["src","alt","onClick"],oe=["value"],le=(0,o.Lk)("span",{class:"sd-tick"},null,-1),ie={class:"selector-title"},re=(0,o.Lk)("div",{class:"device-pair txt-small d-none"}," Pair with your Unifi subscription ",-1);function se(e,t,a,l,i,r){return(0,o.uX)(),(0,o.CE)("div",te,[(0,o.Lk)("div",ae,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.plans,((a,l)=>((0,o.uX)(),(0,o.CE)("label",{key:l,class:"sd-label selector-label"},[(0,o.Lk)("img",{class:"svg-icon",src:a.image,alt:a.title,onClick:e=>r.scrollToSection("pricing-section-"+(l+1))},null,8,ne),(0,o.bo)((0,o.Lk)("input",{type:"radio",class:"sd-radio",name:"plan",value:a.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedPlan=t)},null,8,oe),[[n.XL,e.selectedPlan]]),le,(0,o.Lk)("div",ie,(0,v.v_)(a.price),1)])))),128)),re])])}var ce={name:"MySelector",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{scrollToSection(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}}};const ue=(0,p.A)(ce,[["render",se]]);var de=ue;const me=e=>((0,o.Qi)("data-v-202c1f5f"),e=e(),(0,o.jt)(),e),pe=me((()=>(0,o.Lk)("h1",{id:"registration-form"},"Registration Form",-1))),ge={class:"form-container"},he=me((()=>(0,o.Lk)("h3",null,"Fill up your details and we would be delighted to assist you",-1))),fe={class:"form-group"},ve={key:0,for:"project"},be={class:"form-group"},ke={key:0,for:"name"},Ce={class:"form-group"},ye={key:0,for:"phone"},we={class:"form-group"},Fe={key:0,for:"email"},Le={class:"form-group"},Ie={key:0,for:"address"},Se={class:"form-group"},xe={key:0,for:"message"},Re=me((()=>(0,o.Lk)("label",{for:"appointmentDate"},"Installation Schedule:",-1))),$e={class:"form-group"},Ne={class:"form-row"},Ee={class:"form-group"},Ue=me((()=>(0,o.Lk)("label",{for:"preferredInstallationDate"},"Preferred Installation Date (dd/mm/yyyy):",-1))),Me={class:"form-group"},_e=me((()=>(0,o.Lk)("label",{for:"nationality"},"Nationality:",-1))),De={class:"form-group"},Te=me((()=>(0,o.Lk)("label",{for:"icFront"},"IC Front:",-1))),Ae={class:"form-group"},Pe=me((()=>(0,o.Lk)("label",{for:"icBack"},"IC Back:",-1))),Oe={class:"form-group"},Ve=me((()=>(0,o.Lk)("label",{for:"utilityBills"},"Utility Bills (Electric or Water):",-1))),je=["disabled"],We=me((()=>(0,o.Lk)("br",null,null,-1)));function Be(e,t,a,l,i,r){const s=(0,o.g2)("popUp2"),c=(0,o.g2)("TermsConditions");return(0,o.uX)(),(0,o.CE)(o.FK,null,[pe,(0,o.Lk)("div",ge,[he,(0,o.Lk)("form",{onSubmit:t[15]||(t[15]=(0,n.D$)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,o.Lk)("div",fe,[l.localPackage?((0,o.uX)(),(0,o.CE)("label",ve,"Package Name:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"package","onUpdate:modelValue":t[0]||(t[0]=e=>l.localPackage=e),name:"package-name",placeholder:"Package*",required:""},null,512),[[n.Jo,l.localPackage]])]),(0,o.Lk)("div",be,[l.name?((0,o.uX)(),(0,o.CE)("label",ke,"Name:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>l.name=e),placeholder:"Name*",required:""},null,512),[[n.Jo,l.name]])]),(0,o.Lk)("div",Ce,[l.phone?((0,o.uX)(),(0,o.CE)("label",ye,"Phone:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"tel",id:"phone","onUpdate:modelValue":t[2]||(t[2]=t=>e.formattedPhone=t),onInput:t[3]||(t[3]=(...e)=>l.formatPhone&&l.formatPhone(...e)),placeholder:"Phone*",required:""},null,544),[[n.Jo,e.formattedPhone]])]),(0,o.Lk)("div",we,[l.email?((0,o.uX)(),(0,o.CE)("label",Fe,"Email:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>l.email=e),placeholder:"Email*",required:""},null,512),[[n.Jo,l.email]])]),(0,o.Lk)("div",Le,[l.address?((0,o.uX)(),(0,o.CE)("label",Ie,"Installation Address:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"address","onUpdate:modelValue":t[5]||(t[5]=e=>l.address=e),placeholder:"Installation Address*",required:""},null,512),[[n.Jo,l.address]])]),(0,o.Lk)("div",Se,[l.message?((0,o.uX)(),(0,o.CE)("label",xe,"Additional Info:")):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("textarea",{class:"white-text",id:"message","onUpdate:modelValue":t[6]||(t[6]=e=>l.message=e),placeholder:"Additional Info*",required:""},null,512),[[n.Jo,l.message]])]),Re,(0,o.Lk)("div",$e,[(0,o.Lk)("div",Ne,[(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"date",id:"appointmentDate","onUpdate:modelValue":t[7]||(t[7]=e=>l.appointmentDate=e),placeholder:"Appointment Date*",required:""},null,512),[[n.Jo,l.appointmentDate]]),(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"time",id:"appointmentTime","onUpdate:modelValue":t[8]||(t[8]=e=>l.appointmentTime=e),placeholder:"Appointment Time*",required:""},null,512),[[n.Jo,l.appointmentTime]])])]),(0,o.Lk)("div",Ee,[Ue,(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"preferredInstallationDate","onUpdate:modelValue":t[9]||(t[9]=e=>l.preferredInstallationDate=e),placeholder:"Preferred Installation Date*",required:""},null,512),[[n.Jo,l.preferredInstallationDate]])]),(0,o.Lk)("div",Me,[_e,(0,o.bo)((0,o.Lk)("input",{class:"white-text",type:"text",id:"nationality","onUpdate:modelValue":t[10]||(t[10]=e=>l.nationality=e),placeholder:"Nationality*",required:""},null,512),[[n.Jo,l.nationality]])]),(0,o.Lk)("div",De,[Te,(0,o.Lk)("input",{type:"file",id:"icFront",onChange:t[11]||(t[11]=e=>l.handleFileUpload(e,"icFront")),required:""},null,32),(0,o.Lk)("p",null,(0,v.v_)(l.icFrontName||"No file chosen"),1)]),(0,o.Lk)("div",Ae,[Pe,(0,o.Lk)("input",{type:"file",id:"icBack",onChange:t[12]||(t[12]=e=>l.handleFileUpload(e,"icBack")),required:""},null,32),(0,o.Lk)("p",null,(0,v.v_)(l.icBackName||"No file chosen"),1)]),(0,o.Lk)("div",Oe,[Ve,(0,o.Lk)("input",{type:"file",id:"utilityBills",onChange:t[13]||(t[13]=e=>l.handleFileUpload(e,"utilityBills")),required:""},null,32),(0,o.Lk)("p",null,(0,v.v_)(l.utilityBillsName||"No file chosen"),1)]),(0,o.bF)(s,{"is-visible":l.showModal,"modal-message":l.modalMessage,onClose:t[14]||(t[14]=e=>l.showModal=!1)},null,8,["is-visible","modal-message"]),(0,o.Lk)("button",{type:"submit",class:"submit-button white-text",disabled:l.formSubmitted},(0,v.v_)(l.formSubmitted?"Submitting...":"Yes! Contact Me Now"),9,je)],32),We,(0,o.bF)(c)]),(0,o.bF)(s,{"is-visible":l.showModal,"modal-message":l.modalMessage,onClose:t[16]||(t[16]=e=>l.showModal=!1)},null,8,["is-visible","modal-message"])],64)}var He=a(1186),Xe=a(6679);const qe={key:0,class:"modal"},Je={class:"modal-content"};function Ke(e,t,a,n,l,i){return a.isVisible?((0,o.uX)(),(0,o.CE)("div",qe,[(0,o.Lk)("div",Je,[(0,o.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),(0,o.Lk)("p",null,(0,v.v_)(a.modalMessage),1)])])):(0,o.Q3)("",!0)}var Ye={name:"popUp2",props:{isVisible:{type:Boolean,required:!0},modalMessage:{type:String,required:!0}},emits:["close"]};const Qe=(0,p.A)(Ye,[["render",Ke],["__scopeId","data-v-4f7ce36e"]]);var ze=Qe,Ze={name:"tmReg",components:{popUp2:ze},props:{project:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,u.KR)(e.project),n=(0,u.KR)(""),l=(0,u.KR)(!1),i=(0,u.KR)(!1),r=(0,u.KR)(""),s=(0,u.KR)(""),c=(0,u.KR)(""),d=(0,u.KR)(""),m=(0,u.KR)(""),p=(0,u.KR)(""),g=(0,u.KR)(""),h=(0,u.KR)(""),f=(0,u.KR)(""),v=(0,u.KR)(""),b=(0,u.KR)(null),k=(0,u.KR)(null),C=(0,u.KR)(null),y=(0,u.KR)(""),w=(0,u.KR)(""),F=(0,u.KR)(""),L=(0,u.KR)(""),I=e=>{const t=e.target,a=t.value.replace(/\D/g,"").substring(0,10),n=a.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");t.value=n,c.value=a};(0,o.wB)((()=>e.project),(e=>{a.value=e}));const S=(e,t)=>{const a=e.target.files[0];"icFront"===t?(b.value=a,y.value=a.name):"icBack"===t?(k.value=a,w.value=a.name):"utilityBills"===t&&(C.value=a,F.value=a.name)},x=()=>{t("close")},R=Xe.J1`
      query ($phone: String) {
        contacts(filters: { phone: { eq: $phone } }) {
          data {
            id
            attributes {
              name
              phone
            }
          }
        }
      }
    `,$=Xe.J1`
  mutation AddContact($name: String!, $project: String!, $email: String!,$package:String!,
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  createContact(data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}
 `,N=Xe.J1`
     mutation UpdateContact($id: ID!, $name: String!, $project: String!, $email: String!, $package: String!, 
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  updateContact(id: $id, data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}

    `,{mutate:E}=(0,He.n_)($),{mutate:U}=(0,He.n_)(N),{refetch:M,loading:_,error:D}=(0,He.IT)(R,{variables:{phone:c.value},skip:!0}),T=async()=>{l.value=!0;try{const{data:e}=await M({phone:c.value});if(D.value)return void console.error("Error fetching contact:",D.value);if(_.value)return void console.log("Waiting for contact check...");if(!e.contacts.data||0===e.contacts.data.length){console.log("Contact does not exist. Creating new contact.");const e=await E({package:n.value,project:a.value,name:s.value,phone:c.value,email:d.value,address:m.value,message:p.value,PreferredInstallationDate:f.value,Nationality:v.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});return console.log("Create Success:",e),l.value=!1,i.value=!0,void(r.value="Record created.")}const t=e.contacts.data[0];console.log("Contact exists. Updating contact with ID:",t.id);const o=await U({id:t.id,project:a.value,package:n.value,name:s.value,phone:c.value,email:d.value,address:m.value,message:p.value,PreferredInstallationDate:f.value,Nationality:v.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});console.log("Update Success:",o),l.value=!1,i.value=!0,r.value="Record updated."}catch(e){l.value=!1,console.error("Error:",e)}};return{localPackage:n,localProject:a,name:s,phone:c,email:d,address:m,message:p,appointmentDate:g,appointmentTime:h,preferredInstallationDate:f,nationality:v,icFront:b,icBack:k,utilityBills:C,icFrontName:y,icBackName:w,utilityBillsName:L,formSubmitted:l,submitForm:T,formatPhone:I,showModal:i,modalMessage:r,close:x,handleFileUpload:S}}};const Ge=(0,p.A)(Ze,[["render",Be],["__scopeId","data-v-202c1f5f"]]);var et=Ge;const tt=e=>((0,o.Qi)("data-v-1355d3ea"),e=e(),(0,o.jt)(),e),at={class:"camera-capture"},nt={key:0},ot={ref:"video",autoplay:"",playsinline:""},lt={ref:"canvas",style:{display:"none"}},it=["src"],rt={key:1},st=tt((()=>(0,o.Lk)("p",null,"Your device does not support camera access.",-1))),ct=[st];function ut(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",at,[l.hasMediaDevices?((0,o.uX)(),(0,o.CE)("div",nt,[(0,o.Lk)("video",ot,null,512),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.takePicture&&i.takePicture(...e))},"Take Picture"),(0,o.Lk)("canvas",lt,null,512),l.imageData?((0,o.uX)(),(0,o.CE)("img",{key:0,src:l.imageData,alt:"Captured Image"},null,8,it)):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",rt,ct))])}var dt={name:"CameraCapture",data(){return{hasMediaDevices:!1,imageData:null}},mounted(){this.initializeCamera()},methods:{async initializeCamera(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){this.hasMediaDevices=!0;try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.$refs.video.srcObject=e}catch(e){console.error("Error accessing camera:",e),this.hasMediaDevices=!1}}else this.hasMediaDevices=!1},takePicture(){const e=this.$refs.canvas,t=this.$refs.video;e.width=t.videoWidth,e.height=t.videoHeight;const a=e.getContext("2d");a.drawImage(t,0,0,e.width,e.height),this.imageData=e.toDataURL("image/png")}}};const mt=(0,p.A)(dt,[["render",ut],["__scopeId","data-v-1355d3ea"]]);var pt=mt,gt={components:{CameraCapture:pt,ImageUpLoader:$,tmReg:et,MyPackage:ee,MySelector:de,LaunchButton:M},created(){this.paramValue=this.$route.query.param||"HOME",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const ht=(0,p.A)(gt,[["render",C]]);var ft=ht;const vt=e=>((0,o.Qi)("data-v-d1f5a34e"),e=e(),(0,o.jt)(),e),bt=vt((()=>(0,o.Lk)("h1",{class:"title"},"About Page",-1))),kt=vt((()=>(0,o.Lk)("p",null,"This is the about page of the application.",-1)));function Ct(e,t,a,n,l,i){const r=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),c=(0,o.g2)("v-container"),u=(0,o.g2)("v-main"),d=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[bt,kt])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var yt={name:"AboutPage"};const wt=(0,p.A)(yt,[["render",Ct],["__scopeId","data-v-d1f5a34e"]]);var Ft=wt;const Lt={class:"header"},It={class:"page-title"};function St(e,t,a,n,l,i){const r=(0,o.g2)("MySlider"),s=(0,o.g2)("MySelector"),c=(0,o.g2)("MyPackage"),u=(0,o.g2)("MyReg"),d=(0,o.g2)("LaunchButton"),m=(0,o.g2)("tmReg"),p=(0,o.g2)("ImageUpLoader"),g=(0,o.g2)("CameraCapture");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Lt,[(0,o.Lk)("h1",It,(0,v.v_)(l.pageTitle),1)]),(0,o.bF)(r,{pageTitle:l.pageTitle,images:l.filteredImages},null,8,["pageTitle","images"]),(0,o.bF)(s,{plans:l.filteredPlans},null,8,["plans"]),(0,o.bF)(c,{pageTitle:l.pageTitle,plans:l.filteredPlans},null,8,["pageTitle","plans"]),(0,o.bF)(u),l.showLaunchButton?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(m,{project:l.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,o.bF)(p),(0,o.bF)(g)])}const xt={class:"slider-container"},Rt=["src","alt"],$t=["onClick"];function Nt(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",xt,[(0,o.Lk)("div",{class:"slider-wrapper",style:(0,v.Tr)({transform:`translateX(-${100*l.currentIndex}%)`})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.images,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"slider-slide",key:t},[(0,o.Lk)("img",{src:e.src,alt:`Slide ${t+1}`,style:{width:"100%"}},null,8,Rt),(0,o.Lk)("button",{class:"navigate-btn",onClick:t=>i.navigateTo(e.route,e.category)}," Go to "+(0,v.v_)(e.route),9,$t)])))),128))],4),(0,o.Lk)("button",{class:"prev-btn",onClick:t[0]||(t[0]=(...e)=>i.prevSlide&&i.prevSlide(...e))},"❮"),(0,o.Lk)("button",{class:"next-btn",onClick:t[1]||(t[1]=(...e)=>i.nextSlide&&i.nextSlide(...e))},"❯")])}var Et={name:"MySlider",props:{pageTitle:{type:String,default:""},images:{type:Array,required:!0}},data(){return{currentIndex:0,intervalId:null}},mounted(){this.startAutoPlay()},beforeUnmount(){this.stopAutoPlay()},methods:{startAutoPlay(){},stopAutoPlay(){clearInterval(this.intervalId)},prevSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length,this.startAutoPlay()},nextSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex+1)%this.images.length,this.startAutoPlay()},navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Ut=(0,p.A)(Et,[["render",Nt],["__scopeId","data-v-e5bf1dc2"]]);var Mt=Ut,_t={components:{CameraCapture:pt,ImageUpLoader:$,tmReg:et,MySlider:Mt,MyPackage:ee,MySelector:de,LaunchButton:M},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const Dt=(0,p.A)(_t,[["render",St]]);var Tt=Dt;const At={class:"header"},Pt={class:"page-title"};function Ot(e,t,a,n,l,i){const r=(0,o.g2)("MySlider"),s=(0,o.g2)("MySelector"),c=(0,o.g2)("MyPackage"),u=(0,o.g2)("MyReg"),d=(0,o.g2)("LaunchButton"),m=(0,o.g2)("tmReg"),p=(0,o.g2)("ImageUpLoader"),g=(0,o.g2)("CameraCapture");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",At,[(0,o.Lk)("h1",Pt,(0,v.v_)(l.pageTitle),1)]),(0,o.bF)(r,{pageTitle:l.pageTitle,images:l.filteredImages},null,8,["pageTitle","images"]),(0,o.bF)(s,{plans:l.filteredPlans},null,8,["plans"]),(0,o.bF)(c,{pageTitle:l.pageTitle,plans:l.filteredPlans},null,8,["pageTitle","plans"]),(0,o.bF)(u),l.showLaunchButton?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(m,{project:l.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,o.bF)(p),(0,o.bF)(g)])}var Vt={components:{CameraCapture:pt,ImageUpLoader:$,tmReg:et,MySlider:Mt,MyPackage:ee,MySelector:de,LaunchButton:M},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const jt=(0,p.A)(Vt,[["render",Ot]]);var Wt=jt;function Bt(e,t,a,n,l,i){const r=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),c=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(c,{fluid:"",class:"d-flex align-center justify-center",style:{height:"100vh"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,{justify:"center",align:"center"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{cols:"12",sm:"8"})])),_:1})])),_:1})}var Ht={name:"MainPage",data(){return{images:[{src:"img/UniVerse.jpg",alt:"Image 1",route:"/home",param:"HOME"},{src:"img/switch.png",alt:"Image 3",route:"/home",param:"WIN BACK"},{src:"img/business.jpeg",alt:"Image 2",route:"/home",param:"BUSINESS"}]}},methods:{navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Xt=(0,p.A)(Ht,[["render",Bt],["__scopeId","data-v-58c60cfa"]]);var qt=Xt;const Jt=e=>((0,o.Qi)("data-v-8a74691e"),e=e(),(0,o.jt)(),e),Kt=Jt((()=>(0,o.Lk)("br",null,null,-1))),Yt=Jt((()=>(0,o.Lk)("br",null,null,-1))),Qt={width:"8%"},zt={style:{"font-size":"18px","font-weight":"bold"}},Zt={style:{"font-size":"18px","font-weight":"bold"}},Gt=["onUpdate:modelValue"],ea=["onUpdate:modelValue"],ta={style:{color:"blue"}},aa=Jt((()=>(0,o.Lk)("h3",null,"Load JSON",-1))),na=Jt((()=>(0,o.Lk)("h3",null,"Load CSV",-1))),oa={key:0,class:"error"},la={class:"button-container"},ia=["onClick"],ra=["onUpdate:modelValue"],sa=["onUpdate:modelValue"],ca=["onUpdate:modelValue"],ua=["onUpdate:modelValue"],da=["onUpdate:modelValue"],ma=["onUpdate:modelValue"],pa=["onUpdate:modelValue"],ga=["onUpdate:modelValue"],ha=["onUpdate:modelValue"],fa=["onUpdate:modelValue"],va=["onUpdate:modelValue"],ba=Jt((()=>(0,o.Lk)("option",{value:""},"Select a date",-1))),ka=["value"],Ca=["onUpdate:modelValue"],ya=Jt((()=>(0,o.Lk)("option",{value:""},"Select a date",-1))),wa=["value"],Fa={width:"18%",style:{"font-size":"12px"}},La=["onUpdate:modelValue"];function Ia(e,t,a,l,i,r){const s=(0,o.g2)("v-col"),c=(0,o.g2)("v-btn"),u=(0,o.g2)("v-select"),d=(0,o.g2)("CountdownTimer"),m=(0,o.g2)("v-row"),p=(0,o.g2)("v-icon"),g=(0,o.g2)("v-data-table"),h=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",null,[Kt,Yt,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.filterTerm=e),placeholder:"Search..."},null,512),[[n.Jo,i.filterTerm]]),(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{class:"justify-start align-left"},{default:(0,o.k6)((()=>[(0,o.eW)(" V1.09 ")])),_:1}),(0,o.bF)(s,{class:"justify-start align-left"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:t[1]||(t[1]=t=>r.loadContactsFromStrapi(e.findValue2)),color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)(" Import from Strapi ")])),_:1}),(0,o.eW)(" Import Source"),(0,o.bo)((0,o.Lk)("input",{class:"bordered-input",type:"text",id:"findValue2","onUpdate:modelValue":t[2]||(t[2]=t=>e.findValue2=t)},null,512),[[n.Jo,e.findValue2]])])),_:1}),(0,o.bF)(s,{class:"d-flex align-left"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:t[3]||(t[3]=e=>r.exportToStrapi()),color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)(" Export to Strapi ")])),_:1})])),_:1}),(0,o.bF)(s,{class:"d-flex align-left"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.printTable,color:"success"},{default:(0,o.k6)((()=>[(0,o.eW)("Print PDF")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{modelValue:l.selectedUser,"onUpdate:modelValue":t[4]||(t[4]=e=>l.selectedUser=e),items:i.users,"item-text":"text","item-value":"value",label:"Select a user"},null,8,["modelValue","items"])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Search "),(0,o.bo)((0,o.Lk)("input",{class:"bordered-input",type:"text",id:"findValue","onUpdate:modelValue":t[5]||(t[5]=e=>i.findValue=e)},null,512),[[n.Jo,i.findValue]])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"bordered-input",onClick:t[6]||(t[6]=(...e)=>r.jumpToIndex&&r.jumpToIndex(...e))},"By Row No.")])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"bordered-input",onClick:t[7]||(t[7]=(...e)=>r.findNumber&&r.findNumber(...e))},"By Phone Number")])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"bordered-input",onClick:t[8]||(t[8]=(...e)=>r.findName&&r.findName(...e))},"By Name")])),_:1}),(0,o.bF)(s,{class:"d-flex justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:t[9]||(t[9]=e=>i.showCountdown=!i.showCountdown),color:"primary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,v.v_)(i.showCountdown?"Hide Countdown":"Show Countdown"),1)])),_:1})])),_:1}),(0,o.bF)(s,{class:"align-right"},{default:(0,o.k6)((()=>[i.showCountdown?((0,o.uX)(),(0,o.Wv)(d,{key:0,ref:"countdown",seconds:5,onCountdownFinish:r.countdownFinished},null,8,["onCountdownFinish"])):(0,o.Q3)("",!0)])),_:1})])),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(g,{pagination:!1,headers:[{title:""},{title:"Msg"},{title:"No"},{title:"project"},{title:"source"},{title:"name"},{title:"Phone"},{title:"Occupation"},{title:"Email"},{title:"Message"}],items:[r.currentContact],class:"elevation-1","hide-default-footer":""},{item:(0,o.k6)((({item:e})=>[(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,[(0,o.bF)(c,{href:`tel:${e.phoneNumber}`,color:"success",small:"",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-in-talk")])),_:1})])),_:2},1032,["href"])]),(0,o.Lk)("td",Qt,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"sendmsg","onUpdate:modelValue":t[10]||(t[10]=e=>i.sendmsg=e)},null,512),[[n.Jo,i.sendmsg]])]),(0,o.Lk)("td",null,(0,v.v_)(e.no),1),(0,o.Lk)("td",null,(0,v.v_)(e.project),1),(0,o.Lk)("td",null,(0,v.v_)(e.source),1),(0,o.Lk)("td",zt,(0,v.v_)(e.name),1),(0,o.Lk)("td",null,(0,v.v_)(e.phoneNumber),1),(0,o.Lk)("td",Zt,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"sendmsg","onUpdate:modelValue":t=>e.occupation=t},null,8,Gt),[[n.Jo,e.occupation]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"sendmsg","onUpdate:modelValue":t=>e.email=t},null,8,ea),[[n.Jo,e.email]])]),(0,o.Lk)("td",null,(0,v.v_)(e.message),1)])])),bottom:(0,o.k6)((()=>[])),_:1},8,["items"]),(0,o.Lk)("h2",ta,(0,v.v_)(r.currentContact.interaction),1)])),_:1})]),(0,o.bF)(m,{class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.sendwhatsappmessage,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Send via WhatsApp (W)")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.startProcessing,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Start W")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[aa,(0,o.Lk)("input",{type:"file",onChange:t[11]||(t[11]=(...e)=>r.loadJSONFile&&r.loadJSONFile(...e)),ref:"jsonFileInput"},null,544)])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.exportToJSON,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Export to JSON")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.removeDuplicatePhoneNumbers,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Remove Duplicate")])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[na,(0,o.Lk)("input",{"data-v-002fd7de":"",type:"file",accept:".csv",onChange:t[12]||(t[12]=(...e)=>r.loadCSVFile&&r.loadCSVFile(...e)),ref:"fileInput"},null,544)])),_:1}),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:r.exportToCSV,class:"sort-button"},{default:(0,o.k6)((()=>[(0,o.eW)("Export to CSV")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Lk)("div",null,[i.error?((0,o.uX)(),(0,o.CE)("div",oa,(0,v.v_)(i.error),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",la,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=e=>r.sortContacts("phoneNumber")),class:"sort-button"}," Sort by Phone Number ("+(0,v.v_)(i.sortOrder.phoneNumber)+") ",1),(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>r.sortContacts("name")),class:"sort-button"}," Sort by Name ("+(0,v.v_)(i.sortOrder.name)+") ",1),(0,o.Lk)("button",{onClick:t[15]||(t[15]=e=>r.sortContactsAndNumber("project")),class:"sort-button"}," Sort by Project ("+(0,v.v_)(i.sortOrder.project)+") ",1),(0,o.Lk)("button",{onClick:t[16]||(t[16]=e=>r.sortContacts("no")),class:"sort-button"}," Sort by No ("+(0,v.v_)(i.sortOrder.no)+") ",1),(0,o.Lk)("button",{onClick:t[17]||(t[17]=e=>r.sortContactsAndNumber("status")),class:"sort-button"}," Sort by Status ("+(0,v.v_)(i.sortOrder.status)+") ",1),(0,o.Lk)("button",{onClick:t[18]||(t[18]=e=>r.sortContacts("nextCall")),class:"sort-button"}," Sort by Next Call ("+(0,v.v_)(i.sortOrder.nextCall)+") ",1)])]),(0,o.bF)(g,{id:"tableToPrint",headers:i.headers,items:r.filteredContacts,class:"elevation-1 pdf-container","hide-default-footer":"","items-per-page":1e4},{item:(0,o.k6)((({item:e,index:t})=>[(0,o.Lk)("tr",{class:(0,v.C4)({highlight:l.currentIndex===t}),onClick:e=>r.rowClick(t)},[(0,o.Lk)("td",null,[(0,o.bF)(c,{onClick:e=>r.removeContact(t),color:"error",small:"",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-delete")])),_:1})])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,[(0,o.bF)(c,{onClick:t=>r.rowSendWhatsApp(e),color:"primary",small:"",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-whatsapp")])),_:1})])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,[(0,o.bF)(c,{onClick:t=>l.makeCall(e),color:"primary",small:"",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone")])),_:1})])),_:2},1032,["onClick"])]),(0,o.Lk)("td",null,[(0,o.bF)(c,{href:`tel:${e.phoneNumber}`,color:"success",small:"",icon:""},{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone-in-talk")])),_:1})])),_:2},1032,["href"])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.project=t},null,8,ra),[[n.Jo,e.project]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.source=t},null,8,sa),[[n.Jo,e.source]])]),(0,o.Lk)("td",null,(0,v.v_)(e.no),1),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.name=t},null,8,ca),[[n.Jo,e.name]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.language=t},null,8,ua),[[n.Jo,e.language]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.phoneNumber=t},null,8,da),[[n.Jo,e.phoneNumber]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t=>e.interaction=t},null,8,ma),[[n.Jo,e.interaction]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.status=t},null,8,pa),[[n.Jo,e.status]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.doc=t},null,8,ga),[[n.Jo,e.doc]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.called=t},null,8,ha),[[n.Jo,e.called]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.contacted=t},null,8,fa),[[n.Jo,e.contacted]])]),(0,o.Lk)("td",null,(0,v.v_)(e.date),1),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.lastCall=t},[ba,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableDates,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,v.v_)(e),9,ka)))),128))],8,va),[[n.u1,e.lastCall]])]),(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.nextCall=t},[ya,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.availableDates,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,v.v_)(e),9,wa)))),128))],8,Ca),[[n.u1,e.nextCall]])]),(0,o.Lk)("td",Fa,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.na1=t},null,8,La),[[n.Jo,e.na1]])])],10,ia)])),_:1},8,["headers","items"])])}a(3375),a(9225),a(3972),a(9209),a(5714),a(7561),a(6197),a(4603),a(7566),a(8721);var Sa=a(4537),xa=a(2391),Ra=a(88);const $a=new Sa.P({uri:"https://sp412b-763ef468411d.herokuapp.com/graphql"}),Na=new xa.R({link:$a,cache:new Ra.D});var Ea=Na,Ua=a(8055),Ma=a.n(Ua),_a=a(3833),Da=a.n(_a),Ta=a(4809),Aa=a.n(Ta);function Pa(e,t,a,n,l,i){const r=(0,o.g2)("v-card-title"),s=(0,o.g2)("v-card-subtitle"),c=(0,o.g2)("v-btn"),u=(0,o.g2)("v-card-actions"),d=(0,o.g2)("v-text-field"),m=(0,o.g2)("v-card");return(0,o.uX)(),(0,o.Wv)(m,{class:"mx-auto","max-width":"400"},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.eW)("Countdown Timer")])),_:1}),l.timeRemaining>0?((0,o.uX)(),(0,o.Wv)(s,{key:0},{default:(0,o.k6)((()=>[(0,o.eW)((0,v.v_)(l.timeRemaining)+" seconds remaining",1)])),_:1})):((0,o.uX)(),(0,o.Wv)(s,{key:1},{default:(0,o.k6)((()=>[(0,o.eW)("Time's up! Restarting...")])),_:1})),(0,o.bF)(s,null,{default:(0,o.k6)((()=>[(0,o.eW)("Send Count: "+(0,v.v_)(l.restartCount),1)])),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:i.startCountdown,disabled:l.isRunning||l.restartCount>=l.maxRestarts},{default:(0,o.k6)((()=>[(0,o.eW)("Start")])),_:1},8,["onClick","disabled"]),(0,o.bF)(c,{onClick:i.stopCountdown,disabled:!l.isRunning},{default:(0,o.k6)((()=>[(0,o.eW)("Stop")])),_:1},8,["onClick","disabled"])])),_:1}),(0,o.bF)(d,{modelValue:l.maxRestarts,"onUpdate:modelValue":t[0]||(t[0]=e=>l.maxRestarts=e),label:"Max Sends",type:"number",min:"1"},null,8,["modelValue"])])),_:1})}var Oa={name:"CountdownTimer",props:{seconds:{type:Number,required:!0},onCountdownFinish:{type:Function,default:null}},data(){return{timeRemaining:this.seconds,intervalId:null,restartTimeout:null,isRunning:!1,maxRestarts:0,restartCount:0}},methods:{startCountdown(){this.isRunning=!0,this.timeRemaining=this.seconds+Math.floor(30*Math.random())+1,this.intervalId=setInterval((()=>{this.timeRemaining>0?this.timeRemaining-=1:this.handleCountdownFinish()}),1e3)},stopCountdown(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout),this.isRunning=!1,this.restartCount=0},handleCountdownFinish(){clearInterval(this.intervalId),this.onCountdownFinish&&this.onCountdownFinish(),this.isRunning&&this.restartCount<this.maxRestarts?(this.restartCount+=1,this.restartTimeout=setTimeout((()=>{this.startCountdown()}),1e3)):this.isRunning=!1}},beforeUnmount(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout)}};const Va=(0,p.A)(Oa,[["render",Pa],["__scopeId","data-v-c82f36f8"]]);var ja=Va;const Wa=Xe.J1`
  # Write your query or mutation here
mutation(
  $id: ID!
  $no: Int
  $user: String
  $name: String
  $phoneNumber: String
  $status: String
  $interaction: String
  $lastCall: DateTime
  $nextCall: DateTime
) {
  updateMakeCall(
    id: $id
    data: {
      user: $user
      name: $name
      phoneNumber: $phoneNumber
      status: $status
      interaction: $interaction
      lastCall: $lastCall
      nextCall: $nextCall
      no: $no
    }
  ) {
    # Define the fields you want to be returned here

    data{
      id
      attributes{
    name
    phoneNumber
    status
    interaction
    lastCall
    nextCall
    no
    }
    }
  }
}

`;var Ba={name:"ContactList",props:{projectKey:{type:String,required:!0},enDate:{type:String,required:!0}},components:{vSelect:window["vue-select"],CountdownTimer:ja},setup(){const e=(0,u.KR)([]),t=(0,u.KR)(0),a=(0,u.KR)(!1),n=(0,u.KR)(null);(0,o.sV)((()=>{const e=localStorage.getItem("currentIndex");null!==e&&(t.value=parseInt(e,10)),n.value=localStorage.getItem("user")})),(0,o.wB)(t,(e=>{if(null===e){const e=localStorage.getItem("currentIndex");null!==e&&(t.value=parseInt(e,10))}else localStorage.setItem("currentIndex",e)})),(0,o.wB)(n,(e=>{localStorage.setItem("user",e)}));const l=()=>{const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return`${t}/${a}/${n}`},i=e=>{let[t,a,n]=e.replaceAll("/","-").split("-");return t<1e3?(a=a.padStart(2,"0"),t=t.padStart(2,"0"),`${n}-${a}-${t}T00:00:00Z`):`${t}-${a}-${n}T00:00:00Z`},{mutate:r}=(0,He.n_)(Wa),s=async a=>{try{await new Promise((e=>setTimeout(e)));let{name:e,phoneNumber:t,status:o,interaction:s,lastCall:c,nextCall:u,no:d}=a;c=i(c),u=i(u);let m=n,p=0;"alyssa"===m.value.toLowerCase()&&(p=3),"alvin"===m.value.toLowerCase()&&(p=4),"ashton"===m.value.toLowerCase()&&(p=2);const g={id:p,user:m.value,name:e,phoneNumber:t,status:o,interaction:s,lastCall:c,nextCall:u,no:d};await r(g),a.called=function(e){const t=parseInt(e,10);return isNaN(t)?1:t+1}(a.called),a.date=l()}catch(o){console.error("Error updating callme:",o)}t.value=e.value.findIndex((e=>e.no===a.no))},c=()=>{if(console.log("Attempting to save data to local storage..."),a.value)try{const t={contacts:e.value};localStorage.setItem("appData",JSON.stringify(t)),console.log("Data saved to local storage:",t)}catch(t){console.error("Error saving to local storage:",t)}else console.log("Data not saved: dataRestored.value is false")},d=()=>{console.log("Attempting to restore data from local storage...");const t=localStorage.getItem("appData");if(t)try{console.log("Saved data found in local storage:",t);const n=JSON.parse(t);e.value=n.contacts||[],a.value=!0,console.log("Data restored from local storage:",n)}catch(n){console.error("Error parsing data from local storage:",n)}else console.log("No saved data found in local storage.")};(0,o.sV)((()=>{d()})),(0,o.nT)((()=>{console.log("watchEffect triggered, contacts:",e.value)}));let m=Ma()(e.value);return(0,o.wB)(e,(e=>{console.log("Contacts changed");let t=!1;if(e.length!==m.length)t=!0;else for(let a=0;a<e.length;a++){const n=e[a],o=m[a];if(!n||!o){t=!0;break}for(const e in n)if(n[e]!==o[e]){console.log(`Field '${e}' in contact ${n.id} changed`),t=!0;break}if(t)break}t&&(a.value=!0,c(),m=Ma()(e))}),{deep:!0}),{restoreDataFromLocalStorage:d,makeCall:s,contacts:e,currentIndex:t,selectedUser:n}},mounted(){this.loadMessageFiles()},data(){return{showCountdown:!1,filterTerm:"",sortOrder:{phoneNumber:"asc",name:"asc",no:"asc",status:"asc",project:"asc",nextCall:"asc"},users:["Alyssa","Ashton","Alvin"],countries:[{country:"Spain"},{country:"France"},{country:"Ghana"},{country:"Nigeria"},{country:"Brazil"},{country:"Ecuador"}],headers:[{text:"",title:"",value:"remove",width:"2%"},{text:"",title:"",value:"send",width:"2%"},{text:"",title:"",value:"call",width:"2%"},{text:"",title:"",value:"dial",width:"2%"},{text:"Project",title:"Project",value:"project",width:"3%"},{text:"Source",title:"Source",value:"source",width:"2%"},{text:"No",title:"No",value:"no",width:"3%"},{text:"Name",title:"Name",value:"name",width:"12%"},{text:"Language",title:"Lgn.",value:"language",width:"1%"},{text:"Phone",title:"Phone",value:"phoneNumber",width:"12%"},{text:"Interaction",title:"Interaction",value:"interaction",width:"26%"},{text:"Status",title:"Status",value:"status",width:"10%"},{text:"Doc",title:"Doc",value:"doc",width:"5%"},{text:"Called",title:"Called",value:"called",width:"4%"},{text:"Contacted",title:"Contacted",value:"contacted",width:"3%"},{text:"Dial Date",title:"Dial",value:"date",width:"5%"},{text:"Last Called Date",title:"Last Call",value:"lastCall",width:"7%"},{text:"Next Call",title:"Next_Call",value:"nextCall",width:"7%"},{text:"Next Action",title:"Next Action",value:"na1",width:"5%"}],availableDates:this.generateDateOptions(),messageEn:[],messageCn:[],messageBs:[],phoneNumber:"",sendmsg:"",whatsappmessage:"",findValue:null,error:null}},computed:{currentContact(){return this.contacts[this.currentIndex]||{}},filteredContacts(){return""===this.filterTerm?this.contacts:"dup"===this.filterTerm.toLowerCase()?this.getDuplicateRecords():this.contacts.filter((e=>{const t=[e.name,e.phoneNumber,e.status];return t.some((e=>e.toString().toLowerCase().includes(this.filterTerm.toLowerCase())))}))}},methods:{isBlank(e){return null===e||void 0===e||""===e.trim()},formattedPhoneNumber(e){if(this.isBlank(e))return"";const t=e.substring(0,3),a=e.substring(3);return`(${t}) ${a}`},async loadContactsFromStrapi(e){const t=confirm('Do you want to overwrite existing contacts or append the new ones? Click "OK" to overwrite or "Cancel" to append.');t&&(this.contacts=[]);const a=Xe.J1`
    query($project: String!) {
      leads(filters: { project: { eq: $project } }, pagination: { limit: 1000 }) {
        data {
          id
          attributes {
            project
            user
            name
            phoneNumber
            status
            interaction
            lastCall
            nextCall
            called
            contacted
            language
            message
            doc
            na1
            source
            occupation
            updatedAt
          }
        }
      }
    }
  `;try{const{data:n}=await Ea.query({query:a,variables:{project:e},fetchPolicy:"no-cache"});n.leads.data.forEach((e=>{const a=this.contacts.find((t=>t.phoneNumber===e.attributes.phoneNumber)),n={no:this.contacts.length+1,user:e.attributes.user||"",name:e.attributes.name||"",phoneNumber:e.attributes.phoneNumber||"",project:e.attributes.project||"",occupation:e.attributes.occupation||"",status:e.attributes.status||"",interaction:e.attributes.interaction||"",lastCall:this.convertYMD2DMY(e.attributes.lastCall)||"1-1-1900",nextCall:this.convertYMD2DMY(e.attributes.nextCall)||"1-1-1900",called:e.attributes.called||0,contacted:e.attributes.contacted||0,language:e.attributes.language||"",message:e.attributes.message||"",doc:e.attributes.doc||"",na1:e.attributes.na1||"",source:e.attributes.source||"",edit:!1,editField:"",updatedAt:e.attributes.nextCall.toString()};a&&!t?Object.assign(a,n):this.contacts.push(n)})),this.sortContactsAndNumber("project")}catch(n){console.error("Error loading contacts from Strapi:",n)}},convertYMD2DMY(e){if(!e)return null;const t=new Date(e);if(1900===t.getFullYear()&&0===t.getMonth()&&1===t.getDate())return null;const a=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear();return`${a}/${n}/${o}`},convertDMY2YMD(e){if(!e)return null;const t=e.replace(/-/g,"/"),[a,n,o]=t.split("/").map(Number);if(isNaN(a)||isNaN(n)||isNaN(o))return console.error("Invalid date components"),null;const l=new Date(o,n-1,a);if(l.getFullYear()!==o||l.getMonth()!==n-1||l.getDate()!==a)return console.error("Invalid date"),null;const i=l.getFullYear(),r=String(l.getMonth()+1).padStart(2,"0"),s=String(l.getDate()).padStart(2,"0"),c="00",u="00",d="00";return"1900"===i?null:`${i}-${r}-${s}T${c}:${u}:${d}Z`},async exportToStrapi(){const e=Xe.J1`
        mutation CreateLead(
          $no: Int
          $user: String
          $name: String
          $phoneNumber: String
          $status: String
          $interaction: String
          $lastCall: DateTime
          $nextCall: DateTime
          $called: Int
          $contacted: Int
          $language: String
          $message: String
          $doc: String
          $na1: String
          $source: String
          $project: String
          $email: String
          $date: DateTime
        ) {
          createLead(
            data: {
              user: $user
              name: $name
              phoneNumber: $phoneNumber
              status: $status
              interaction: $interaction
              lastCall: $lastCall
              nextCall: $nextCall
              called: $called
              no: $no
              language: $language
              contacted: $contacted
              message: $message
              doc: $doc
              na1: $na1
              source: $source
              project: $project
              email: $email
              date: $date
            }
          ) {
            data {
              id
              attributes {
                name
                phoneNumber
                status
                interaction
                lastCall
                nextCall
                no
                project
                source
              }
            }
          }
        }
      `,t=Xe.J1`
        mutation UpdateLead(
          $id: ID!
          $no: Int
          $user: String
          $name: String
          $phoneNumber: String
          $status: String
          $interaction: String
          $lastCall: DateTime
          $nextCall: DateTime
          $called: Int
          $contacted: Int
          $language: String
          $message: String
          $doc: String
          $na1: String
          $source: String
          $project: String
          $email: String
          $date: DateTime
        ) {
          updateLead(
            id: $id
            data: {
              user: $user
              name: $name
              phoneNumber: $phoneNumber
              status: $status
              interaction: $interaction
              lastCall: $lastCall
              nextCall: $nextCall
              called: $called
              no: $no
              language: $language
              contacted: $contacted
              message: $message
              doc: $doc
              na1: $na1
              source: $source
              project: $project
              email:$email
              date:$date
            }
          ) {
            data {
              id
              attributes {
                name
                phoneNumber
                status
                interaction
                lastCall
                nextCall
                no
              }
            }
          }
        }
      `;try{for(const a of this.contacts){const n=Xe.J1`
            query GetLead($phoneNumber: String!) {
              leads(filters: { phoneNumber: { eq: $phoneNumber } }) {
                data {
                  id
                  attributes {
                    no
                    source
                    project
                    name
                    phoneNumber
                    status
                    interaction
                    lastCall
                    nextCall
                    called
                    contacted
                    language
                    message
                    doc
                    na1
                    updatedAt
                    email
                    date
                  }
                }
              }
            }
          `,{data:o}=await Ea.query({query:n,variables:{phoneNumber:a.phoneNumber},fetchPolicy:"no-cache"});if(console.log("--\x3e"+a.phoneNumber),Array.isArray(o.leads.data)&&o.leads.data.length>0){const e=o.leads.data[0].attributes;if(e.source!==a.source)return void alert(`${a.phoneNumber} exists in both server ${e.source} and local ${a.source}`);if(e.name!==a.name)return void alert(`${a.name} with phone number ${a.phoneNumber} exists in both server ${e.name} and local ${a.name}`);if(e.updatedAt==a.updatedAt)return;const n={};for(const t in a)a[t]!==e[t]&&"id"!==t&&(n[t]=a[t]);Object.keys(n).length>0&&(await Ea.mutate({mutation:t,variables:{id:o.leads.data[0].id,...n,contacted:parseInt(a.contacted,10),called:parseInt(a.called,10),date:this.convertDMY2YMD(a.date),lastCall:this.convertDMY2YMD(a.lastCall),nextCall:this.convertDMY2YMD(a.nextCall)}}),console.log(`Updated contact: ${a.name}`))}else await Ea.mutate({mutation:e,variables:{...a,no:parseInt(a.no,10),contacted:parseInt(a.contacted,10),called:parseInt(a.called,10),date:this.convertDMY2YMD(a.date),lastCall:this.convertDMY2YMD(a.lastCall),nextCall:this.convertDMY2YMD(a.nextCall)}}),console.log(`Created new contact: ${a.name}`)}}catch(a){return console.error("Error syncing contacts with Strapi:",a),void alert("Error syncing contacts with Strapi:"+a)}alert("Data synchronization completed!")},removeContact(e){const t=this.filteredContacts[e],a=confirm(`Are you sure you want to delete the contact: ${t.name} (${t.phoneNumber})?`);if(a){const e=this.contacts.findIndex((e=>e===t));console.log("Removing contact at original index:",e),console.log("Contact:",this.contacts[e]),-1!==e&&this.contacts.splice(e,1)}else console.log("Contact removal canceled.")},getDuplicateRecords(){const e=this.contacts.reduce(((e,t)=>{const a=t.phoneNumber.trim();return a&&(e[a]=(e[a]||0)+1),e}),{}),t=Object.keys(e).filter((t=>e[t]>1));return this.contacts.filter((e=>t.includes(e.phoneNumber.trim())))},stopCountdownFromParent(){this.$refs.countdown.stopCountdown()},async sendMessage(){this.currentIndex=0;while(this.currentIndex<this.contacts.length){if(!this.contacts[this.currentIndex].status.trim().toLowerCase().includes("send")&&!this.contacts[this.currentIndex].status.trim().toLowerCase().includes("xxx")&&this.contacts[this.currentIndex].phoneNumber.trim().length>0){const t=this.contacts[this.currentIndex];let a="e";void 0!==t.language&&""!==t.language.trim()&&(a=t.language);try{let e="!"+a+this.sendmsg,n=this.getmessage(e,t);t.status="send",void 0!==t.doc?t.doc=this.sendmsg+t.doc:t.doc=this.sendmsg;const o=await S.A.post("http://localhost:3000/send-message",{number:t.phoneNumber,message:n});if(!o.data.success)return alert("Failed to send message: "+o.data.error),t.status="error 1 send",void this.$refs.countdown.stopCountdown()}catch(e){return console.error("Error:",e),t.status="error 2 send",alert("An error occurred: "+e.message),void this.$refs.countdown.stopCountdown()}this.currentIndex++;break}this.currentIndex++}this.currentIndex>=this.contacts.length&&(this.$refs.countdown.stopCountdown(),alert("send whatapp message completed"))},isVisible(e){return"showAll"===this.filter||e.phoneNumber&&e.phoneNumber.includes(this.searchTerm)},countdownFinished(){console.log("Countdown finished!"),this.sendMessage()},sortContacts(e){"asc"===this.sortOrder[e]?(this.contacts.sort(((t,a)=>t[e]<a[e]?-1:t[e]>a[e]?1:0)),this.sortOrder[e]="desc"):(this.contacts.sort(((t,a)=>t[e]<a[e]?1:t[e]>a[e]?-1:0)),this.sortOrder[e]="asc")},formatNumberWithLeadingZeros(e){const t=String(e),a=t.padStart(6,"0");return a},sortContactsAndNumber(e){"asc"===this.sortOrder[e]?(this.contacts.sort(((t,a)=>t[e]+this.formatNumberWithLeadingZeros(t["no"])<a[e]+this.formatNumberWithLeadingZeros(a["no"])?-1:t[e]+this.formatNumberWithLeadingZeros(t["no"])>a[e]+this.formatNumberWithLeadingZeros(a["no"])?1:0)),this.sortOrder[e]="desc"):(this.contacts.sort(((t,a)=>t[e]+t["no"]<a[e]+t["no"]?1:t[e]+t["no"]>a[e]+t["no"]?-1:0)),this.sortOrder[e]="asc")},printTable(){Da()(document.getElementById("tableToPrint"),{filename:"myFilename.pdf",jsPDF:{unit:"in",format:"A3",orientation:"landscape",html2canvas:{scale:2}}})},rowClick(e){this.currentIndex=this.currentIndex===e?null:e},generateDateOptions(){const e=[],t=new Date;for(let a=0;a<30;a++){const n=new Date(t);n.setDate(t.getDate()+a);const o=String(n.getDate()).padStart(2,"0"),l=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear(),r=`${o}/${l}/${i}`;e.push(r)}return e},addPlus(e){return"60"===e.substring(0,2)&&(e="+"+e),e.replaceAll("@","")},formatString(e){return void 0===e?"":(e=e.replace(/\D/g,""),e.length<=12?e.padEnd(12,"_"):e.slice(0,12))},loadMessageFiles(){this.loadTextFile("/messageEn.txt","messageEn"),this.loadTextFile("/messageCn.txt","messageCn")},loadTextFile(e,t){fetch(e).then((e=>e.text())).then((a=>{console.log(`File loaded successfully: ${e}`),console.log(`Data: ${a}`);const n=a.split("\n"),o=[];let l={code:"",msg:""};"undefined"!==this.projectKey?(n.forEach((e=>{if(!e.startsWith("_"))if(e.startsWith("@")){""!==l.code&&o.push(l);const[t,a]=e.split("|");l={code:t.trim().substring(1),msg:a.trim()+"\n"}}else l.msg+=e.trim().replaceAll("$plink","https://alvintkb.github.io/?p=gyp"+this.enDate+"$phone"+this.projectKey)+"\n"})),""!==l.code&&o.push(l),this[t].splice(0,this[t].length,...o),0==this[t].length&&alert("Error! "+t+" no data")):alert("ProjectKey Not defined")})).catch((e=>{console.error("Error loading text file:",e)}))},sendmessage(){if(this.phoneNumber&&this.whatsappmessage){let e=this.getmessage(this.whatsappmessage);const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);const a=this.cleanPhoneNumber(this.phoneNumber),n=`https://api.whatsapp.com/send?phone=${a}&text=${encodeURIComponent(e)}`;window.open(n,"_blank")}else alert("Please enter both telephone number and WhatsApp message.")},jumpToIndex(){this.findValue>=0&&this.findValue<this.contacts.length?this.currentIndex=this.findValue-1:console.error("Invalid index.")},findContactByNumber(e){return this.contacts.find((t=>t.phoneNumber.includes(e)))},findNumber(){const e=this.findContactByNumber(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t}else console.error("No contact found with phone number containing",this.findValue)},findName(){const e=this.findByName(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t}else console.error("No contact found with this name containing",this.findValue)},findByName(e){return this.contacts.find((t=>t.name.toLowerCase().includes(e.toLowerCase())))},camelize(e){return e.replace(/(?:^\w|[-\s]\w)/g,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")},rowSendWhatsApp(e){this.validateInput(this.sendmsg)||(this.sendmsg="a0");const{phoneNumber:t,language:a}=e;var n="!"+(a||"e")+this.sendmsg;let o=this.getmessage(n,e);const l=document.createElement("textarea");l.value=o,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l);const i=this.cleanPhoneNumber(t),r=`https://api.whatsapp.com/send?phone=${i}&text=${encodeURIComponent(o)}`;window.open(r,"_blank"),this.contacts[this.currentIndex].doc.length>0?this.contacts[this.currentIndex].doc+=","+this.sendmsg:this.contacts[this.currentIndex].doc+=this.sendmsg,this.currentIndex=this.contacts.findIndex((t=>t.no===e.no))},sendwhatsappmessage(){const{phoneNumber:e,na1:t,name:a,message:n}=this.currentContact;if("w"===t){if(this.validateInput(t)){let t=this.getmessage(n);t=t.replaceAll("@name",a),t=t.replaceAll("$phone",this.formatString(this.contacts[this.currentIndex].phoneNumber));const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o);const l=this.cleanPhoneNumber(e),i=`https://api.whatsapp.com/send?phone=${l}&text=${encodeURIComponent(t)}`;window.open(i,"_blank"),this.moveToNextContact()}}else this.moveToNextContact()},getmessage(e,t){let a="";return"!c"===e.slice(0,2)?a=this.messageCn.find((t=>t.code===e.slice(1))).msg:"!e"===e.slice(0,2)||"!b"===e.slice(0,2)?0==this.messageEn.length?(alert("No Data"),a=""):a=this.messageEn.find((t=>t.code===e.slice(1))).msg:alert("message error on 1st character, only allow e c b:"+e),a=a.replaceAll("@name",t.name),a=a.replaceAll("@project",this.camelize(t.project)),a=a.replaceAll("$phone",this.formatString(t.phoneNumber)),a},validateInput(e){return!!e&&(this.error=null,!0)},moveToNextContact(){let e=0;do{if(this.currentIndex++,this.currentIndex>=this.contacts.length&&(this.currentIndex=0,e++,e>=this.contacts.length))break}while("w"!==this.contacts[this.currentIndex].na1)},startProcessing(){this.currentIndex=0;let e=0;while("w"!==this.contacts[this.currentIndex].na1)if(this.moveToNextContact(),e++,e>=this.contacts.length)break},loadJSONFile(e){const t=e.target.files[0];if(!t)return void(this.error="Please select a file.");localStorage.removeItem("appData"),this.contacts=[];const a=new FileReader;a.onload=e=>{try{const t=JSON.parse(e.target.result);this.contacts=t.map(((e,t)=>({no:t+1,name:e.name?e.name.trim():"",language:e.language?e.language.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?String(e.email).trim():"",status:e.status?e.status.trim():"",date:e.date?e.date.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",doc:e.doc?e.doc.trim():"",called:e.called?String(e.called).trim():"0",contacted:e.contacted?String(e.contacted).trim():"0",occupation:e.occupation?e.occupation.trim():"",na1:e.na1?e.na1.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900",edit:!1,editField:""}))),this.contacts.sort(((e,t)=>e.phoneNumber<t.phoneNumber?-1:e.phoneNumber>t.phoneNumber?1:0)),this.resetJsonFileInput()}catch(t){console.error("Error parsing JSON file:",t),this.error="Error parsing JSON file.",this.resetJsonFileInput()}},a.onerror=e=>{console.error("Error reading file:",e),this.error="Error reading file."},a.readAsText(t)},formatPhoneNumber(e){return e.startsWith("@")?e:"@"+e},removeDuplicatePhoneNumbers(){const e=new Set;this.contacts=this.contacts.filter((t=>!(!t.phoneNumber||e.has(t.phoneNumber))&&(e.add(t.phoneNumber),!0)))},loadCSVFile(e){const t=e.target.files[0];if(!t)return void(this.error="Please select a file.");const a=new FileReader;a.onload=e=>{const t=e.target.result;Aa().parse(t,{header:!0,complete:e=>{const t=e.data.map(((e,t)=>({no:t+1,name:e.name?e.name.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?e.email.trim():"",status:e.status?e.status.trim():"",date:e.date?e.date.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",occupation:e.occupation?e.occupation.trim():"",na1:e.na1?e.na1.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900",edit:!1,editField:""})));this.promptUser(t),this.resetFileInput()},error:e=>{console.error("Error parsing CSV file:",e),this.error="Error parsing CSV file.",this.resetFileInput()}}),this.sortContactsAndNumber("project")},a.readAsText(t)},exportToCSV(){const e="source,project,name,phoneNumber,message,interaction,status,date,occupation,na1,email",t=this.contacts.map((e=>{const t=e.date?e.date.trim():"",a=t||(new Date).toLocaleDateString("en-CA");return`${e.source},${e.project},${e.name},${this.formattedPhoneNumber(e.phoneNumber)},${e.message},${e.interaction},${e.status},${a},${e.occupation},${e.na1},${e.message},${e.email}`})).join("\n"),a=`${e}\n${t}`,n=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),l=URL.createObjectURL(n);o.setAttribute("href",l),o.setAttribute("download","contacts.csv"),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)},resetFileInput(){this.$refs.fileInput.value=""},resetJsonFileInput(){this.$refs.jsonFileInput.value=""},promptUser(e){confirm('Do you want to overwrite the existing contacts? Click "OK" to overwrite, "Cancel" to append.')?this.contacts=e:this.contacts=[...this.contacts,...e]},exportToJSON(){const e=JSON.stringify(this.contacts,null,2),t=new Blob([e],{type:"application/json;charset=utf-8;"}),a=document.createElement("a"),n=URL.createObjectURL(t);a.setAttribute("href",n),a.setAttribute("download","contacts.json"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},editField(e,t){e.edit=!0,e.editField=t},saveField(e){e.edit=!1,e.editField=""}}};const Ha=(0,p.A)(Ba,[["render",Ia],["__scopeId","data-v-8a74691e"]]);var Xa=Ha;const qa=e=>((0,o.Qi)("data-v-f91fea18"),e=e(),(0,o.jt)(),e),Ja=qa((()=>(0,o.Lk)("h2",null,"Make Calls",-1))),Ka=qa((()=>(0,o.Lk)("strong",null,"User:",-1))),Ya=qa((()=>(0,o.Lk)("strong",null,"Name:",-1))),Qa=qa((()=>(0,o.Lk)("strong",null,"Status:",-1))),za=qa((()=>(0,o.Lk)("strong",null,"Interaction:",-1))),Za=qa((()=>(0,o.Lk)("strong",null,"Last Call:",-1))),Ga=qa((()=>(0,o.Lk)("strong",null,"Next Call:",-1))),en=qa((()=>(0,o.Lk)("strong",null,"Phone Number:",-1))),tn=qa((()=>(0,o.Lk)("strong",null,"No:",-1))),an=qa((()=>(0,o.Lk)("h2",null,"Contacts",-1))),nn=qa((()=>(0,o.Lk)("strong",null,"ID:",-1))),on=qa((()=>(0,o.Lk)("strong",null,"Name:",-1))),ln=qa((()=>(0,o.Lk)("strong",null,"Email:",-1)));function rn(e,t,a,n,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",null,[Ja,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.makeCalls,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("p",null,[Ka,(0,o.eW)(" "+(0,v.v_)(e.user),1)]),(0,o.Lk)("h1",null,[Ya,(0,o.eW)(" "+(0,v.v_)(e.name),1)]),(0,o.Lk)("p",null,[Qa,(0,o.eW)(" "+(0,v.v_)(e.status),1)]),(0,o.Lk)("h3",null,[za,(0,o.eW)(" "+(0,v.v_)(e.interaction),1)]),(0,o.Lk)("p",null,[Za,(0,o.eW)(" "+(0,v.v_)(e.lastCall),1)]),(0,o.Lk)("p",null,[Ga,(0,o.eW)(" "+(0,v.v_)(e.nextCall),1)]),(0,o.Lk)("p",null,[en,(0,o.eW)(" "+(0,v.v_)(e.phoneNumber),1)]),(0,o.Lk)("p",null,[tn,(0,o.eW)(" "+(0,v.v_)(e.no),1)])])))),128))])]),(0,o.Lk)("div",null,[an,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.contacts,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("p",null,[nn,(0,o.eW)(" "+(0,v.v_)(e.id),1)]),(0,o.Lk)("p",null,[on,(0,o.eW)(" "+(0,v.v_)(e.name),1)]),(0,o.Lk)("p",null,[ln,(0,o.eW)(" "+(0,v.v_)(e.email),1)])])))),128))])])])}var sn=a(6373),cn={name:"SocketComponent",setup(){const e={NODE_ENV:"production",VUE_APP_CLOUDINARY_URL:"cloudinary://534437115195651:zG55yScmwQDNzt_hlbJJCdt2vUI@alvin-tan",BASE_URL:"/list/"}.VUE_APP_SERVER_URL||"https://sp412b-763ef468411d.herokuapp.com/",t=(0,sn.io)(e),a=(0,u.KR)([]),n=(0,u.KR)([]),l=()=>{console.log("Socket connected!"),t.on("makeCall:create",(e=>{console.log("makeCall created!",e),a.value.push(e)})),t.on("makeCall:update",(e=>{console.log("makeCall updated!",e);const t=a.value.findIndex((t=>t.id===e.id));-1!==t?a.value[t]={...a.value[t],...e}:a.value.push(e)})),t.on("makeCall:delete",(e=>{console.log("makeCall deleted!",e),a.value=a.value.filter((t=>t.id!==e.id))})),t.on("contact:create",(e=>{console.log("contact created!",e),n.value.push(e)})),t.on("contact:update",(e=>{console.log("contact updated!",e);const t=n.value.findIndex((t=>t.id===e.id));-1!==t?n.value[t]={...n.value[t],...e}:n.value.push(e)})),t.on("contact:delete",(e=>{console.log("contact deleted!",e),n.value=n.value.filter((t=>t.id!==e.id))}))},i=()=>{console.log("Socket disconnected!")};return(0,o.sV)((()=>{console.log("start!"),t.on("connect",l),t.on("disconnect",i)})),(0,o.hi)((()=>{t.off("connect",l),t.off("disconnect",i),t.disconnect()})),{makeCalls:a,contacts:n}}};const un=(0,p.A)(cn,[["render",rn],["__scopeId","data-v-f91fea18"]]);var dn=un;const mn=[{path:"/main",name:"MainPage",component:qt,meta:{requiresAuth:!1}},{path:"/home",name:"HomePage",component:ft,meta:{requiresAuth:!1}},{path:"/soc",name:"SocketComponent",component:dn,meta:{requiresAuth:!1}},{path:"/",name:"ContactList",component:Xa,meta:{requiresAuth:!1}},{path:"/business",name:"BusinessPage",component:Tt,meta:{requiresAuth:!1}},{path:"/winback",name:"WinbackPage",component:Wt,meta:{requiresAuth:!1}},{path:"/about",name:"AboutPage",component:Ft,meta:{requiresAuth:!1}}],pn=(0,f.aE)({history:(0,f.Bt)(),routes:mn});pn.beforeEach(((e,t,a)=>{const n="true"===localStorage.getItem("authenticated");e.matched.some((e=>e.meta.requiresAuth))&&!n?a("/"):a()}));var gn=pn,hn=a(4825),fn=a(2938),vn=a(3379),bn=(a(5524),a(1193));const kn=(0,bn.$)({uri:"https://sp412b-763ef468411d.herokuapp.com/graphql"}),Cn=new xa.R({link:kn,cache:new Ra.D});(0,He._5)(Cn);const yn=(0,n.Ef)(h),wn=(0,hn.$N)({components:fn,directives:vn});yn.config.globalProperties.cleanPhoneNumber=function(e){return e.replace(/[\s-]/g,"")},yn.use(gn),yn.use(wn),yn.mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,l){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],l=e[u][2];for(var r=!0,s=0;s<n.length;s++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(r=!1,l<i&&(i=l));if(r){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[n,o,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var l=Object.create(null);a.r(l);var i={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},a.d(l,i),l}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{109:"f37ae12f",838:"93dcc815"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue5:";a.l=function(n,o,l,i){if(e[n])e[n].push(o);else{var r,s;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+l){r=d;break}}r||(s=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+l),r.src=n),e[n]=[o];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),s&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/list/"}(),function(){var e={524:0};a.f.j=function(t,n){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var l=new Promise((function(a,n){o=e[t]=[a,n]}));n.push(o[2]=l);var i=a.p+a.u(t),r=new Error,s=function(n){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var l=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+l+": "+i+")",r.name="ChunkLoadError",r.type=l,r.request=i,o[1](r)}};a.l(i,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,l,i=n[0],r=n[1],s=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(s)var u=s(a)}for(t&&t(n);c<i.length;c++)l=i[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},n=self["webpackChunkvue5"]=self["webpackChunkvue5"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(9998)}));n=a.O(n)})();
//# sourceMappingURL=app.ba245f4f.js.map