(function(){"use strict";var e={5467:function(e,t,a){var n=a(3751),i=a(641);const o=e=>((0,i.Qi)("data-v-1c6de13c"),e=e(),(0,i.jt)(),e),l=o((()=>(0,i.Lk)("img",{id:"scroll-to-section",class:"svg-icon",src:"img/Unifi-logo.svg",alt:"Unifi Home"},null,-1))),r=o((()=>(0,i.Lk)("span",null,"Home",-1))),s=o((()=>(0,i.Lk)("span",null,"About",-1)));function c(e,t,a,n,o,c){const u=(0,i.g2)("v-icon"),d=(0,i.g2)("v-btn"),m=(0,i.g2)("v-app-bar-nav-icon"),p=(0,i.g2)("v-toolbar-title"),g=(0,i.g2)("v-spacer"),h=(0,i.g2)("v-app-bar"),f=(0,i.g2)("v-list-item-icon"),v=(0,i.g2)("v-list-item-title"),b=(0,i.g2)("v-list-item"),k=(0,i.g2)("v-list-item-group"),y=(0,i.g2)("v-list"),C=(0,i.g2)("v-navigation-drawer"),F=(0,i.g2)("router-view"),w=(0,i.g2)("v-main"),I=(0,i.g2)("v-bottom-navigation"),L=(0,i.g2)("v-app");return(0,i.uX)(),(0,i.Wv)(L,null,{default:(0,i.k6)((()=>[(0,i.bF)(h,{app:"",color:"primary",dark:""},{default:(0,i.k6)((()=>[c.isSubPage?((0,i.uX)(),(0,i.Wv)(d,{key:0,onClick:c.goBack,icon:""},{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-arrow-left")])),_:1})])),_:1},8,["onClick"])):((0,i.uX)(),(0,i.Wv)(m,{key:1,onClick:t[0]||(t[0]=e=>o.drawer=!o.drawer)})),(0,i.bF)(p,null,{default:(0,i.k6)((()=>[l])),_:1}),(0,i.bF)(g),n.authStore.isAuthenticated?((0,i.uX)(),(0,i.Wv)(d,{key:2,onClick:c.logout,icon:""},{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-logout")])),_:1})])),_:1},8,["onClick"])):(0,i.Q3)("",!0)])),_:1}),(0,i.bF)(C,{modelValue:o.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>o.drawer=e),app:"",temporary:""},{default:(0,i.k6)((()=>[(0,i.bF)(y,{nav:""},{default:(0,i.k6)((()=>[n.authStore.isAuthenticated?((0,i.uX)(),(0,i.Wv)(k,{key:0},{default:(0,i.k6)((()=>[(0,i.bF)(b,{to:"/home",exact:""},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-home")])),_:1})])),_:1}),(0,i.bF)(v,null,{default:(0,i.k6)((()=>[(0,i.eW)("Home")])),_:1})])),_:1}),(0,i.bF)(b,{to:"/about",exact:""},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-information")])),_:1})])),_:1}),(0,i.bF)(v,null,{default:(0,i.k6)((()=>[(0,i.eW)("About")])),_:1})])),_:1})])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(b,{to:"/",exact:""},{default:(0,i.k6)((()=>[(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-login")])),_:1})])),_:1}),(0,i.bF)(v,null,{default:(0,i.k6)((()=>[(0,i.eW)("Login")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.bF)(w,null,{default:(0,i.k6)((()=>[(0,i.bF)(F)])),_:1}),n.authStore.isAuthenticated?((0,i.uX)(),(0,i.Wv)(I,{key:0,app:""},{default:(0,i.k6)((()=>[(0,i.bF)(d,{to:"/home",exact:""},{default:(0,i.k6)((()=>[r,(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-home")])),_:1})])),_:1}),(0,i.bF)(d,{to:"/about",exact:""},{default:(0,i.k6)((()=>[s,(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-information")])),_:1})])),_:1})])),_:1})):(0,i.Q3)("",!0)])),_:1})}a(4114);var u=a(953);const d=(0,u.Kh)({isAuthenticated:"true"===localStorage.getItem("authenticated"),login(){this.isAuthenticated=!0,localStorage.setItem("authenticated","true")},logout(){this.isAuthenticated=!1,localStorage.removeItem("authenticated")}});var m={name:"App",setup(){return{authStore:d}},components:{},data(){return{drawer:!1,pageTitle:"My Image Slider",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"WINBACK",route:"/winback"},{src:"img/2.png",category:"BUSINESS",route:"/business"}]}},computed:{filteredImages(){return this.imagesArray},isSubPage(){const e=["/"];return!e.includes(this.$route.path)}},methods:{goBack(){this.$router.go(-1)},logout(){this.authStore.logout(),this.$router.push({name:"Login"})}},watch:{$route(e,t){console.log("Route changed from",t.path,"to",e.path)}}},p=a(6262);const g=(0,p.A)(m,[["render",c],["__scopeId","data-v-1c6de13c"]]);var h=g,f=a(6166),v=a(33);const b={class:"header"},k={class:"page-title"};function y(e,t,a,n,o,l){const r=(0,i.g2)("MySelector"),s=(0,i.g2)("MyPackage"),c=(0,i.g2)("MyReg"),u=(0,i.g2)("LaunchButton"),d=(0,i.g2)("tmReg"),m=(0,i.g2)("ImageUpLoader"),p=(0,i.g2)("CameraCapture");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",b,[(0,i.Lk)("h1",k,(0,v.v_)(o.pageTitle),1)]),(0,i.bF)(r,{plans:o.filteredPlans},null,8,["plans"]),(0,i.bF)(s,{pageTitle:o.pageTitle,plans:o.filteredPlans},null,8,["pageTitle","plans"]),(0,i.bF)(c),o.showLaunchButton?((0,i.uX)(),(0,i.Wv)(u,{key:0})):(0,i.Q3)("",!0),(0,i.bF)(d,{project:o.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,i.bF)(m),(0,i.bF)(p)])}const C={key:0},F={key:1},w=["href"],I={key:2};function L(e,t,a,n,o,l){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>l.onFileChange&&l.onFileChange(...e))},null,32),(0,i.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.uploadImage&&l.uploadImage(...e))},"Upload"),o.uploading?((0,i.uX)(),(0,i.CE)("p",C,"Uploading...")):(0,i.Q3)("",!0),o.imageUrl?((0,i.uX)(),(0,i.CE)("p",F,[(0,i.eW)("Image URL: "),(0,i.Lk)("a",{href:o.imageUrl,target:"_blank"},(0,v.v_)(o.imageUrl),9,w)])):(0,i.Q3)("",!0),o.error?((0,i.uX)(),(0,i.CE)("p",I,(0,v.v_)(o.error),1)):(0,i.Q3)("",!0)])}var R=a(4335),x={name:"ImageUploader",data(){return{file:null,imageUrl:"",uploading:!1,error:""}},methods:{onFileChange(e){this.file=e.target.files[0]},async uploadImage(){if(!this.file)return void(this.error="Please select an image file first.");this.uploading=!0,this.error="";const e=new FormData;e.append("file",this.file),e.append("upload_preset","telco_unifi");try{const t=await R.A.post("https://api.cloudinary.com/v1_1/alvin-tan/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}});this.imageUrl=t.data.secure_url}catch(t){t.response&&400===t.response.status?this.error="Bad Request: "+(t.response.data.error.message||"Invalid request parameters"):this.error="Error uploading image: "+t.message,console.error("Error uploading image:",t.response?t.response.data:t.message)}finally{this.uploading=!1}}}};const U=(0,p.A)(x,[["render",L],["__scopeId","data-v-4280697f"]]);var E=U;function S(e,t,a,n,o,l){return(0,i.uX)(),(0,i.CE)("button",{onClick:t[0]||(t[0]=(...e)=>n.goToAdContacts&&n.goToAdContacts(...e))},"View Ad Contacts")}var M={name:"LaunchButton",setup(){const e=(0,f.rd)(),t=()=>{e.push("/ad-contacts")};return{goToAdContacts:t}}};const N=(0,p.A)(M,[["render",S],["__scopeId","data-v-3c496bee"]]);var _=N;const T={class:"pricing-container"},O=["id"],P={class:"pricing-table"},$={class:"pricing-card"},A={class:"pricing-details"},D={key:0},V={class:"image-and-text"},B=["src","alt"],W={key:1},j={class:"svg-and-text"},H=["innerHTML"],X={key:2},q={key:3},J={class:"pricing-info"},K={class:"pricing-content"},Q={class:"pricing-action"},z=["onClick"];function Y(e,t,a,n,o,l){return(0,i.uX)(),(0,i.CE)("div",T,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.plans,((e,t)=>((0,i.uX)(),(0,i.CE)("section",{key:t,id:"pricing-section-"+(t+1),class:"pricing-section"},[(0,i.Lk)("div",P,[(0,i.Lk)("div",$,[(0,i.Lk)("div",A,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.features,((t,a)=>((0,i.uX)(),(0,i.CE)("div",{key:a},[l.isImage(t)?((0,i.uX)(),(0,i.CE)("div",D,[(0,i.Lk)("div",V,[(0,i.Lk)("img",{src:l.getImagePath(t).src,alt:e.title+" feature image",style:(0,v.Tr)(l.getImageStyle(t)),class:"feature-image"},null,12,B),(0,i.Lk)("h2",null,(0,v.v_)(l.getImagePath(t).text),1)])])):l.isSvg(t)?((0,i.uX)(),(0,i.CE)("div",W,[(0,i.Lk)("div",j,[(0,i.Lk)("div",{innerHTML:l.getSvgContent(t).svg},null,8,H),(0,i.Lk)("span",null,(0,v.v_)(l.getSvgContent(t).text),1)])])):l.isHtmlTag(t)?((0,i.uX)(),(0,i.CE)("div",X,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(l.getHtmlTagName(t)),null,{default:(0,i.k6)((()=>[(0,i.eW)((0,v.v_)(l.getHtmlTagContent(t)),1)])),_:2},1024))])):((0,i.uX)(),(0,i.CE)("div",q,(0,v.v_)(t),1))])))),128)),(0,i.Lk)("div",J,[(0,i.Lk)("p",null,(0,v.v_)(e.promo),1),(0,i.Lk)("p",null,(0,v.v_)(e.price),1)]),(0,i.Lk)("div",K,[(0,i.Lk)("p",null,(0,v.v_)(e.extra),1)]),(0,i.Lk)("div",Q,[(0,i.Lk)("button",{class:"apply-now-btn",onClick:t=>l.fillPackageName(e.title)},"Apply Now",8,z)])])])])],8,O)))),128))])}var Z={name:"MyPackage",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{fillPackageName(e){console.log(e),this.packageName=e,document.getElementById("registration-form").scrollIntoView({behavior:"smooth"})},isImage(e){return e.startsWith("image:")},getImagePath(e){const t=e.split(","),a=t[0].split("image:")[1].trim(),n=t[3]?t[3].trim():"";return{src:a,text:n}},getImageStyle(e){const t=e.split(","),a=t[1]?t[1].split("=")[1].trim()+"px":"auto",n=t[2]?t[2].split("=")[1].trim()+"px":"auto";return{width:a,height:n}},isSvg(e){return e.startsWith("svg:")},getSvgContent(e){const[t,...a]=e.split("svg:")[1].split(","),n=t.trim(),i=a.shift().trim();return{svg:`<svg ${n}>${i}</svg>`,text:a.join(",").trim()}},isHtmlTag(e){return e.match(/^[a-zA-Z0-9]+:/)},getHtmlTagName(e){return e.split(":")[0]},getHtmlTagContent(e){return e.split(":")[1].trim()}}};const G=(0,p.A)(Z,[["render",Y]]);var ee=G;const te={class:"container"},ae={class:"selector-wrapper"},ne=["src","alt","onClick"],ie=["value"],oe=(0,i.Lk)("span",{class:"sd-tick"},null,-1),le={class:"selector-title"},re=(0,i.Lk)("div",{class:"device-pair txt-small d-none"}," Pair with your Unifi subscription ",-1);function se(e,t,a,o,l,r){return(0,i.uX)(),(0,i.CE)("div",te,[(0,i.Lk)("div",ae,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.plans,((a,o)=>((0,i.uX)(),(0,i.CE)("label",{key:o,class:"sd-label selector-label"},[(0,i.Lk)("img",{class:"svg-icon",src:a.image,alt:a.title,onClick:e=>r.scrollToSection("pricing-section-"+(o+1))},null,8,ne),(0,i.bo)((0,i.Lk)("input",{type:"radio",class:"sd-radio",name:"plan",value:a.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedPlan=t)},null,8,ie),[[n.XL,e.selectedPlan]]),oe,(0,i.Lk)("div",le,(0,v.v_)(a.price),1)])))),128)),re])])}var ce={name:"MySelector",props:{pageTitle:{type:String,default:""},plans:{type:Array,required:!0}},methods:{scrollToSection(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})}}};const ue=(0,p.A)(ce,[["render",se]]);var de=ue;const me=e=>((0,i.Qi)("data-v-202c1f5f"),e=e(),(0,i.jt)(),e),pe=me((()=>(0,i.Lk)("h1",{id:"registration-form"},"Registration Form",-1))),ge={class:"form-container"},he=me((()=>(0,i.Lk)("h3",null,"Fill up your details and we would be delighted to assist you",-1))),fe={class:"form-group"},ve={key:0,for:"project"},be={class:"form-group"},ke={key:0,for:"name"},ye={class:"form-group"},Ce={key:0,for:"phone"},Fe={class:"form-group"},we={key:0,for:"email"},Ie={class:"form-group"},Le={key:0,for:"address"},Re={class:"form-group"},xe={key:0,for:"message"},Ue=me((()=>(0,i.Lk)("label",{for:"appointmentDate"},"Installation Schedule:",-1))),Ee={class:"form-group"},Se={class:"form-row"},Me={class:"form-group"},Ne=me((()=>(0,i.Lk)("label",{for:"preferredInstallationDate"},"Preferred Installation Date (dd/mm/yyyy):",-1))),_e={class:"form-group"},Te=me((()=>(0,i.Lk)("label",{for:"nationality"},"Nationality:",-1))),Oe={class:"form-group"},Pe=me((()=>(0,i.Lk)("label",{for:"icFront"},"IC Front:",-1))),$e={class:"form-group"},Ae=me((()=>(0,i.Lk)("label",{for:"icBack"},"IC Back:",-1))),De={class:"form-group"},Ve=me((()=>(0,i.Lk)("label",{for:"utilityBills"},"Utility Bills (Electric or Water):",-1))),Be=["disabled"],We=me((()=>(0,i.Lk)("br",null,null,-1)));function je(e,t,a,o,l,r){const s=(0,i.g2)("popUp2"),c=(0,i.g2)("TermsConditions");return(0,i.uX)(),(0,i.CE)(i.FK,null,[pe,(0,i.Lk)("div",ge,[he,(0,i.Lk)("form",{onSubmit:t[15]||(t[15]=(0,n.D$)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,i.Lk)("div",fe,[o.localPackage?((0,i.uX)(),(0,i.CE)("label",ve,"Package Name:")):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"text",id:"package","onUpdate:modelValue":t[0]||(t[0]=e=>o.localPackage=e),name:"package-name",placeholder:"Package*",required:""},null,512),[[n.Jo,o.localPackage]])]),(0,i.Lk)("div",be,[o.name?((0,i.uX)(),(0,i.CE)("label",ke,"Name:")):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>o.name=e),placeholder:"Name*",required:""},null,512),[[n.Jo,o.name]])]),(0,i.Lk)("div",ye,[o.phone?((0,i.uX)(),(0,i.CE)("label",Ce,"Phone:")):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"tel",id:"phone","onUpdate:modelValue":t[2]||(t[2]=t=>e.formattedPhone=t),onInput:t[3]||(t[3]=(...e)=>o.formatPhone&&o.formatPhone(...e)),placeholder:"Phone*",required:""},null,544),[[n.Jo,e.formattedPhone]])]),(0,i.Lk)("div",Fe,[o.email?((0,i.uX)(),(0,i.CE)("label",we,"Email:")):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>o.email=e),placeholder:"Email*",required:""},null,512),[[n.Jo,o.email]])]),(0,i.Lk)("div",Ie,[o.address?((0,i.uX)(),(0,i.CE)("label",Le,"Installation Address:")):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"text",id:"address","onUpdate:modelValue":t[5]||(t[5]=e=>o.address=e),placeholder:"Installation Address*",required:""},null,512),[[n.Jo,o.address]])]),(0,i.Lk)("div",Re,[o.message?((0,i.uX)(),(0,i.CE)("label",xe,"Additional Info:")):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("textarea",{class:"white-text",id:"message","onUpdate:modelValue":t[6]||(t[6]=e=>o.message=e),placeholder:"Additional Info*",required:""},null,512),[[n.Jo,o.message]])]),Ue,(0,i.Lk)("div",Ee,[(0,i.Lk)("div",Se,[(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"date",id:"appointmentDate","onUpdate:modelValue":t[7]||(t[7]=e=>o.appointmentDate=e),placeholder:"Appointment Date*",required:""},null,512),[[n.Jo,o.appointmentDate]]),(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"time",id:"appointmentTime","onUpdate:modelValue":t[8]||(t[8]=e=>o.appointmentTime=e),placeholder:"Appointment Time*",required:""},null,512),[[n.Jo,o.appointmentTime]])])]),(0,i.Lk)("div",Me,[Ne,(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"text",id:"preferredInstallationDate","onUpdate:modelValue":t[9]||(t[9]=e=>o.preferredInstallationDate=e),placeholder:"Preferred Installation Date*",required:""},null,512),[[n.Jo,o.preferredInstallationDate]])]),(0,i.Lk)("div",_e,[Te,(0,i.bo)((0,i.Lk)("input",{class:"white-text",type:"text",id:"nationality","onUpdate:modelValue":t[10]||(t[10]=e=>o.nationality=e),placeholder:"Nationality*",required:""},null,512),[[n.Jo,o.nationality]])]),(0,i.Lk)("div",Oe,[Pe,(0,i.Lk)("input",{type:"file",id:"icFront",onChange:t[11]||(t[11]=e=>o.handleFileUpload(e,"icFront")),required:""},null,32),(0,i.Lk)("p",null,(0,v.v_)(o.icFrontName||"No file chosen"),1)]),(0,i.Lk)("div",$e,[Ae,(0,i.Lk)("input",{type:"file",id:"icBack",onChange:t[12]||(t[12]=e=>o.handleFileUpload(e,"icBack")),required:""},null,32),(0,i.Lk)("p",null,(0,v.v_)(o.icBackName||"No file chosen"),1)]),(0,i.Lk)("div",De,[Ve,(0,i.Lk)("input",{type:"file",id:"utilityBills",onChange:t[13]||(t[13]=e=>o.handleFileUpload(e,"utilityBills")),required:""},null,32),(0,i.Lk)("p",null,(0,v.v_)(o.utilityBillsName||"No file chosen"),1)]),(0,i.bF)(s,{"is-visible":o.showModal,"modal-message":o.modalMessage,onClose:t[14]||(t[14]=e=>o.showModal=!1)},null,8,["is-visible","modal-message"]),(0,i.Lk)("button",{type:"submit",class:"submit-button white-text",disabled:o.formSubmitted},(0,v.v_)(o.formSubmitted?"Submitting...":"Yes! Contact Me Now"),9,Be)],32),We,(0,i.bF)(c)]),(0,i.bF)(s,{"is-visible":o.showModal,"modal-message":o.modalMessage,onClose:t[16]||(t[16]=e=>o.showModal=!1)},null,8,["is-visible","modal-message"])],64)}var He=a(1186),Xe=a(6679);const qe={key:0,class:"modal"},Je={class:"modal-content"};function Ke(e,t,a,n,o,l){return a.isVisible?((0,i.uX)(),(0,i.CE)("div",qe,[(0,i.Lk)("div",Je,[(0,i.Lk)("span",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),(0,i.Lk)("p",null,(0,v.v_)(a.modalMessage),1)])])):(0,i.Q3)("",!0)}var Qe={name:"popUp2",props:{isVisible:{type:Boolean,required:!0},modalMessage:{type:String,required:!0}},emits:["close"]};const ze=(0,p.A)(Qe,[["render",Ke],["__scopeId","data-v-4f7ce36e"]]);var Ye=ze,Ze={name:"tmReg",components:{popUp2:Ye},props:{project:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,u.KR)(e.project),n=(0,u.KR)(""),o=(0,u.KR)(!1),l=(0,u.KR)(!1),r=(0,u.KR)(""),s=(0,u.KR)(""),c=(0,u.KR)(""),d=(0,u.KR)(""),m=(0,u.KR)(""),p=(0,u.KR)(""),g=(0,u.KR)(""),h=(0,u.KR)(""),f=(0,u.KR)(""),v=(0,u.KR)(""),b=(0,u.KR)(null),k=(0,u.KR)(null),y=(0,u.KR)(null),C=(0,u.KR)(""),F=(0,u.KR)(""),w=(0,u.KR)(""),I=(0,u.KR)(""),L=e=>{const t=e.target,a=t.value.replace(/\D/g,"").substring(0,10),n=a.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");t.value=n,c.value=a};(0,i.wB)((()=>e.project),(e=>{a.value=e}));const R=(e,t)=>{const a=e.target.files[0];"icFront"===t?(b.value=a,C.value=a.name):"icBack"===t?(k.value=a,F.value=a.name):"utilityBills"===t&&(y.value=a,w.value=a.name)},x=()=>{t("close")},U=Xe.J1`
      query ($phone: String) {
        contacts(filters: { phone: { eq: $phone } }) {
          data {
            id
            attributes {
              name
              phone
            }
          }
        }
      }
    `,E=Xe.J1`
  mutation AddContact($name: String!, $project: String!, $email: String!,$package:String!,
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  createContact(data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}
 `,S=Xe.J1`
     mutation UpdateContact($id: ID!, $name: String!, $project: String!, $email: String!, $package: String!, 
  $phone: String!, $address: String!, $message: String!, $PreferredInstallationDate: String!, 
  $Nationality: String!, $ICFrontURL: String!, $ICBackURL: String!, $UtilityBillURL: String!) {
  updateContact(id: $id, data: { 
    project: $project, 
    package: $package,
    name: $name, 
    email: $email, 
    phone: $phone, 
    installationAddress: $address, 
    message: $message, 
    PreferredInstallationDate: $PreferredInstallationDate, 
    Nationality: $Nationality, 
    ICFrontURL: $ICFrontURL, 
    ICBackURL: $ICBackURL, 
    UtilityBillURL: $UtilityBillURL 
  }) {
    data {
      id
      attributes {
        project
        package
        name
        phone
        IC
        email
        installationAddress
        billingAddress
        message
        PreferredInstallationDate
        Nationality
        ICFrontURL
        ICBackURL
        UtilityBillURL 
      }
    }
  }
}

    `,{mutate:M}=(0,He.n_)(E),{mutate:N}=(0,He.n_)(S),{refetch:_,loading:T,error:O}=(0,He.IT)(U,{variables:{phone:c.value},skip:!0}),P=async()=>{o.value=!0;try{const{data:e}=await _({phone:c.value});if(O.value)return void console.error("Error fetching contact:",O.value);if(T.value)return void console.log("Waiting for contact check...");if(!e.contacts.data||0===e.contacts.data.length){console.log("Contact does not exist. Creating new contact.");const e=await M({package:n.value,project:a.value,name:s.value,phone:c.value,email:d.value,address:m.value,message:p.value,PreferredInstallationDate:f.value,Nationality:v.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});return console.log("Create Success:",e),o.value=!1,l.value=!0,void(r.value="Record created.")}const t=e.contacts.data[0];console.log("Contact exists. Updating contact with ID:",t.id);const i=await N({id:t.id,project:a.value,package:n.value,name:s.value,phone:c.value,email:d.value,address:m.value,message:p.value,PreferredInstallationDate:f.value,Nationality:v.value,ICFrontURL:"icFront.value",ICBackURL:"icBack.value",UtilityBillURL:"utilityBillURL.value"});console.log("Update Success:",i),o.value=!1,l.value=!0,r.value="Record updated."}catch(e){o.value=!1,console.error("Error:",e)}};return{localPackage:n,localProject:a,name:s,phone:c,email:d,address:m,message:p,appointmentDate:g,appointmentTime:h,preferredInstallationDate:f,nationality:v,icFront:b,icBack:k,utilityBills:y,icFrontName:C,icBackName:F,utilityBillsName:I,formSubmitted:o,submitForm:P,formatPhone:L,showModal:l,modalMessage:r,close:x,handleFileUpload:R}}};const Ge=(0,p.A)(Ze,[["render",je],["__scopeId","data-v-202c1f5f"]]);var et=Ge;const tt=e=>((0,i.Qi)("data-v-1355d3ea"),e=e(),(0,i.jt)(),e),at={class:"camera-capture"},nt={key:0},it={ref:"video",autoplay:"",playsinline:""},ot={ref:"canvas",style:{display:"none"}},lt=["src"],rt={key:1},st=tt((()=>(0,i.Lk)("p",null,"Your device does not support camera access.",-1))),ct=[st];function ut(e,t,a,n,o,l){return(0,i.uX)(),(0,i.CE)("div",at,[o.hasMediaDevices?((0,i.uX)(),(0,i.CE)("div",nt,[(0,i.Lk)("video",it,null,512),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.takePicture&&l.takePicture(...e))},"Take Picture"),(0,i.Lk)("canvas",ot,null,512),o.imageData?((0,i.uX)(),(0,i.CE)("img",{key:0,src:o.imageData,alt:"Captured Image"},null,8,lt)):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",rt,ct))])}var dt={name:"CameraCapture",data(){return{hasMediaDevices:!1,imageData:null}},mounted(){this.initializeCamera()},methods:{async initializeCamera(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){this.hasMediaDevices=!0;try{const e=await navigator.mediaDevices.getUserMedia({video:!0});this.$refs.video.srcObject=e}catch(e){console.error("Error accessing camera:",e),this.hasMediaDevices=!1}}else this.hasMediaDevices=!1},takePicture(){const e=this.$refs.canvas,t=this.$refs.video;e.width=t.videoWidth,e.height=t.videoHeight;const a=e.getContext("2d");a.drawImage(t,0,0,e.width,e.height),this.imageData=e.toDataURL("image/png")}}};const mt=(0,p.A)(dt,[["render",ut],["__scopeId","data-v-1355d3ea"]]);var pt=mt,gt={components:{CameraCapture:pt,ImageUpLoader:E,tmReg:et,MyPackage:ee,MySelector:de,LaunchButton:_},created(){this.paramValue=this.$route.query.param||"HOME",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const ht=(0,p.A)(gt,[["render",y]]);var ft=ht;const vt=e=>((0,i.Qi)("data-v-d1f5a34e"),e=e(),(0,i.jt)(),e),bt=vt((()=>(0,i.Lk)("h1",{class:"title"},"About Page",-1))),kt=vt((()=>(0,i.Lk)("p",null,"This is the about page of the application.",-1)));function yt(e,t,a,n,o,l){const r=(0,i.g2)("v-col"),s=(0,i.g2)("v-row"),c=(0,i.g2)("v-container"),u=(0,i.g2)("v-main"),d=(0,i.g2)("v-app");return(0,i.uX)(),(0,i.Wv)(d,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(c,null,{default:(0,i.k6)((()=>[(0,i.bF)(s,null,{default:(0,i.k6)((()=>[(0,i.bF)(r,null,{default:(0,i.k6)((()=>[bt,kt])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var Ct={name:"AboutPage"};const Ft=(0,p.A)(Ct,[["render",yt],["__scopeId","data-v-d1f5a34e"]]);var wt=Ft;const It={class:"header"},Lt={class:"page-title"};function Rt(e,t,a,n,o,l){const r=(0,i.g2)("MySlider"),s=(0,i.g2)("MySelector"),c=(0,i.g2)("MyPackage"),u=(0,i.g2)("MyReg"),d=(0,i.g2)("LaunchButton"),m=(0,i.g2)("tmReg"),p=(0,i.g2)("ImageUpLoader"),g=(0,i.g2)("CameraCapture");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",It,[(0,i.Lk)("h1",Lt,(0,v.v_)(o.pageTitle),1)]),(0,i.bF)(r,{pageTitle:o.pageTitle,images:o.filteredImages},null,8,["pageTitle","images"]),(0,i.bF)(s,{plans:o.filteredPlans},null,8,["plans"]),(0,i.bF)(c,{pageTitle:o.pageTitle,plans:o.filteredPlans},null,8,["pageTitle","plans"]),(0,i.bF)(u),o.showLaunchButton?((0,i.uX)(),(0,i.Wv)(d,{key:0})):(0,i.Q3)("",!0),(0,i.bF)(m,{project:o.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,i.bF)(p),(0,i.bF)(g)])}const xt={class:"slider-container"},Ut=["src","alt"],Et=["onClick"];function St(e,t,a,n,o,l){return(0,i.uX)(),(0,i.CE)("div",xt,[(0,i.Lk)("div",{class:"slider-wrapper",style:(0,v.Tr)({transform:`translateX(-${100*o.currentIndex}%)`})},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.images,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{class:"slider-slide",key:t},[(0,i.Lk)("img",{src:e.src,alt:`Slide ${t+1}`,style:{width:"100%"}},null,8,Ut),(0,i.Lk)("button",{class:"navigate-btn",onClick:t=>l.navigateTo(e.route,e.category)}," Go to "+(0,v.v_)(e.route),9,Et)])))),128))],4),(0,i.Lk)("button",{class:"prev-btn",onClick:t[0]||(t[0]=(...e)=>l.prevSlide&&l.prevSlide(...e))},"❮"),(0,i.Lk)("button",{class:"next-btn",onClick:t[1]||(t[1]=(...e)=>l.nextSlide&&l.nextSlide(...e))},"❯")])}var Mt={name:"MySlider",props:{pageTitle:{type:String,default:""},images:{type:Array,required:!0}},data(){return{currentIndex:0,intervalId:null}},mounted(){this.startAutoPlay()},beforeUnmount(){this.stopAutoPlay()},methods:{startAutoPlay(){},stopAutoPlay(){clearInterval(this.intervalId)},prevSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length,this.startAutoPlay()},nextSlide(){this.stopAutoPlay(),this.currentIndex=(this.currentIndex+1)%this.images.length,this.startAutoPlay()},navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Nt=(0,p.A)(Mt,[["render",St],["__scopeId","data-v-e5bf1dc2"]]);var _t=Nt,Tt={components:{CameraCapture:pt,ImageUpLoader:E,tmReg:et,MySlider:_t,MyPackage:ee,MySelector:de,LaunchButton:_},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const Ot=(0,p.A)(Tt,[["render",Rt]]);var Pt=Ot;const $t={class:"header"},At={class:"page-title"};function Dt(e,t,a,n,o,l){const r=(0,i.g2)("MySlider"),s=(0,i.g2)("MySelector"),c=(0,i.g2)("MyPackage"),u=(0,i.g2)("MyReg"),d=(0,i.g2)("LaunchButton"),m=(0,i.g2)("tmReg"),p=(0,i.g2)("ImageUpLoader"),g=(0,i.g2)("CameraCapture");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",$t,[(0,i.Lk)("h1",At,(0,v.v_)(o.pageTitle),1)]),(0,i.bF)(r,{pageTitle:o.pageTitle,images:o.filteredImages},null,8,["pageTitle","images"]),(0,i.bF)(s,{plans:o.filteredPlans},null,8,["plans"]),(0,i.bF)(c,{pageTitle:o.pageTitle,plans:o.filteredPlans},null,8,["pageTitle","plans"]),(0,i.bF)(u),o.showLaunchButton?((0,i.uX)(),(0,i.Wv)(d,{key:0})):(0,i.Q3)("",!0),(0,i.bF)(m,{project:o.paramValue,onClose:t[0]||(t[0]=t=>e.showRegistration=!1)},null,8,["project"]),(0,i.bF)(p),(0,i.bF)(g)])}var Vt={components:{CameraCapture:pt,ImageUpLoader:E,tmReg:et,MySlider:_t,MyPackage:ee,MySelector:de,LaunchButton:_},created(){this.paramValue=this.$route.query.param||"Default Title",this.pageTitle=this.paramValue,console.log("Received parameter:",this.paramValue),this.filterPlans(this.paramValue),this.filterImages(this.paramValue)},data(){return{showLaunchButton:!1,pageTitle:"",paramValue:"",imagesArray:[{src:"img/UniVerse.jpg",category:"HOME",route:"/home"},{src:"img/3.png",category:"HOME",route:"/winback"},{src:"img/2.png",category:"HOME",route:"/business"},{src:"img/4.png",category:"BUSINESS",route:"/business"},{src:"img/5.png",category:"BUSINESS",route:"/business"}],plansArray:[{category:"HOME",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi Home 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 300Mbps",image:"img/unifihome1b.svg",price:"RM 129",features:["h2: Unifi Home 300Mbps","Unlimited Data","Download speed: 300mbps","Upload speed: 150mbps","Recommended for 5 - 8 users on up to 10 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM129/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"HOME",title:"Unifi Home 500Mbps",image:"img/unifihome1b.svg",price:"RM 149",features:["h2: Unifi Home 500Mbps","Unlimited Data","Download speed: 500mbps","Upload speed: 250mbps","Recommended for 8 - 10 users on up to 15 devices","Free Wi-Fi 6 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png, width=100, height=100, Free Internet!","PROMO: 1 MONTH FREE","RM189/Month","FREE Wi-Fi 6 CERTIFIED ROUTER"]},{category:"BUSINESS",title:"Unifi Home 100Mbps",image:"img/unifihome1a.svg",price:"RM 89",features:["image: img/unifihome1a.svg, width=100, height=100, Unifi BUSINESS 100Mbps","Unlimited Data",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,Download speed: 100mbps',"Upload speed: 50mbps","Recommended for 2 - 3 users on up to 5 devices","Free Wi-Fi 5 router","Voice call flat rate 20 sen/min to all lines","24 months contract","Add On RM28/Month For Netflix","image: img/freeInternet.png","PROMO: 1 MONTH FREE",'svg:width="20" height="20",<circle cx="10" cy="10" r="8" stroke="green" stroke-width="4" fill="yellow" />,RM89/Month',"FREE Wi-Fi 5 CERTIFIED ROUTER"]}],filteredPlans:[],filteredImages:[]}},methods:{goBack(){this.$router.go(-1)},filterPlans(e){this.filteredPlans=this.plansArray.filter((t=>t.category===e))},filterImages(e){this.filteredImages=this.imagesArray.filter((t=>t.category===e))}}};const Bt=(0,p.A)(Vt,[["render",Dt]]);var Wt=Bt;function jt(e,t,a,n,o,l){const r=(0,i.g2)("v-col"),s=(0,i.g2)("v-row"),c=(0,i.g2)("v-container");return(0,i.uX)(),(0,i.Wv)(c,{fluid:"",class:"d-flex align-center justify-center",style:{height:"100vh"}},{default:(0,i.k6)((()=>[(0,i.bF)(s,{justify:"center",align:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{cols:"12",sm:"8"})])),_:1})])),_:1})}var Ht={name:"MainPage",data(){return{images:[{src:"img/UniVerse.jpg",alt:"Image 1",route:"/home",param:"HOME"},{src:"img/switch.png",alt:"Image 3",route:"/home",param:"WIN BACK"},{src:"img/business.jpeg",alt:"Image 2",route:"/home",param:"BUSINESS"}]}},methods:{navigateTo(e,t){this.$router.push({path:e,query:{param:t}})}}};const Xt=(0,p.A)(Ht,[["render",jt],["__scopeId","data-v-58c60cfa"]]);var qt=Xt;const Jt=e=>((0,i.Qi)("data-v-a6fbc988"),e=e(),(0,i.jt)(),e),Kt={class:"fixed-header"},Qt=Jt((()=>(0,i.Lk)("br",null,null,-1))),zt=Jt((()=>(0,i.Lk)("br",null,null,-1))),Yt=Jt((()=>(0,i.Lk)("h3",null,"v1.00",-1))),Zt={width:"8%"},Gt={style:{"font-size":"18px","font-weight":"bold"}},ea={style:{"font-size":"18px","font-weight":"bold"}},ta=["onUpdate:modelValue"],aa=["onUpdate:modelValue"],na={style:{color:"blue"}},ia=Jt((()=>(0,i.Lk)("br",null,null,-1))),oa=Jt((()=>(0,i.Lk)("br",null,null,-1))),la=Jt((()=>(0,i.Lk)("br",null,null,-1))),ra=Jt((()=>(0,i.Lk)("br",null,null,-1))),sa=Jt((()=>(0,i.Lk)("br",null,null,-1))),ca=Jt((()=>(0,i.Lk)("br",null,null,-1))),ua=Jt((()=>(0,i.Lk)("br",null,null,-1))),da=Jt((()=>(0,i.Lk)("br",null,null,-1))),ma=Jt((()=>(0,i.Lk)("br",null,null,-1))),pa=Jt((()=>(0,i.Lk)("h3",null,"Load JSON",-1))),ga=Jt((()=>(0,i.Lk)("h3",null,"Load CSV",-1))),ha={key:0,class:"error"},fa={class:"button-container"},va=["onClick"],ba=["onUpdate:modelValue"],ka=["onUpdate:modelValue"],ya=["onUpdate:modelValue"],Ca=["onUpdate:modelValue"],Fa=["onUpdate:modelValue"],wa=["onUpdate:modelValue"],Ia=["onUpdate:modelValue"],La=["onUpdate:modelValue"],Ra=["onUpdate:modelValue"],xa=Jt((()=>(0,i.Lk)("option",{value:""},"Select a date",-1))),Ua=["value"],Ea=["onUpdate:modelValue"],Sa=Jt((()=>(0,i.Lk)("option",{value:""},"Select a date",-1))),Ma=["value"],Na={width:"18%",style:{"font-size":"12px"}},_a=["onUpdate:modelValue"];function Ta(e,t,a,o,l,r){const s=(0,i.g2)("v-icon"),c=(0,i.g2)("v-btn"),u=(0,i.g2)("v-col"),d=(0,i.g2)("v-select"),m=(0,i.g2)("CountdownTimer"),p=(0,i.g2)("v-row"),g=(0,i.g2)("v-data-table"),h=(0,i.g2)("v-container");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",Kt,[Qt,zt,(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.filterTerm=e),placeholder:"Search..."},null,512),[[n.Jo,l.filterTerm]]),(0,i.bF)(p,{style:{height:"100px"}},{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"d-flex align-center"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{href:"tel:+601116331800",color:"success",small:"",icon:""},{default:(0,i.k6)((()=>[(0,i.bF)(s,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-phone-in-talk")])),_:1})])),_:1})])),_:1}),(0,i.bF)(u,{class:"d-flex align-center"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{onClick:r.printTable},{default:(0,i.k6)((()=>[(0,i.eW)("Print PDF")])),_:1},8,["onClick"])])),_:1}),(0,i.bF)(u,{class:"d-flex align-center"},{default:(0,i.k6)((()=>[Yt])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(d,{modelValue:o.selectedUser,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedUser=e),items:l.users,"item-text":"text","item-value":"value",label:"Select a user"},null,8,["modelValue","items"])])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("input",{class:"bordered-input",type:"text",id:"findValue","onUpdate:modelValue":t[2]||(t[2]=e=>l.findValue=e)},null,512),[[n.Jo,l.findValue]])])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.Lk)("button",{class:"bordered-input",onClick:t[3]||(t[3]=(...e)=>r.jumpToIndex&&r.jumpToIndex(...e))},"By Row No.")])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.Lk)("button",{class:"bordered-input",onClick:t[4]||(t[4]=(...e)=>r.findNumber&&r.findNumber(...e))},"By Phone Number")])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.Lk)("button",{class:"bordered-input",onClick:t[5]||(t[5]=(...e)=>r.findName&&r.findName(...e))},"By Name")])),_:1}),(0,i.bF)(u,{class:"d-flex align-right"},{default:(0,i.k6)((()=>[(0,i.bF)(m,{ref:"countdown",seconds:5,onCountdownFinish:r.countdownFinished},null,8,["onCountdownFinish"])])),_:1})])),_:1}),(0,i.bF)(h,null,{default:(0,i.k6)((()=>[(0,i.bF)(g,{pagination:!1,headers:[{title:"Msg"},{title:"No"},{title:"project"},{title:"source"},{title:"name"},{title:"Phone"},{title:"Occupation"},{title:"Email"},{title:"Message"}],items:[r.currentContact],class:"elevation-1","hide-default-footer":""},{item:(0,i.k6)((({item:e})=>[(0,i.Lk)("tr",null,[(0,i.Lk)("td",Zt,[(0,i.bo)((0,i.Lk)("input",{type:"text",id:"sendmsg","onUpdate:modelValue":t[6]||(t[6]=e=>l.sendmsg=e)},null,512),[[n.Jo,l.sendmsg]])]),(0,i.Lk)("td",null,(0,v.v_)(e.no),1),(0,i.Lk)("td",null,(0,v.v_)(e.project),1),(0,i.Lk)("td",null,(0,v.v_)(e.source),1),(0,i.Lk)("td",Gt,(0,v.v_)(e.name),1),(0,i.Lk)("td",null,(0,v.v_)(e.phoneNumber),1),(0,i.Lk)("td",ea,[(0,i.bo)((0,i.Lk)("input",{type:"text",id:"sendmsg","onUpdate:modelValue":t=>e.occupation=t},null,8,ta),[[n.Jo,e.occupation]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text",id:"sendmsg","onUpdate:modelValue":t=>e.email=t},null,8,aa),[[n.Jo,e.email]])]),(0,i.Lk)("td",null,(0,v.v_)(e.message),1)])])),bottom:(0,i.k6)((()=>[])),_:1},8,["items"]),(0,i.Lk)("h2",na,(0,v.v_)(r.currentContact.interaction),1)])),_:1})]),ia,oa,la,ra,sa,ca,ua,da,ma,(0,i.bF)(p,{class:"d-flex align-center"},{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.sendwhatsappmessage&&r.sendwhatsappmessage(...e))},"Send via WhatsApp")])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>r.startProcessing&&r.startProcessing(...e))},"Start")])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[pa])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(c,{onClick:r.exportToJSON},{default:(0,i.k6)((()=>[(0,i.eW)("Export to JSON")])),_:1},8,["onClick"])])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(c,{onClick:r.removeDuplicatePhoneNumbers},{default:(0,i.k6)((()=>[(0,i.eW)("Remove Duplicate")])),_:1},8,["onClick"])])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[ga])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.Lk)("input",{"data-v-002fd7de":"",type:"file",accept:".csv",onChange:t[9]||(t[9]=(...e)=>r.loadCSVFile&&r.loadCSVFile(...e)),ref:"fileInput"},null,544)])),_:1})])),_:1}),(0,i.Lk)("div",null,[(0,i.Lk)("input",{type:"file",onChange:t[10]||(t[10]=(...e)=>r.loadJSONFile&&r.loadJSONFile(...e))},null,32),l.error?((0,i.uX)(),(0,i.CE)("div",ha,(0,v.v_)(l.error),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",fa,[(0,i.Lk)("button",{onClick:t[11]||(t[11]=e=>r.sortContacts("phoneNumber")),class:"sort-button"}," Sort by Phone Number ("+(0,v.v_)(l.sortOrder.phoneNumber)+") ",1),(0,i.Lk)("button",{onClick:t[12]||(t[12]=e=>r.sortContacts("name")),class:"sort-button"}," Sort by Name ("+(0,v.v_)(l.sortOrder.name)+") ",1),(0,i.Lk)("button",{onClick:t[13]||(t[13]=e=>r.sortContacts("no")),class:"sort-button"}," Sort by No ("+(0,v.v_)(l.sortOrder.no)+") ",1),(0,i.Lk)("button",{onClick:t[14]||(t[14]=e=>r.sortContacts("status")),class:"sort-button"}," Sort by Status ("+(0,v.v_)(l.sortOrder.status)+") ",1),(0,i.Lk)("button",{onClick:t[15]||(t[15]=e=>r.sortContacts("nextCall")),class:"sort-button"}," Sort by Next Call ("+(0,v.v_)(l.sortOrder.nextCall)+") ",1)])]),(0,i.bF)(g,{id:"tableToPrint",headers:l.headers,items:r.filteredContacts,class:"elevation-1 pdf-container","hide-default-footer":"","items-per-page":1e3},{item:(0,i.k6)((({item:e,index:t})=>[(0,i.Lk)("tr",{class:(0,v.C4)({highlight:o.currentIndex===t}),onClick:e=>r.rowClick(t)},[(0,i.Lk)("td",null,[(0,i.bF)(c,{onClick:e=>r.removeContact(t),color:"error",small:"",icon:""},{default:(0,i.k6)((()=>[(0,i.bF)(s,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-delete")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("td",null,[(0,i.bF)(c,{onClick:t=>r.sendViaWhatsApp(e),color:"primary",small:"",icon:""},{default:(0,i.k6)((()=>[(0,i.bF)(s,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-whatsapp")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("td",null,[(0,i.bF)(c,{onClick:t=>o.makeCall(e),color:"primary",small:"",icon:""},{default:(0,i.k6)((()=>[(0,i.bF)(s,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-phone")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("td",null,(0,v.v_)(e.no),1),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.name=t},null,8,ba),[[n.Jo,e.name]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.language=t},null,8,ka),[[n.Jo,e.language]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.phoneNumber=t},null,8,ya),[[n.Jo,e.phoneNumber]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t=>e.interaction=t},null,8,Ca),[[n.Jo,e.interaction]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.status=t},null,8,Fa),[[n.Jo,e.status]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.doc=t},null,8,wa),[[n.Jo,e.doc]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.called=t},null,8,Ia),[[n.Jo,e.called]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.contacted=t},null,8,La),[[n.Jo,e.contacted]])]),(0,i.Lk)("td",null,(0,v.v_)(e.date),1),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t=>e.lastCall=t},[xa,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.availableDates,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,v.v_)(e),9,Ua)))),128))],8,Ra),[[n.u1,e.lastCall]])]),(0,i.Lk)("td",null,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t=>e.nextCall=t},[Sa,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.availableDates,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,v.v_)(e),9,Ma)))),128))],8,Ea),[[n.u1,e.nextCall]])]),(0,i.Lk)("td",Na,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.na1=t},null,8,_a),[[n.Jo,e.na1]])])],10,va)])),_:1},8,["headers","items"])])}a(3375),a(9225),a(3972),a(9209),a(5714),a(7561),a(6197),a(4603),a(7566),a(8721);var Oa=a(8055),Pa=a.n(Oa),$a=a(3833),Aa=a.n($a),Da=a(4809),Va=a.n(Da);function Ba(e,t,a,n,o,l){const r=(0,i.g2)("v-card-title"),s=(0,i.g2)("v-card-subtitle"),c=(0,i.g2)("v-btn"),u=(0,i.g2)("v-card-actions"),d=(0,i.g2)("v-text-field"),m=(0,i.g2)("v-card");return(0,i.uX)(),(0,i.Wv)(m,{class:"mx-auto","max-width":"400"},{default:(0,i.k6)((()=>[(0,i.bF)(r,null,{default:(0,i.k6)((()=>[(0,i.eW)("Countdown Timer")])),_:1}),o.timeRemaining>0?((0,i.uX)(),(0,i.Wv)(s,{key:0},{default:(0,i.k6)((()=>[(0,i.eW)((0,v.v_)(o.timeRemaining)+" seconds remaining",1)])),_:1})):((0,i.uX)(),(0,i.Wv)(s,{key:1},{default:(0,i.k6)((()=>[(0,i.eW)("Time's up! Restarting...")])),_:1})),(0,i.bF)(s,null,{default:(0,i.k6)((()=>[(0,i.eW)("Send Count: "+(0,v.v_)(o.restartCount),1)])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(c,{onClick:l.startCountdown,disabled:o.isRunning||o.restartCount>=o.maxRestarts},{default:(0,i.k6)((()=>[(0,i.eW)("Start")])),_:1},8,["onClick","disabled"]),(0,i.bF)(c,{onClick:l.stopCountdown,disabled:!o.isRunning},{default:(0,i.k6)((()=>[(0,i.eW)("Stop")])),_:1},8,["onClick","disabled"])])),_:1}),(0,i.bF)(d,{modelValue:o.maxRestarts,"onUpdate:modelValue":t[0]||(t[0]=e=>o.maxRestarts=e),label:"Max Sends",type:"number",min:"1"},null,8,["modelValue"])])),_:1})}var Wa={name:"CountdownTimer",props:{seconds:{type:Number,required:!0},onCountdownFinish:{type:Function,default:null}},data(){return{timeRemaining:this.seconds,intervalId:null,restartTimeout:null,isRunning:!1,maxRestarts:0,restartCount:0}},methods:{startCountdown(){this.isRunning=!0,this.timeRemaining=this.seconds+Math.floor(30*Math.random())+1,this.intervalId=setInterval((()=>{this.timeRemaining>0?this.timeRemaining-=1:this.handleCountdownFinish()}),1e3)},stopCountdown(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout),this.isRunning=!1,this.restartCount=0},handleCountdownFinish(){clearInterval(this.intervalId),this.onCountdownFinish&&this.onCountdownFinish(),this.isRunning&&this.restartCount<this.maxRestarts?(this.restartCount+=1,this.restartTimeout=setTimeout((()=>{this.startCountdown()}),1e3)):this.isRunning=!1}},beforeUnmount(){clearInterval(this.intervalId),clearTimeout(this.restartTimeout)}};const ja=(0,p.A)(Wa,[["render",Ba],["__scopeId","data-v-c82f36f8"]]);var Ha=ja;const Xa=Xe.J1`
  # Write your query or mutation here
mutation(
  $id: ID!
  $no: Int
  $user: String
  $name: String
  $phoneNumber: String
  $status: String
  $interaction: String
  $lastCall: DateTime
  $nextCall: DateTime
) {
  updateMakeCall(
    id: $id
    data: {
      user: $user
      name: $name
      phoneNumber: $phoneNumber
      status: $status
      interaction: $interaction
      lastCall: $lastCall
      nextCall: $nextCall
      no: $no
    }
  ) {
    # Define the fields you want to be returned here

    data{
      id
      attributes{
    name
    phoneNumber
    status
    interaction
    lastCall
    nextCall
    no
    }
    }
  }
}

`;var qa={name:"ContactList",props:{projectKey:{type:String,required:!0},enDate:{type:String,required:!0}},components:{vSelect:window["vue-select"],CountdownTimer:Ha},setup(){const e=(0,u.KR)([]),t=(0,u.KR)(0),a=(0,u.KR)(!1),n=(0,u.KR)(null);(0,i.sV)((()=>{const e=localStorage.getItem("currentIndex");null!==e&&(t.value=parseInt(e,10)),n.value=localStorage.getItem("user")})),(0,i.wB)(t,(e=>{if(null===e){const e=localStorage.getItem("currentIndex");null!==e&&(t.value=parseInt(e,10))}else localStorage.setItem("currentIndex",e)})),(0,i.wB)(n,(e=>{localStorage.setItem("user",e)}));const o=()=>{const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return`${t}/${a}/${n}`},l=e=>{let[t,a,n]=e.replaceAll("/","-").split("-");return t<1e3?(a=a.padStart(2,"0"),t=t.padStart(2,"0"),`${n}-${a}-${t}T00:00:00Z`):`${t}-${a}-${n}T00:00:00Z`},{mutate:r}=(0,He.n_)(Xa),s=async a=>{try{await new Promise((e=>setTimeout(e)));let{name:e,phoneNumber:t,status:i,interaction:s,lastCall:c,nextCall:u,no:d}=a;c=l(c),u=l(u);let m=n,p=0;"alyssa"===m.value.toLowerCase()&&(p=3),"alvin"===m.value.toLowerCase()&&(p=4),"ashton"===m.value.toLowerCase()&&(p=2);const g={id:p,user:m.value,name:e,phoneNumber:t,status:i,interaction:s,lastCall:c,nextCall:u,no:d};await r(g),a.called=function(e){const t=parseInt(e,10);return isNaN(t)?1:t+1}(a.called),a.date=o()}catch(i){console.error("Error updating callme:",i)}t.value=e.value.findIndex((e=>e.no===a.no))},c=()=>{if(console.log("Attempting to save data to local storage..."),a.value)try{const t={contacts:e.value};localStorage.setItem("appData",JSON.stringify(t)),console.log("Data saved to local storage:",t)}catch(t){console.error("Error saving to local storage:",t)}else console.log("Data not saved: dataRestored.value is false")},d=()=>{console.log("Attempting to restore data from local storage...");const t=localStorage.getItem("appData");if(t)try{console.log("Saved data found in local storage:",t);const n=JSON.parse(t);e.value=n.contacts||[],a.value=!0,console.log("Data restored from local storage:",n)}catch(n){console.error("Error parsing data from local storage:",n)}else console.log("No saved data found in local storage.")};(0,i.sV)((()=>{d()})),(0,i.nT)((()=>{console.log("watchEffect triggered, contacts:",e.value)}));let m=Pa()(e.value);return(0,i.wB)(e,(e=>{console.log("Contacts changed");let t=!1;if(e.length!==m.length)t=!0;else for(let a=0;a<e.length;a++){const n=e[a],i=m[a];if(!n||!i){t=!0;break}for(const e in n)if(n[e]!==i[e]){console.log(`Field '${e}' in contact ${n.id} changed`),t=!0;break}if(t)break}t&&(a.value=!0,c(),m=Pa()(e))}),{deep:!0}),{restoreDataFromLocalStorage:d,makeCall:s,contacts:e,currentIndex:t,selectedUser:n}},mounted(){this.loadMessageFiles()},data(){return{filterTerm:"",sortOrder:{phoneNumber:"asc",name:"asc",no:"asc",status:"asc",nextCall:"asc"},users:["Alyssa","Ashton","Alvin"],countries:[{country:"Spain"},{country:"France"},{country:"Ghana"},{country:"Nigeria"},{country:"Brazil"},{country:"Ecuador"}],headers:[{text:"",title:"",value:"remove",width:"2%"},{text:"",title:"",value:"send",width:"2%"},{text:"",title:"",value:"call",width:"2%"},{text:"No",title:"No",value:"no",width:"3%"},{text:"Name",title:"Name",value:"name",width:"12%"},{text:"Language",title:"Lgn.",value:"language",width:"3%"},{text:"Phone",title:"Phone",value:"phoneNumber",width:"12%"},{text:"Interaction",title:"Interaction",value:"interaction",width:"26%"},{text:"Status",title:"Status",value:"status",width:"10%"},{text:"Doc",title:"Doc",value:"doc",width:"5%"},{text:"Called",title:"Called",value:"called",width:"4%"},{text:"Contacted",title:"Contacted",value:"contacted",width:"3%"},{text:"Dial Date",title:"Dial",value:"date",width:"5%"},{text:"Last Called Date",title:"Last Call",value:"lastCall",width:"7%"},{text:"Next Call",title:"Next_Call",value:"nextCall",width:"7%"},{text:"Next Action",title:"Next Action",value:"na1",width:"5%"}],availableDates:this.generateDateOptions(),messageEn:[],messageCn:[],messageBs:[],phoneNumber:"",sendmsg:"",whatsappmessage:"",findValue:null,error:null}},computed:{currentContact(){return this.contacts[this.currentIndex]||{}},filteredContacts(){return""===this.filterTerm?this.contacts:"dup"===this.filterTerm.toLowerCase()?this.getDuplicateRecords():this.contacts.filter((e=>{const t=[e.name,e.phoneNumber,e.status];return t.some((e=>e.toString().toLowerCase().includes(this.filterTerm.toLowerCase())))}))}},methods:{removeContact(e){const t=this.filteredContacts[e],a=confirm(`Are you sure you want to delete the contact: ${t.name} (${t.phoneNumber})?`);if(a){const e=this.contacts.findIndex((e=>e===t));console.log("Removing contact at original index:",e),console.log("Contact:",this.contacts[e]),-1!==e&&this.contacts.splice(e,1)}else console.log("Contact removal canceled.")},getDuplicateRecords(){const e=this.contacts.reduce(((e,t)=>{const a=t.phoneNumber.trim();return a&&(e[a]=(e[a]||0)+1),e}),{}),t=Object.keys(e).filter((t=>e[t]>1));return this.contacts.filter((e=>t.includes(e.phoneNumber.trim())))},stopCountdownFromParent(){this.$refs.countdown.stopCountdown()},async sendMessage(){this.currentIndex=0;while(this.currentIndex<this.contacts.length){if("send"!==this.contacts[this.currentIndex].status.trim()&&this.contacts[this.currentIndex].phoneNumber.trim().length>0){const t=this.contacts[this.currentIndex];let a="e";void 0!==t.language&&""!==t.language.trim()&&(a=t.language);try{let e="!"+a+this.sendmsg,n=this.getmessage(e,t);t.status="send",void 0!==t.doc?t.doc=this.sendmsg+t.doc:t.doc=this.sendmsg;const i=await R.A.post("http://localhost:3000/send-message",{number:t.phoneNumber,message:n});if(!i.data.success)return alert("Failed to send message: "+i.data.error),t.status="error 1 send",void this.$refs.countdown.stopCountdown()}catch(e){return console.error("Error:",e),t.status="error 2 send",alert("An error occurred: "+e.message),void this.$refs.countdown.stopCountdown()}this.currentIndex++;break}this.currentIndex++}this.currentIndex>=this.contacts.length&&(this.$refs.countdown.stopCountdown(),alert("send whatapp message completed"))},isVisible(e){return"showAll"===this.filter||e.phoneNumber&&e.phoneNumber.includes(this.searchTerm)},countdownFinished(){console.log("Countdown finished!"),this.sendMessage()},sortContacts(e){"asc"===this.sortOrder[e]?(this.contacts.sort(((t,a)=>t[e]<a[e]?-1:t[e]>a[e]?1:0)),this.sortOrder[e]="desc"):(this.contacts.sort(((t,a)=>t[e]<a[e]?1:t[e]>a[e]?-1:0)),this.sortOrder[e]="asc")},printTable(){Aa()(document.getElementById("tableToPrint"),{filename:"myFilename.pdf",jsPDF:{unit:"in",format:"A3",orientation:"landscape",html2canvas:{scale:2}}})},rowClick(e){this.currentIndex=this.currentIndex===e?null:e},generateDateOptions(){const e=[],t=new Date;for(let a=0;a<30;a++){const n=new Date(t);n.setDate(t.getDate()+a);const i=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),l=n.getFullYear(),r=`${i}/${o}/${l}`;e.push(r)}return e},addPlus(e){return"60"===e.substring(0,2)&&(e="+"+e),e.replaceAll("@","")},formatString(e){return void 0===e?"":(e=e.replace(/\D/g,""),e.length<=12?e.padEnd(12,"_"):e.slice(0,12))},loadMessageFiles(){this.loadTextFile("/messageEn.txt","messageEn"),this.loadTextFile("/messageCn.txt","messageCn")},loadTextFile(e,t){fetch(e).then((e=>e.text())).then((a=>{console.log(`File loaded successfully: ${e}`),console.log(`Data: ${a}`);const n=a.split("\n"),i=[];let o={code:"",msg:""};"undefined"!==this.projectKey?(n.forEach((e=>{if(!e.startsWith("_"))if(e.startsWith("@")){""!==o.code&&i.push(o);const[t,a]=e.split("|");o={code:t.trim().substring(1),msg:a.trim()+"\n"}}else o.msg+=e.trim().replaceAll("$plink","https://alvintkb.github.io/?p=gyp"+this.enDate+"$phone"+this.projectKey)+"\n"})),""!==o.code&&i.push(o),this[t].splice(0,this[t].length,...i),0==this[t].length&&alert("Error! "+t+" no data")):alert("ProjectKey Not defined")})).catch((e=>{console.error("Error loading text file:",e)}))},sendmessage(){if(this.phoneNumber&&this.whatsappmessage){let e=this.getmessage(this.whatsappmessage);const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);const a=this.cleanPhoneNumber(this.phoneNumber),n=`https://api.whatsapp.com/send?phone=${a}&text=${encodeURIComponent(e)}`;window.open(n,"_blank")}else alert("Please enter both telephone number and WhatsApp message.")},jumpToIndex(){this.findValue>=0&&this.findValue<this.contacts.length?this.currentIndex=this.findValue-1:console.error("Invalid index.")},findContactByNumber(e){return this.contacts.find((t=>t.phoneNumber.includes(e)))},findNumber(){const e=this.findContactByNumber(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t}else console.error("No contact found with phone number containing",this.findValue)},findName(){const e=this.findByName(this.findValue);if(e){let t=this.contacts.indexOf(e);this.currentIndex=t}else console.error("No contact found with this name containing",this.findValue)},findByName(e){return this.contacts.find((t=>t.name.toLowerCase().includes(e.toLowerCase())))},camelize(e){return e.replace(/(?:^\w|[-\s]\w)/g,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")},sendViaWhatsApp(e){this.validateInput(this.sendmsg)||(this.sendmsg="a0");const{phoneNumber:t,language:a}=e;var n="!"+(a||"e")+this.sendmsg;let i=this.getmessage(n,e);const o=document.createElement("textarea");o.value=i,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o);const l=this.cleanPhoneNumber(t),r=`https://api.whatsapp.com/send?phone=${l}&text=${encodeURIComponent(i)}`;window.open(r,"_blank"),this.contacts[this.currentIndex].doc.lenght>0?this.contacts[this.currentIndex].doc+=","+this.sendmsg:this.contacts[this.currentIndex].doc+=this.sendmsg,this.currentIndex=this.contacts.findIndex((t=>t.no===e.no))},sendwhatsappmessage(){const{phoneNumber:e,na1:t,name:a,message:n}=this.currentContact;if("w"===t){if(this.validateInput(t)){let t=this.getmessage(n);t=t.replaceAll("@name",a),t=t.replaceAll("$phone",this.formatString(this.contacts[this.currentIndex].phoneNumber));const i=document.createElement("textarea");i.value=t,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i);const o=this.cleanPhoneNumber(e),l=`https://api.whatsapp.com/send?phone=${o}&text=${encodeURIComponent(t)}`;window.open(l,"_blank"),this.moveToNextContact()}}else this.moveToNextContact()},getmessage(e,t){let a="";return"!c"===e.slice(0,2)?a=this.messageCn.find((t=>t.code===e.slice(1))).msg:"!e"===e.slice(0,2)||"!b"===e.slice(0,2)?0==this.messageEn.length?(alert("No Data"),a=""):a=this.messageEn.find((t=>t.code===e.slice(1))).msg:alert("message error on 1st character, only allow e c b:"+e),a=a.replaceAll("@name",t.name),a=a.replaceAll("@project",this.camelize(t.project)),a=a.replaceAll("$phone",this.formatString(t.phoneNumber)),a},validateInput(e){return!!e&&(this.error=null,!0)},moveToNextContact(){let e=0;do{if(this.currentIndex++,this.currentIndex>=this.contacts.length&&(this.currentIndex=0,e++,e>=this.contacts.length))break}while("w"!==this.contacts[this.currentIndex].na1)},startProcessing(){this.currentIndex=0;let e=0;while("w"!==this.contacts[this.currentIndex].na1)if(this.moveToNextContact(),e++,e>=this.contacts.length)break},loadJSONFile(e){const t=e.target.files[0];if(!t)return void(this.error="Please select a file.");localStorage.removeItem("appData"),this.contacts=[];const a=new FileReader;a.onload=e=>{try{const t=JSON.parse(e.target.result);this.contacts=t.map(((e,t)=>({no:t+1,name:e.name?e.name.trim():"",language:e.language?e.language.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?String(e.email).trim():"",status:e.status?e.status.trim():"",date:e.date?e.date.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",doc:e.doc?e.doc.trim():"",called:e.called?String(e.called).trim():"0",contacted:e.contacted?String(e.contacted).trim():"0",occupation:e.occupation?e.occupation.trim():"",na1:e.na1?e.na1.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900",edit:!1,editField:""}))),this.contacts.sort(((e,t)=>e.phoneNumber<t.phoneNumber?-1:e.phoneNumber>t.phoneNumber?1:0)),this.removeDuplicatePhoneNumbers()}catch(t){console.error("Error parsing JSON file:",t),this.error="Error parsing JSON file."}},a.onerror=e=>{console.error("Error reading file:",e),this.error="Error reading file."},a.readAsText(t)},formatPhoneNumber(e){return e.startsWith("@")?e:"@"+e},removeDuplicatePhoneNumbers(){const e=new Set;this.contacts=this.contacts.filter((t=>!(!t.phoneNumber||e.has(t.phoneNumber))&&(e.add(t.phoneNumber),!0)))},loadCSVFile(e){const t=e.target.files[0];if(!t)return void(this.error="Please select a file.");const a=new FileReader;a.onload=e=>{const t=e.target.result;Va().parse(t,{header:!0,complete:e=>{const t=e.data.map(((e,t)=>({no:t+1,name:e.name?e.name.trim():"",phoneNumber:e.phoneNumber?this.addPlus(e.phoneNumber.trim()):"",email:e.email?e.email.trim():"",status:e.status?e.status.trim():"",date:e.date?e.date.trim():"1-1-1900",project:e.project?e.project.trim():"",source:e.source?e.source.trim():"",occupation:e.occupation?e.occupation.trim():"",na1:e.na1?e.na1.trim():"",message:e.message?e.message.trim():"",interaction:e.interaction?e.interaction.trim():"",nextCall:e.nextCall?e.nextCall.trim():"1-1-1900",lastCall:e.lastCall?e.lastCall.trim():"1-1-1900",edit:!1,editField:""})));this.promptUser(t),this.resetFileInput()},error:e=>{console.error("Error parsing CSV file:",e),this.error="Error parsing CSV file.",this.resetFileInput()}})},a.readAsText(t)},resetFileInput(){this.$refs.fileInput.value=""},promptUser(e){confirm('Do you want to overwrite the existing contacts? Click "OK" to overwrite, "Cancel" to append.')?this.contacts=e:this.contacts=[...this.contacts,...e]},exportToJSON(){const e=JSON.stringify(this.contacts,null,2),t=new Blob([e],{type:"application/json;charset=utf-8;"}),a=document.createElement("a"),n=URL.createObjectURL(t);a.setAttribute("href",n),a.setAttribute("download","contacts.json"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},editField(e,t){e.edit=!0,e.editField=t},saveField(e){e.edit=!1,e.editField=""}}};const Ja=(0,p.A)(qa,[["render",Ta],["__scopeId","data-v-a6fbc988"]]);var Ka=Ja;const Qa=[{path:"/main",name:"MainPage",component:qt,meta:{requiresAuth:!1}},{path:"/home",name:"HomePage",component:ft,meta:{requiresAuth:!1}},{path:"/",name:"ContactList",component:Ka,meta:{requiresAuth:!1}},{path:"/business",name:"BusinessPage",component:Pt,meta:{requiresAuth:!1}},{path:"/winback",name:"WinbackPage",component:Wt,meta:{requiresAuth:!1}},{path:"/about",name:"AboutPage",component:wt,meta:{requiresAuth:!1}}],za=(0,f.aE)({history:(0,f.Bt)(),routes:Qa});za.beforeEach(((e,t,a)=>{const n="true"===localStorage.getItem("authenticated");e.matched.some((e=>e.meta.requiresAuth))&&!n?a("/"):a()}));var Ya=za,Za=a(4825),Ga=a(2938),en=a(3379),tn=(a(5524),a(1193)),an=a(8417),nn=a(88);const on=(0,tn.$)({uri:"https://sp412b-763ef468411d.herokuapp.com/graphql"}),ln=new an.R({link:on,cache:new nn.D});(0,He._5)(ln);const rn=(0,n.Ef)(h),sn=(0,Za.$N)({components:Ga,directives:en});rn.use(Ya),rn.use(sn),rn.mount("#app")}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,o){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var r=!0,s=0;s<n.length;s++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(r=!1,o<l&&(l=o));if(r){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var o=Object.create(null);a.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var r=2&i&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){l[e]=function(){return n[e]}}));return l["default"]=function(){return n},a.d(o,l),o}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{109:"491f35ec",838:"93dcc815"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue5:";a.l=function(n,i,o,l){if(e[n])e[n].push(i);else{var r,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){r=d;break}}r||(s=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+o),r.src=n),e[n]=[i];var m=function(t,a){r.onerror=r.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),s&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/unify/"}(),function(){var e={524:0};a.f.j=function(t,n){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((function(a,n){i=e[t]=[a,n]}));n.push(i[2]=o);var l=a.p+a.u(t),r=new Error,s=function(n){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",r.name="ChunkLoadError",r.type=o,r.request=l,i[1](r)}};a.l(l,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,l=n[0],r=n[1],s=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(s)var u=s(a)}for(t&&t(n);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunkvue5"]=self["webpackChunkvue5"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(5467)}));n=a.O(n)})();
//# sourceMappingURL=app.83230fdb.js.map